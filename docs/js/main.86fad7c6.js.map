{"version":3,"file":"js/main.86fad7c6.js","mappings":";6JAAA,IAEaA,EA6BD,CACAC,QAAS,UACTC,UAAW,UACXC,QAAS,+BACTC,UAAW,kCACXC,UAAW,kCACXC,YAAa,qCAYZC,EAQD,mCAICC,EAQD,6CCrEPC,mBAAK,SAALA,GAAAA,EAAK,cAALA,EAAK,eAALA,IAAAA,EAAK,KAKV,wECFA,mBACE,IAAQC,GAAUC,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMF,KAAK,IAA/CA,MACR,OAAO,SAACG,GAAS,OAAKA,EAAIH,EAAM,CACjC,itCCHD,YAAMI,GAAc,OACjBC,EAAAA,EAAAA,MAAc,kBAAgB,IAC9BA,EAAAA,EAAAA,MAAc,oCAAkC,soBCFnD,UAAMC,GAAc,OACjBD,EAAAA,EAAAA,MAAc,OAAK,IACnBA,EAAAA,EAAAA,MAAc,YAAU,GAGrBE,GAAe,OAClBF,EAAAA,EAAAA,MAAc,MAAI,IAClBA,EAAAA,EAAAA,MAAc,aAAW,GAGtBG,GAAc,OACjBH,EAAAA,EAAAA,MAAc,MAAI,IAClBA,EAAAA,EAAAA,MAAc,YAAU,GAGrBI,GAAY,OACfJ,EAAAA,EAAAA,MAAc,OAAK,IACnBA,EAAAA,EAAAA,MAAc,UAAQ,soBCjBzB,UAAMK,GAAW,OACdL,EAAAA,EAAAA,MAAc,QAAM,IACpBA,EAAAA,EAAAA,MAAc,mBAAiB,GAG5BM,GAAW,OACdN,EAAAA,EAAAA,MAAc,MAAI,IAClBA,EAAAA,EAAAA,MAAc,UAAQ,GAGnBO,GAAkB,OACrBP,EAAAA,EAAAA,MAAc,OAAK,IACnBA,EAAAA,EAAAA,MAAc,gBAAc,soBCZ/B,MAAMQ,GAAuB,OAC1BR,EAAAA,EAAAA,MAAc,QAAM,IACpBA,EAAAA,EAAAA,MAAc,sBAAoB,GAG/BS,GAAgB,OACnBT,EAAAA,EAAAA,MAAc,QAAM,IACpBA,EAAAA,EAAAA,MAAc,cAAY,GAGvBU,GAAY,OACfV,EAAAA,EAAAA,MAAc,MAAI,IAClBA,EAAAA,EAAAA,MAAc,UAAQ,soBCZzB,YAAMW,GAAY,OACfX,EAAAA,EAAAA,MAAc,QAAM,IACpBA,EAAAA,EAAAA,MAAc,kBAAgB,soBCFjC,MAAMW,GAAY,OACfX,EAAAA,EAAAA,MAAc,WAAS,IACvBA,EAAAA,EAAAA,MAAc,6BAA2B,GAGtCY,IAAa,OAChBZ,EAAAA,EAAAA,MAAc,MAAI,IAClBA,EAAAA,EAAAA,MAAc,WAAS,GAGpBa,IAAgB,OACnBb,EAAAA,EAAAA,MAAc,UAAQ,IACtBA,EAAAA,EAAAA,MAAc,iBAAe,GAG1Bc,IAAe,OAClBd,EAAAA,EAAAA,MAAc,OAAK,IACnBA,EAAAA,EAAAA,MAAc,aAAW,6oBCjB5B,UAAMe,IAAgB,QACnBf,EAAAA,EAAAA,MAAc,QAAM,KACpBA,EAAAA,EAAAA,MAAc,qBAAmB,6oBCFpC,IAAMgB,IAAU,SACbhB,EAAAA,EAAAA,MAAc,MAAI,MAClBA,EAAAA,EAAAA,MAAc,QAAM,IAGjBiB,IAAW,SACdjB,EAAAA,EAAAA,MAAc,MAAI,MAClBA,EAAAA,EAAAA,MAAc,SAAO,8HCRlBkB,YAAY,QAElB,SAAeC,WAAAA,GAAY,CACzBC,QAAS,CACPC,QAAS,CAEPC,KAAM,SAGVC,WAAY,CACVC,WAAY,CAAC,IAAIC,KAAK,KACtBC,MAAO,CACLC,MAAOT,GAGTU,GAAI,CACFD,MAAOT,GAETW,GAAI,CACFF,MAAOT,GAETY,GAAI,CACFH,MAAOT,GAETa,GAAI,CACFJ,MAAOT,GAETc,GAAI,CACFL,MAAOT,GAETe,GAAI,CACFN,MAAOT,6dCRb,mBACE,OAA+CtB,EAAAA,EAAAA,KAC7C,SAACC,GAAK,OAAKA,EAAMqC,IAAI,IADfC,EAAS,EAATA,UAAWlC,EAAQ,EAARA,SAAUmC,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QAG3BC,GAAkB1C,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAM0C,OAAO,IAAzDD,cAEFE,GAAWC,EAAAA,EAAAA,MAEX9C,GAAQ+C,EAAAA,EAAAA,KAEoD,06BAAlCC,EAAAA,EAAAA,UAA6B,MAAK,GAA3DC,EAAQ,KAAEC,EAAW,KAEtBC,EAAc,SAACC,GACnBF,EAAY,MACZL,GAASQ,EAAAA,EAAAA,GAASD,GACpB,EAEA,OACE,gBAACE,EAAA,EAAG,KAEF,gBAACC,EAAA,EAAM,CAACvB,MAAM,cAAcwB,SAAS,UACnC,gBAACC,EAAA,EAAO,KACN,gBAACH,EAAA,EAAG,CAACI,GAAI,CAAEC,SAAU,EAAG3B,MAAO,SAAWU,IAAWC,aAAa,EAAbA,EAAeiB,OACpE,gBAACC,EAAA,EAAU,CACTC,KAAK,QACLC,KAAK,QACL/B,MAAM,UACN,aAAW,OACX0B,GAAI,CAAEM,GAAI,GACVC,QAAS,SAACC,GAAK,OAAKhB,EAAYgB,EAAMC,cAAc,GAEpD,gBAACC,EAAA,EAAY,OAEf,gBAACC,EAAA,EAAI,CACHpB,SAAUA,EACVqB,OAAQrB,EACRsB,QAAS,kBAAMrB,EAAY,KAAK,GAEhC,gBAACsB,EAAA,EAAQ,CACPd,GAAI,CAAE1B,MAAO,QACbiC,QAAS,kBAAMd,EAAY9C,EAAAA,EAAAA,MAAY,GAAC,QAI1C,gBAACmE,EAAA,EAAQ,CACPd,GAAI,CAAE1B,MAAO,QACbiC,QAAS,kBAAMd,EAAY9C,EAAAA,EAAAA,MAAY,GAAC,YAK3CoC,EACCC,EACE,gBAAC+B,EAAA,EAAM,CACLzC,MAAM,UACN0B,GAAI,CAAEgB,cAAe,QACrBC,UACE,uBACEC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAChCC,IAAG,+BAA0BvC,KAGjCyB,QAAS,kBAAMpB,GAASmC,EAAAA,EAAAA,KAAa,GAAM,GAE1C1E,GAGH,iCAGF,gBAACmE,EAAA,EAAM,CACLzC,MAAM,UACNiC,QAAS,kBAAMpB,GAASoC,EAAAA,EAAAA,KAAc,GAAM,GAE3CjF,EAAMkF,EAAAA,GAAAA,MAOpB,EChGD,IAAMC,GAAQC,EAAAA,EAAAA,OAAK,kBAAM,keAA2B,IAEpD,mBACE,OAA8BnF,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMmF,MAAM,IAA5DC,EAAQ,EAARA,SAAUC,EAAO,EAAPA,QAElB,OACE,gBAACjC,EAAA,EAAG,CACFI,GAAI,CACF8B,QAAS,SAGX,gBAAC,EAAAC,SAAQ,KAAEF,GAAW,gBAACJ,EAAK,OAC5B,gBAAC7B,EAAA,EAAG,CACFI,GAAI,CACFgC,KAAM,IAGPJ,GAAY,gBAACK,EAAM,MACpB,gBAACrC,EAAA,EAAG,KACF,gBAAC,KAAM,QAKhB,EC9BM,IAAMsC,EAAW,SAACC,GACvB,OAAO,gBAAC,EAAAJ,SAAQ,CAACK,SAAU,kCAAQD,EACrC,aCIME,GAASX,EAAAA,EAAAA,OAAK,kBAAM,8gBAA4B,IAKtD,iBAAe,GAAuC,IAApCS,EAAQ,EAARA,SACVG,GAAWC,EAAAA,EAAAA,MAEjB,GAA4BhG,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMmF,MAAM,IAA1DzB,EAAI,EAAJA,KAAMsC,EAAS,EAATA,UAERrD,GAAWC,EAAAA,EAAAA,MAETqD,GAAelG,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMc,MAAM,IAArDmF,WACR,GAA0BlG,EAAAA,EAAAA,KAAe,SAACmG,GAAK,OAAKA,EAAM7D,IAAI,IAAtDE,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QASd,OAPA2D,EAAAA,EAAAA,YAAU,WACR,IAAMC,EDlBoB,SAACC,GAC7B,GAAIA,KAAQC,EAAU,OAAOA,EAASD,GACtC,IAAME,EAAQF,EAAKG,MAAM,KAEzB,IADAD,EAAME,MACCF,EAAMG,OAAS,GAAG,CACvB,IAAMC,EAAWJ,EAAM3E,KAAK,KAC5B,GAAI+E,KAAYL,GACGA,EAASK,GAAlBjD,KACC8C,MAAM,KAAKE,SAAWL,EAAKG,MAAM,KAAKE,OAAQ,OAAOJ,EAASK,GAEzEJ,EAAME,KACR,CACF,CCMsBG,CAAed,EAASe,UACtCT,GAAa1C,IAAS0C,EAAU1C,MAClCf,GAASmE,EAAAA,EAAAA,GAAUV,GAEvB,GAAG,CAACN,IAGF,gCACGpC,GAAQuC,EACPD,EACEzD,EACEC,GAAiC,WAAtBsD,EAASe,SAClBlB,EAEA,gBAAC,KAAQ,CAACoB,GAAG,WAIf,gBAAC,KAAQ,CAACA,GAAG,aAGfpB,EAGF,iCACC,IACH,gBAAC,EAAAJ,SAAQ,KACP,gBAACM,EAAM,OAId,ECpDD,IAAMmB,GAAO9B,EAAAA,EAAAA,OAAK,kBAAM,gTAA2B,IAC7C+B,GAAU/B,EAAAA,EAAAA,OAAK,kBAAM,wDAA8B,IACnDgC,GAAQhC,EAAAA,EAAAA,OAAK,kBAAM,gNAA4B,IAuBxCiC,EAAwB,CACnC,CACEC,OAAO,EACPC,QAAS3B,EAAS,gBAACsB,EAAI,QAEzB,CACEX,KAAM,WACNgB,QAAS3B,EAAS,gBAACuB,EAAO,QAE5B,CACEZ,KAAM,SACNgB,QAAS3B,EAAS,gBAACwB,EAAK,o9BC9BrB,MAeD/B,EAAwB,CAC5B,CACEkB,KAAM,IACNgB,QAAS,gBAACC,EAAc,CAAC3B,SAAU,gBAAC4B,EAAM,QAC1C5B,SAAU,GAAF,UACH6B,onBAAM,CACT,CACEnB,KAAM,IACNgB,QAAS,gBAAC,KAAQ,CAACN,GAAG,WAMjBT,iWAAsB,CAAH,GD/BR,CACtB,IAAK,CACH5C,KAAM,IACNsC,WAAW,EACXZ,UAAU,EACVC,SAAS,GAEX,WAAY,CACV3B,KAAM,WACNsC,WAAW,EACXZ,UAAU,EACVC,SAAS,GAEX,SAAU,CACR3B,KAAM,SACNsC,WAAW,EACXZ,UAAU,EACVC,SAAS,KCkBb,yBC5BA,mBACE,IAAMoC,GAAcC,EAAAA,EAAAA,QAAyB,MAEvC/E,GAAWC,EAAAA,EAAAA,MAMjB,OAJAuD,EAAAA,EAAAA,YAAU,WACRxD,GAASsD,EAAAA,EAAAA,MACX,GAAG,IAGD,gBAAC,KAAgB,CACf0B,IAAKF,EACLG,SAAU,EACVC,aAAc,CAAEC,SAAU,MAAOC,WAAY,UAC7CC,kBAAkB,EAClBC,iBAAkB,IAClBC,OAAQ,SAACC,GAAU,OACjB,gBAACxE,EAAA,EAAU,CACT7B,MAAM,UACNiC,QAAS,wBAAyB,QAAzB,EAAM0D,EAAYW,eAAO,aAAnB,EAAqBC,cAAcF,EAAW,GAE7D,gBAACG,EAAA,EAAS,MACC,IAGdC,EAAAA,EAAAA,IAAUC,GAGhB,EC/BD,IAAMC,GAAOC,EAAAA,EAAAA,GAAWC,SAASC,eAAe,SAE1CC,GAAYC,EAAAA,EAAAA,IAAa5C,EAAAA,IAE/B6C,OAAOC,iBAAiB,QAAQ,WAC9BP,EAAKQ,OACH,gBAAC,KAAQ,CAAC/C,MAAOA,EAAAA,IACf,gBAAC,IAAW,CAACgD,QAAS,KAAML,UAAWA,GACrC,gBAAC,KAAU,KACT,gBAACM,EAAA,EAAa,CAACC,MAAOA,GACpB,gBAACC,EAAG,UAMhB,sNCdMC,GAAWC,EAAAA,EAAAA,IAAgB,CAC/BzI,OAAAA,EAAAA,GACAhB,MAAAA,EAAAA,EACAqF,OAAAA,EAAAA,EACAzC,QAAAA,EAAAA,GACAL,KAAAA,EAAAA,GACAmH,OAAAA,EAAAA,GACAC,OAAAA,EAAAA,IAGIC,EAAgB,CACpBC,IAAK,UACLC,QAAAA,EAAAA,EACAC,UAAW,CAAC,SAAU,UAAW,OAAQ,SAAU,WAG/CC,GAAmBC,EAAAA,EAAAA,IAAeL,EAAeJ,GAQvD,SANcU,EAAAA,EAAAA,IAAe,CAC3BC,QAASH,EACTI,WAAY,CAACC,EAAAA,KAUR,IAAMvH,EAAiB,WAAH,OAAsBwH,EAAAA,EAAAA,KAA0B,EAC9DrK,EAAkDsK,EAAAA,oFChCzDZ,GAASa,EAAAA,EAAAA,IAAY,CACzB5G,KAAM,SACN6G,aAP2B,CAC3BC,YAAY,EACZC,UAAU,GAMVnB,SAAU,CACRoB,QAAO,SAAC1K,EAAO,GAAqC,IAAnC2K,EAAO,EAAPA,QACf3K,EAAMyK,SAAWE,CACnB,GAEFC,cAAa,SAACC,GACZA,EAAQC,QAAQC,EAAAA,GAAAA,SAAoB,SAAC/K,GACnCA,EAAMwK,YAAa,CACrB,IACAK,EAAQC,QAAQE,EAAAA,IAAiB,SAAChL,GAChCA,EAAMwK,YAAa,CACrB,IACAK,EAAQC,QAAQG,EAAAA,GAAAA,SAAyB,SAACjL,GACxCA,EAAMwK,YAAa,EACnBxK,EAAMyK,UAAW,CACnB,GACF,IAEaC,EAAYjB,EAAOyB,QAAnBR,QACf,QAAejB,EAAc,86BCnB7B,IAAM0B,EAAsB,GAGtBzI,GAAU4H,WAAAA,IAAY,CAC1B5G,KAAM,UACN6G,aAAc,CACZ7H,QAASyI,EACTC,mBAAoB,EACpB3I,cAAe0I,EAAS,GACxBE,QARsB,IAUxB/B,SAAU,CACRgC,WAAU,SAACtL,EAAO,GAAuC,IAArC2K,EAAO,EAAPA,QAClB3K,EAAM0C,QAAU,EAAIiI,EACtB,EACAY,sBAAqB,SAACvL,EAAO,GAAoC,IAAlC2K,EAAO,EAAPA,QAC7B3K,EAAMoL,mBAAqBT,EAC3B3K,EAAMyC,cAAgBzC,EAAM0C,QAAQiI,EACtC,EACAa,WAAU,SAACxL,EAAO,GAAsC,IAApC2K,EAAO,EAAPA,QAClB3K,EAAMqL,QAAU,EAAIV,EACtB,EACAc,YAAW,SAACzL,EAAO,GAAoC,IAAlC2K,EAAO,EAAPA,QACnB3K,EAAMqL,QAAQK,KAAKf,EACrB,KAGG,EAKHjI,EAAQwI,QAJVI,EAAU,EAAVA,WACAC,EAAqB,EAArBA,sBACAC,EAAU,EAAVA,WACAC,EAAW,EAAXA,YAEF,QAAe/I,EAAe,yFC9CxB5C,GAAQwK,EAAAA,EAAAA,IAAY,CACxB5G,KAAM,QACN6G,aAAc,CACZzK,MAAOK,EAAAA,EAAAA,OAETmJ,SAAU,CACRnG,SAAQ,SAACnD,EAAO,GAAmC,IAAjC2K,EAAO,EAAPA,QAChB3K,EAAMF,MAAQ6K,CAChB,KAGWxH,EAAarD,EAAMoL,QAAnB/H,SACf,QAAerD,EAAa,4ECZtBqF,GAASmF,WAAAA,IAAY,CACzB5G,KAAM,SACN6G,aAAc,CACZ7G,KAAM,GACNsC,WAAW,EACXZ,UAAU,EACVC,SAAS,GAEXiE,SAAU,CACRxC,UAAS,SAAC9G,EAAO,GAA2C,IAAzC2K,EAAO,EAAPA,QACjB3K,EAAQ2L,OAAOC,OAAO5L,EAAO2K,EAC/B,KAGW7D,EAAc3B,EAAO+F,QAArBpE,UACf,QAAe3B,EAAc,mHCGvBoF,EAAqB,CACzBjI,UAAW,iDACXlC,SAAU,GACVoC,SAAS,EACTD,MAAM,EACNsJ,OAAQ,KACRC,YAAY,EACZC,SAAS,EACTC,SAAS,GAEL3J,GAAOiI,EAAAA,EAAAA,IAAY,CACvB5G,KAAM,OACN6G,aAAAA,EACAjB,SAAU,CACR2C,QAAO,SAACjM,EAAO,GAAqC,IAAnC2K,EAAO,EAAPA,QACf3K,EAAQ2L,OAAOC,OAAO5L,EAAO2K,EAAS,CAAEmB,YAAY,GACtD,EACA/G,cAAa,SAAC/E,EAAO,GAAqC,IAAnC2K,EAAO,EAAPA,QACrB3K,EAAQ2L,OAAOC,OAAO5L,EAAO,CAAE8L,WAAYnB,GAC7C,EACAlK,MAAK,SAACT,EAAO,GAAqC,IAAnC2K,EAAO,EAAPA,QACb3K,EAAQ2L,OAAOC,OAAO5L,EAAO2K,EAAS,CAAEnI,SAAS,GACnD,EACA0J,SAAQ,SAAClM,EAAO,GAAqC,IAAnC2K,EAAO,EAAPA,QAChB3K,EAAQ2L,OAAOC,OAAO5L,EAAO,CAAEgM,QAASrB,GAC1C,GAEFC,cAAa,SAACC,GACZA,EAAQC,QAAQ7E,EAAAA,GAAAA,WAAsB,SAACjG,EAAO,GAA4B,IAAf6L,EAAM,EAAjBlB,QAAWkB,OACrDA,IACF7L,EAAQ2L,OAAOC,OAAO5L,EAAO,CAAE6L,OAAAA,EAAQtJ,MAAM,IAEjD,IACAsI,EAAQC,QACNqB,EAAAA,GAAAA,WACA,SAACnM,EAAO,GAA4B,IAAf6L,EAAM,EAAjBlB,QAAWkB,OACfA,IAAQ7L,EAAQ2L,OAAOC,OAAO5L,EAAO,CAAE6L,OAAAA,EAAQtJ,MAAM,IAC3D,IAEFsI,EAAQC,QAAQsB,EAAAA,IAAkB,SAACpM,GAEjCA,EAAQ2L,OAAOC,OAAO5L,EAAOuK,EAC/B,GACF,IAEK,EAAoDlI,EAAK6I,QAAjDe,EAAO,EAAPA,QAASlH,EAAa,EAAbA,cAAetE,EAAK,EAALA,MAAe,EAARyL,SAC9C,QAAe7J,EAAY,0pBCnE3B,gnGAAAgK,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,kkBAMA,oBAAe,oFAEgB,OAAvBC,GAAWC,EAAAA,EAAAA,KAAY,mBAEtBC,EAAAA,EAAAA,GAAa,CAClBC,UAAW,CACTC,OAAQ,CACN,+DACA,iEAGJC,WAAY,EAACC,EAAAA,EAAAA,KAAcN,EAASO,WACpCC,qBAAsB,EAACC,EAAAA,EAAAA,MACvBC,aAAc,EAACC,EAAAA,EAAAA,MACfC,cAAe,CACbZ,EAASa,WACTC,EAAAA,EAAAA,GAAU,CACRC,KAAM,CACJ,kFACA,kFACA,kFACA,kFACA,sFAINC,kBAAmB,CACjBC,iBAAkB,IAClBC,gBAAiB,IACjBC,YAAa,IACbC,UAAU,MAEZ,0vCCtCJ,ovNAyBO,IAAMC,EAAyB,CACpC1H,YAAY,EACZ6F,YAAY,EACZ9K,YAAY,EACZ4M,cAAe,GACfC,eAAgB,GAChBC,cAAe,GACfC,UAAW,MAGA9H,GAAa+H,EAAAA,EAAAA,IACxB,oBAAmB,6BACnB,WAAOC,EAAG,GAAF,+EAEQ,GAFJC,EAAQ,EAARA,SACFN,EAAmBM,IAAyBpN,OAA5C8M,cACA/B,EAAYqC,IAAyB7L,KAArCwJ,OACH+B,EAAe,CAAF,wCAAS,CAAC,GAAC,wBACHO,EAAAA,EAAAA,IAAcP,GAAc,OAArC,GAAG,EAAH,KACC,CAAF,yCAAS,CAAC,GAAC,oCAEDQ,EAAAA,EAAAA,IAAgBR,GAAc,QAOtC,GAPVG,EAAY,EAAH,KAETF,GAAiBQ,EAAAA,EAAAA,IAAaT,GAAc,KAGhDC,EAAc,KACdE,EAAS,KACDlC,EAAM,uCAAWW,IAAc,gEAFvCqB,eAAc,KACdE,UAAS,KACTlC,OAAQ,EAAF,iEAGD,CAAC,GAAC,2DAEZ,qDApBkB,IAuBRM,GAAgB6B,EAAAA,EAAAA,IAC3B,uBAAsB,6BACtB,WAAOJ,EAAuB,GAAF,6EACZ,OADgBM,EAAQ,EAARA,SACtBrC,EAAYqC,IAAyB7L,KAArCwJ,OAAM,UACYsC,EAAAA,EAAAA,IAAcP,GAAc,OAArC,IAAG,EAAH,KACA,CAAF,0CAEaQ,EAAAA,EAAAA,IAAgBR,GAAc,OAUtC,GAVVG,EAAY,EAAH,KAETF,GAAiBQ,EAAAA,EAAAA,IAAaT,GAAc,KAKhDA,EAAa,KACbC,EAAc,KACdE,EAAS,KACDlC,EAAM,uCAAWW,IAAc,gEALvCV,YAAY,EACZ9K,YAAY,EACZ4M,cAAa,KACbC,eAAc,KACdE,UAAS,KACTlC,OAAQ,EAAF,gEAGD,CACL7K,YAAY,IACb,yDAGI,CACLA,YAAY,IACb,0DAEJ,qDA5BqB,IA+BlBF,GAASwJ,EAAAA,EAAAA,IAAY,CACzB5G,KAAM,SACN6G,aAAcoD,EACdrE,SAAU,CACRvE,cAAa,SAAC/E,EAAO,GAAqC,IAAnC2K,EAAO,EAAPA,QACrB3K,EAAM8L,WAAanB,CACrB,EACA2D,cAAa,SAACtO,EAAO,GAAqC,IAAnC2K,EAAO,EAAPA,QACrB3K,EAAMgB,WAAa2J,CACrB,EACAyB,iBAAgB,SAACpM,GAEfA,EAAQ2L,OAAOC,OAAO5L,EAAO2N,EAAW,CAAE1H,YAAY,GACxD,GAEF2E,cAAa,SAACC,GACZA,EAAQC,QAAQ7E,EAAWsI,SAAS,SAACvO,GACnCA,EAAQ2L,OAAOC,OAAO5L,EAAO2N,EAAW,CAEtCC,cAAe5N,EAAM4N,eAEzB,IAEA/C,EAAQC,QAAQ7E,EAAWuI,WAAW,SAACxO,EAAO,GAAgB,IAAd2K,EAAO,EAAPA,QAC9C,GAAIA,EAAS,CACX,IAAM8D,EAAO,EAAH,GAAQ9D,UACX8D,EAAK5C,QACZ7L,EAAQ2L,OAAOC,OAAO5L,EAAOyO,EAAM,CAAExI,YAAY,KACvC4H,iBAAgBa,EAAAA,EAAAA,IAAc1O,EAAM4N,cAChD,CACF,IAEA/C,EAAQC,QAAQqB,EAAcqC,WAAW,SAACxO,EAAO,GAAgB,IAAd2K,EAAO,EAAPA,QACjD,GAAIA,EAAS,CACX,IAAM8D,EAAO,EAAH,GAAQ9D,UACX8D,EAAK5C,OACZ7L,EAAQ2L,OAAOC,OAAO5L,EAAOyO,EAC/B,CACF,GACF,IAGK,EAA2D3N,EAAOoK,QAA1DnG,EAAa,EAAbA,cAAeuJ,EAAa,EAAbA,cAAelC,EAAgB,EAAhBA,iBAC7C,QAAetL,EAAc,miBCtI7B,ovNAiCA,IAAMyJ,EAAuB,CAC3BoE,OAAO,EACPC,SAAU,EACVC,iBAAaC,EACbC,QAAID,EACJE,YAAQF,EACRG,SAAS,EACTC,UAAU,EACVC,WAAOL,EACPM,iBAAaN,EACbO,YAAQP,EACRQ,WAAOR,EACP/C,SAAS,EACTwD,QAAQ,GAGGxE,GAAaiD,EAAAA,EAAAA,IACxB,mBAAkB,6BAClB,iGAA8B,OAArBgB,EAAM,EAANA,OAAQG,EAAK,EAALA,MAAOI,EAAM,EAANA,OAAM,SACFC,UAAUC,aAAaC,aAAaP,GAAM,OAqBO,OArBrEN,EAAc,EAAH,KACXE,EAAK,IAAIY,kBAAkB,CAC/BC,WAAY,CACV,CACEC,KAAM,CACJ,yBACA,+BACA,gCACA,gCACA,gCACA,4BAGJ,CACEA,KAAM,CAAC,2BACPC,SAAU,UACVC,WAAY,mBAIZX,EAAcL,EAAGiB,kBAAkBhB,EAAOiB,OAChDpB,EAAYqB,YAAYC,SAAQ,SAACC,GAAK,OAAKrB,EAAGsB,SAASD,EAAOvB,EAAY,IAAC,SACvDE,EAAGuB,cAAa,OAAzB,OAALhB,EAAQ,EAAH,eACLP,EAAGwB,oBAAoBjB,GAAM,yBAC7B,IAAIkB,SAAQ,SAACC,GACjB1B,EAAG2B,eAAiB,SAAC1M,GACfA,EAAM2M,WAAWC,YAAW,kBAAMH,EAAQ1B,EAAG8B,iBAAiB,GAAE,IACtE,CACF,IAAE,iCACK,CACLhC,YAAAA,EACAE,GAAAA,EACAC,OAAAA,EACAG,MAAAA,EACAC,YAAAA,EACArD,QAASoD,EAAM2B,MACfvB,OAAAA,IACD,4CACF,mDAxCiB,IA2CPwB,GAAc/C,EAAAA,EAAAA,IACzB,oBAAmB,6BACnB,WAAOC,EAAG,GAAF,qFACc,OADVC,EAAQ,EAARA,SAAQ,EACQA,IAAyB1E,OAA3C2F,EAAK,EAALA,MAAOG,EAAK,EAALA,MAAK,SAEME,UAAUC,aAAaC,aAAaP,GAAM,OA0BnE,OA1BKN,EAAc,EAAH,KACXE,EAAK,IAAIY,kBAAkB,CAC/BC,WAAY,CACV,CACEC,KAAM,CACJ,yBACA,+BACA,gCACA,gCACA,gCACA,4BAGJ,CACEA,KAAM,CAAC,2BACPC,SAAU,UACVC,WAAY,mBAMlBlB,EAAYqB,YAAYC,SAAQ,SAACC,GAAK,OAAKrB,EAAGsB,SAASD,EAAOvB,EAAY,IAE1EE,EAAGiC,QAAU,SAAChN,GACZqL,EAASrL,EAAMiN,QAAQ,EACzB,EAAC,UACKlC,EAAGmC,qBAAqB5B,GAAO,yBAChBP,EAAGoC,eAAc,QAA1B,OAANC,EAAS,EAAH,eACNrC,EAAGwB,oBAAoBa,GAAO,yBAC9B,IAAIZ,SAAQ,SAACC,GACjB1B,EAAG2B,eAAiB,SAAC1M,GACfA,EAAM2M,WAAWC,YAAW,kBAAMH,EAAQ1B,EAAG8B,iBAAiB,GAAE,IACtE,CACF,IAAE,iCAEK,CAAEhC,YAAAA,EAAaE,GAAAA,EAAII,MAAAA,EAAOE,OAAAA,IAAQ,4CAC1C,qDAzCkB,IA4CRgC,GAAiBrD,EAAAA,EAAAA,IAC5B,uBAAsB,6BACtB,WAAOoD,EAA+B,GAAF,2EAOjC,GAPqClD,EAAQ,EAARA,UAC9Ba,EAAQb,IAAyB1E,OAAjCuF,IAIJiC,QAAU,SAAChN,GACbqL,EAASrL,EAAMiN,QAAQ,EACzB,EAEKlC,EAAIuC,yBAA0B,CAAF,+BACzBvC,EAAImC,qBAAqBE,GAAO,uBAGlC,IAAIZ,SAAQ,SAACC,GAAO,OAAKG,YAAW,kBAAMH,EAAQ,EAAE,GAAE,IAAK,IAAC,gCAE3D,CAAE1B,GAAAA,EAAIM,OAAAA,IAAQ,2CACtB,qDAjBqB,IAoBXpE,GAAkB+C,EAAAA,EAAAA,IAC7B,wBAAuB,YACvB,8FACQ,IAAIwC,SAAQ,SAACC,GAAO,OAAKG,YAAW,kBAAMH,EAAQ,EAAE,GAAE,IAAK,IAAC,gCAE3D,CAAC,GAAC,4CAIPjH,GAASc,EAAAA,EAAAA,IAAY,CACzB5G,KAAM,SACN6G,aAAAA,EACAjB,SAAU,CACR0B,gBAAe,SAAChL,EAAO,GAAgD,IAA9C2K,EAAO,EAAPA,QACvB3K,EAAQ2L,OAAOC,OAAO5L,EAAO2K,EAAS,CACpCgE,OAAO,EACP5C,QAASpB,EAAQwE,MAAM2B,MACvBvB,OAAQ5E,EAAQ4E,QAEpB,EACAgC,iBAAgB,SAACvR,EAAO,GAA4C,IAA1C2K,EAAO,EAAPA,QAChBoE,EAAO/O,EAAP+O,GACR/O,EAAQ2L,OAAOC,OAAO5L,EAAO,CAC3BoP,YAAazE,EACboE,GAAAA,GAEJ,GAEFnE,cAAa,SAACC,GACZA,EAAQC,QAAQC,EAAWwD,SAAS,SAACvO,GAEnCA,EAAQ2L,OAAOC,OAAO5L,EAAO,CAC3B2O,OAAO,EACPM,SAAS,EACTL,UAAU,IAAI4C,MAAOC,WAEzB,IACA5G,EAAQC,QAAQC,EAAWyD,WAAW,SAACxO,EAAO,GAAgB,IAAd2K,EAAO,EAAPA,QAC9C3K,EAAQ2L,OAAOC,OAAO5L,EAAO2K,EAC/B,IACAE,EAAQC,QAAQiG,EAAYxC,SAAS,SAACvO,GAEpCA,EAAQ2L,OAAOC,OAAO5L,EAAO,CAC3BkP,UAAU,EACVN,UAAU,IAAI4C,MAAOC,WAEzB,IACA5G,EAAQC,QAAQiG,EAAYvC,WAAW,SAACxO,EAAO,GAAgB,IAAd2K,EAAO,EAAPA,QAC/C3K,EAAQ2L,OAAOC,OAAO5L,EAAO2K,EAC/B,IACAE,EAAQC,QAAQuG,EAAe7C,WAAW,SAACxO,EAAO,GAAgB,IAAd2K,EAAO,EAAPA,QAClD3K,EAAQ2L,OAAOC,OAAO5L,EAAO2K,EAC/B,IACAE,EAAQC,QAAQG,EAAgBsD,SAAS,SAACvO,GAAU,QAC1C,QAAR,EAAAA,EAAM+O,UAAE,OAAR,EAAU3N,QACO,QAAjB,EAAApB,EAAM6O,mBAAW,OAAjB,EAAmBqB,YAAYC,SAAQ,SAACC,GAAK,OAAKA,EAAMsB,MAAM,IAC9D,IAAMpC,EAAQtP,EAAMsP,OAAS,CAAC,EAC9BtP,EAAQ2L,OAAOC,OAAO5L,EAAO,CAC3B+O,QAAID,EACJK,WAAOL,EACPQ,MAAAA,GAEJ,IACAzE,EAAQC,QAAQG,EAAgBuD,WAAW,SAACxO,GAE1CA,EAAQ2L,OAAOC,OAAO5L,EAAOuK,EAC/B,GACF,IAGK,EAA8Cf,EAAO0B,QAA7CF,EAAe,EAAfA,gBAAiBuG,EAAgB,EAAhBA,iBAChC,QAAe/H,EAAc,8lBCtO7B,ovNACA,IAAMmI,EAAgB,WAAH,OAAS5I,OAAOjD,SAAS8L,QAAQ,EAEvCzD,EAAgB,WAAH,YACD,IAAhBpF,OAAO8I,MAAwB9I,OAAO8I,KAAKC,QAAQ,EAE/C3F,EAAoC,6BAAG,wGACX,QADW,EACtBpD,OAAO8I,YAAI,aAAX,EAAaE,cAAc,CACrDC,WAAYrS,EAAAA,KACZ,OAFe,OAEf,SAFMoO,EAAS,EAATA,UAAS,kBAGVA,GAAS,2CACjB,kBALgD,mCAOpCM,EAAe,WAC1B,IAAI4D,EAAY,GAChB,OAAKlJ,OAAO8I,MACO9I,OAAO8I,KAAKK,aAE/BD,EAAYlJ,OAAO8I,KAAKxD,eAHC4D,CAK3B,EAEavD,EAAkC,6BAAG,iFAC3C3F,OAAO8I,KAAM,CAAF,gDAEhB9I,OAAO8I,KAAKM,GAAG,aAAcR,GAC7B5I,OAAO8I,KAAKM,GAAG,UAAWR,GAAc,2CACzC,kBAL8C,sRCtB/C,ovNAWA,IAAMS,EAAwC,CAC5CC,OAAAA,GAGWlE,EAAoD,SAACP,GAAa,OAAKwE,EAAQxE,GAAeO,eAAe,EAE7GC,EAA2D,6BAAG,WAAOR,GAAa,iFAAWwE,EAAQxE,GAAezB,gBAAe,mGAAxE,sCAE3DkC,EAAkD,SAACT,GAAa,OAAKwE,EAAQxE,GAAeS,cAAc,EAE1GK,EAAuD,6BAAG,WAAOd,GAAa,iFAAWwE,EAAQxE,GAAec,gBAAe,mGAAxE","sources":["webpack://sourcedao-pc-dapp/./src/api/config.ts","webpack://sourcedao-pc-dapp/./src/constants/local.ts","webpack://sourcedao-pc-dapp/./src/hooks/localHook.ts","webpack://sourcedao-pc-dapp/./src/langs/connect/index.ts","webpack://sourcedao-pc-dapp/./src/langs/register/index.ts","webpack://sourcedao-pc-dapp/./src/langs/login/index.ts","webpack://sourcedao-pc-dapp/./src/langs/sider/index.ts","webpack://sourcedao-pc-dapp/./src/langs/header/index.ts","webpack://sourcedao-pc-dapp/./src/langs/wallet/index.ts","webpack://sourcedao-pc-dapp/./src/langs/chat/index.ts","webpack://sourcedao-pc-dapp/./src/langs/meta/index.ts","webpack://sourcedao-pc-dapp/./src/utils/theme.ts","webpack://sourcedao-pc-dapp/./src/components/Header/index.tsx","webpack://sourcedao-pc-dapp/./src/components/Layout/index.tsx","webpack://sourcedao-pc-dapp/./src/utils/routes.tsx","webpack://sourcedao-pc-dapp/./src/components/ExplorerRoutes/index.tsx","webpack://sourcedao-pc-dapp/./src/routes/common/index.tsx","webpack://sourcedao-pc-dapp/./src/routes/index.tsx","webpack://sourcedao-pc-dapp/./src/App.tsx","webpack://sourcedao-pc-dapp/./src/main.tsx","webpack://sourcedao-pc-dapp/./src/store/index.ts","webpack://sourcedao-pc-dapp/./src/store/modules/dialog.ts","webpack://sourcedao-pc-dapp/./src/store/modules/friends.ts","webpack://sourcedao-pc-dapp/./src/store/modules/local.ts","webpack://sourcedao-pc-dapp/./src/store/modules/router.ts","webpack://sourcedao-pc-dapp/./src/store/modules/user.ts","webpack://sourcedao-pc-dapp/./src/utils/libp2p.ts","webpack://sourcedao-pc-dapp/./src/store/modules/wallet.ts","webpack://sourcedao-pc-dapp/./src/store/modules/webRTC.ts","webpack://sourcedao-pc-dapp/./src/utils/wallets/Sender/index.ts","webpack://sourcedao-pc-dapp/./src/utils/wallets/index.ts"],"sourcesContent":["const env = process.env.WEB_ENV\n\nexport const CONNECTIONCONFIG =\n  env === 'pro'\n    ? {\n      network: 'testnet',\n      networkId: 'testnet',\n      nodeUrl: 'https://rpc.testnet.near.org',\n      walletUrl: 'https://wallet.testnet.near.org',\n      helperUrl: 'https://helper.testnet.near.org',\n      explorerUrl: 'https://explorer.testnet.near.org',\n    }\n    : env === 'pre'\n      ? {\n        network: 'testnet',\n        networkId: 'testnet',\n        nodeUrl: 'https://rpc.testnet.near.org',\n        walletUrl: 'https://wallet.testnet.near.org',\n        helperUrl: 'https://helper.testnet.near.org',\n        explorerUrl: 'https://explorer.testnet.near.org',\n      }\n      : env === 'sit'\n        ? {\n          network: 'testnet',\n          networkId: 'testnet',\n          nodeUrl: 'https://rpc.testnet.near.org',\n          walletUrl: 'https://wallet.testnet.near.org',\n          helperUrl: 'https://helper.testnet.near.org',\n          explorerUrl: 'https://explorer.testnet.near.org',\n        }\n        : env === 'dev'\n          ? {\n            network: 'testnet',\n            networkId: 'testnet',\n            nodeUrl: 'https://rpc.testnet.near.org',\n            walletUrl: 'https://wallet.testnet.near.org',\n            helperUrl: 'https://helper.testnet.near.org',\n            explorerUrl: 'https://explorer.testnet.near.org',\n          }\n          : {\n            network: 'testnet',\n            networkId: 'testnet',\n            nodeUrl: 'https://rpc.testnet.near.org',\n            walletUrl: 'https://wallet.testnet.near.org',\n            helperUrl: 'https://helper.testnet.near.org',\n            explorerUrl: 'https://explorer.testnet.near.org',\n          }\n\n// contractId\nexport const CONTRACTID =\n  env === 'pro'\n    ? ''\n    : env === 'pre'\n      ? ''\n      : env === 'sit'\n        ? ''\n        : env === 'dev'\n          ? 'dev-1672318794070-83988914819590'\n          : 'dev-1672318794070-83988914819590'\n\n// static\nexport const STATIC =\n  env === 'pro'\n    ? ''\n    : env === 'pre'\n      ? ''\n      : env === 'sit'\n        ? ''\n        : env === 'dev'\n          ? './static'\n          : '../static'\n\n\n\n","enum Local {\n  zh_cn = 'zh_cn',\n  en_us = 'en_us',\n}\n\nexport default Local","import { useAppSelector } from '@store/index'\nimport { Lang } from '@langs/index'\n\nexport default (): (obj: Lang) => string => {\n  const { local } = useAppSelector((state) => state.local)\n  return (obj: Lang) => obj[local]\n}","import LOCAL from '@constants/local'\nimport { Lang } from '..'\n\nconst subTitle: Lang = {\n  [LOCAL.zh_cn]: '连接钱包加入Firefly!',\n  [LOCAL.en_us]: 'Connect your wallet to enjoy it!',\n}\n\nexport {\n  subTitle,\n}","import LOCAL from '@constants/local'\nimport { Lang } from '..'\n\nconst nickname: Lang = {\n  [LOCAL.zh_cn]: '用户名',\n  [LOCAL.en_us]: 'Nickname',\n}\n\nconst submitted: Lang = {\n  [LOCAL.zh_cn]: '提交',\n  [LOCAL.en_us]: 'Submitted',\n}\n\nconst required: Lang = {\n  [LOCAL.zh_cn]: '必填',\n  [LOCAL.en_us]: 'Required',\n}\n\nconst copied: Lang = {\n  [LOCAL.zh_cn]: '已复制',\n  [LOCAL.en_us]: 'copied',\n}\n\n\nexport {\n  nickname,\n  submitted,\n  required,\n  copied,\n}","import LOCAL from '@constants/local'\nimport { Lang } from '..'\n\nconst title: Lang = {\n  [LOCAL.zh_cn]: '请登录!',\n  [LOCAL.en_us]: 'Please sign in!',\n}\n\nconst login: Lang = {\n  [LOCAL.zh_cn]: '登录',\n  [LOCAL.en_us]: 'Log in',\n}\n\nconst unregistered: Lang = {\n  [LOCAL.zh_cn]: '未注册',\n  [LOCAL.en_us]: 'Unregistered',\n}\n\nexport {\n  title,\n  login,\n  unregistered,\n}","import LOCAL from '@constants/local'\nimport { Lang } from '..'\n\nconst successfulRequest: Lang = {\n  [LOCAL.zh_cn]: '请求成功',\n  [LOCAL.en_us]: 'Successful Request',\n}\n\nconst disconnect: Lang = {\n  [LOCAL.zh_cn]: '断开连接',\n  [LOCAL.en_us]: 'disconnect',\n}\n\nconst search: Lang = {\n  [LOCAL.zh_cn]: '搜索',\n  [LOCAL.en_us]: 'search',\n}\n\nexport {\n  successfulRequest,\n  disconnect,\n  search,\n}\n","import LOCAL from '@constants/local'\nimport { Lang } from '..'\n\nconst wallet: Lang = {\n  [LOCAL.zh_cn]: '连接钱包',\n  [LOCAL.en_us]: 'Connect Wallet',\n}\n\n\nexport { wallet }\n","import LOCAL from '@constants/local'\nimport { Lang } from '..'\n\nconst wallet: Lang = {\n  [LOCAL.zh_cn]: '请选择您的钱包',\n  [LOCAL.en_us]: 'Please select your wallet',\n}\n\nconst connect: Lang = {\n  [LOCAL.zh_cn]: '连接',\n  [LOCAL.en_us]: 'connect',\n}\n\nconst connecting: Lang = {\n  [LOCAL.zh_cn]: '连接中...',\n  [LOCAL.en_us]: 'connecting...',\n}\n\nconst connected: Lang = {\n  [LOCAL.zh_cn]: '已连接',\n  [LOCAL.en_us]: 'connected',\n}\n\nexport { wallet, connect, connecting, connected }\n","import LOCAL from '@constants/local'\nimport { Lang } from '..'\n\nconst notConnect: Lang = {\n  [LOCAL.zh_cn]: '未连接到',\n  [LOCAL.en_us]: 'Not connected to ',\n}\n\nexport {\n  notConnect,\n}","import LOCAL from '@constants/local'\nimport { Lang } from '..'\n\nconst menu: Lang = {\n  [LOCAL.zh_cn]: '菜单',\n  [LOCAL.en_us]: 'Menu',\n}\n\nconst close: Lang = {\n  [LOCAL.zh_cn]: '关闭',\n  [LOCAL.en_us]: 'Close',\n}\n\nexport {\n  menu,\n  close,\n}","import { createTheme } from '@mui/material/styles'\n\nconst fontColor = '#fff'\n\nexport default createTheme({\n  palette: {\n    primary: {\n      // main: '#000000'\n      main: '#fff',\n    },\n  },\n  typography: {\n    fontFamily: [''].join(','),\n    body1: {\n      color: fontColor,\n      // lineHeight: 2,\n    },\n    h1: {\n      color: fontColor,\n    },\n    h2: {\n      color: fontColor,\n    },\n    h3: {\n      color: fontColor,\n    },\n    h4: {\n      color: fontColor,\n    },\n    h5: {\n      color: fontColor,\n    },\n    h6: {\n      color: fontColor,\n    },\n  },\n})\n","import React, { useState } from 'react'\n\nimport {\n  Box,\n  AppBar,\n  Toolbar,\n  IconButton,\n  Menu,\n  MenuItem,\n  Button,\n} from '@mui/material'\n\nimport LanguageIcon from '@mui/icons-material/Language'\n\nimport LOCAL from '@constants/local'\n\nimport langHook from '@hooks/localHook'\nimport { headerLang } from '@langs/index'\n\nimport { useAppSelector, useAppDispatch } from '@store/index'\n\nimport { setLocal } from '@store/modules/local'\nimport { setDialogOpen } from '@store/modules/wallet'\nimport { setDialogOpen as registerOpen } from '@store/modules/user'\n\nexport default (): JSX.Element => {\n  const { headerImg, nickname, isCW, isLogin } = useAppSelector(\n    (state) => state.user\n  )\n  const { currentFriend } = useAppSelector((state) => state.friends)\n\n  const dispatch = useAppDispatch()\n\n  const local = langHook()\n\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null)\n\n  const handleLocal = (lang: LOCAL) => {\n    setAnchorEl(null)\n    dispatch(setLocal(lang))\n  }\n\n  return (\n    <Box>\n      {/* AppBar */}\n      <AppBar color=\"transparent\" position=\"static\">\n        <Toolbar>\n          <Box sx={{ flexGrow: 1, color: '#fff' }}>{isLogin && currentFriend?.name}</Box>\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"primary\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n            onClick={(event) => setAnchorEl(event.currentTarget)}\n          >\n            <LanguageIcon />\n          </IconButton>\n          <Menu\n            anchorEl={anchorEl}\n            open={!!anchorEl}\n            onClose={() => setAnchorEl(null)}\n          >\n            <MenuItem\n              sx={{ color: '#000' }}\n              onClick={() => handleLocal(LOCAL.zh_cn)}\n            >\n              简体中文\n            </MenuItem>\n            <MenuItem\n              sx={{ color: '#000' }}\n              onClick={() => handleLocal(LOCAL.en_us)}\n            >\n              English\n            </MenuItem>\n          </Menu>\n          {isCW ? (\n            isLogin ? (\n              <Button\n                color=\"primary\"\n                sx={{ textTransform: 'none' }}\n                startIcon={\n                  <img\n                    style={{ width: '24px', height: '24px' }}\n                    src={`https://ipfs.io/ipfs/${headerImg}`}\n                  />\n                }\n                onClick={() => dispatch(registerOpen(true))}\n              >\n                {nickname}\n              </Button>\n            ) : (\n              <></>\n            )\n          ) : (\n            <Button\n              color=\"primary\"\n              onClick={() => dispatch(setDialogOpen(true))}\n            >\n              {local(headerLang.wallet)}\n            </Button>\n          )}\n        </Toolbar>\n      </AppBar>\n    </Box>\n  )\n}\n","import React, { lazy, Suspense } from 'react'\n\nimport { Outlet } from 'react-router-dom'\n\nimport { Box } from '@mui/material'\n\nimport Header from '@components/Header'\n\nimport { useAppSelector } from '@store/index'\n\nconst Sider = lazy(() => import('@components/Sider'))\n\nexport default (): JSX.Element => {\n  const { isHeader, isSider } = useAppSelector((state) => state.router)\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n      }}\n    >\n      <Suspense>{isSider && <Sider />}</Suspense>\n      <Box\n        sx={{\n          flex: 1,\n        }}\n      >\n        {isHeader && <Header />}\n        <Box>\n          <Outlet />\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n","import React, { ReactNode, Suspense } from 'react'\n\nimport { routeMap, RouterMapItem } from '@routes/index'\n\nexport const lazyLoad = (children: ReactNode): ReactNode => {\n  return <Suspense fallback={<></>}>{children}</Suspense>\n}\n\nexport const findRouterRule = (path: string): RouterMapItem | undefined => {\n  if (path in routeMap) return routeMap[path]\n  const paths = path.split('/')\n  paths.pop()\n  while (paths.length > 0) {\n    const pathName = paths.join('/')\n    if (pathName in routeMap) {\n      const { name } = routeMap[pathName]\n      if (name.split('/').length === path.split('/').length) return routeMap[pathName]\n    }\n    paths.pop()\n  }\n} ","import React, { useEffect, lazy, Suspense, ReactNode } from 'react'\n\nimport { useLocation, Navigate } from 'react-router-dom'\n\nimport { useAppSelector, useAppDispatch } from '@store/index'\n\nimport { findRouterRule } from '@utils/routes'\n\nimport { setRouter } from '@store/modules/router'\n\nconst Dialog = lazy(() => import('@components/Dialog'))\ninterface IProps {\n  children: ReactNode\n}\n\nexport default ({ children }: IProps): JSX.Element => {\n  const location = useLocation()\n\n  const { name, isConnect } = useAppSelector((state) => state.router)\n\n  const dispatch = useAppDispatch()\n\n  const { initWallet } = useAppSelector((state) => state.wallet)\n  const { isCW, isLogin } = useAppSelector((store) => store.user)\n\n  useEffect(() => {\n    const routeRule = findRouterRule(location.pathname)\n    if (routeRule && name !== routeRule.name) {\n      dispatch(setRouter(routeRule))\n    }\n  }, [location])\n\n  return (\n    <>\n      {name && initWallet ? (\n        isConnect ? (\n          isCW ? (\n            isLogin || location.pathname === '/login' ? (\n              children\n            ) : (\n              <Navigate to=\"/login\" />\n              // children\n            )\n          ) : (\n            <Navigate to=\"/connect\" />\n          )\n        ) : (\n          children\n        )\n      ) : (\n        <></>\n      )}{' '}\n      <Suspense>\n        <Dialog />\n      </Suspense>\n    </>\n  )\n}\n","import React, { lazy } from 'react'\nimport { RouteObject } from 'react-router-dom'\n\nimport { lazyLoad } from '@utils/routes'\n\nconst Home = lazy(() => import('@views/Home/index'))\nconst Connect = lazy(() => import('@views/Connect/index'))\nconst Login = lazy(() => import('@views/Login/index'))\n\nexport const routeMap = {\n  '/': {\n    name: '/',\n    isConnect: true,\n    isHeader: true,\n    isSider: true,\n  },\n  '/connect': {\n    name: '/connect',\n    isConnect: false,\n    isHeader: true,\n    isSider: false,\n  },\n  '/login': {\n    name: '/login',\n    isConnect: true,\n    isHeader: true,\n    isSider: false,\n  },\n}\n\nexport const routes: RouteObject[] = [\n  {\n    index: true,\n    element: lazyLoad(<Home />),\n  },\n  {\n    path: '/connect',\n    element: lazyLoad(<Connect />),\n  },\n  {\n    path: '/login',\n    element: lazyLoad(<Login />),\n  },\n]","import React from 'react'\nimport { Navigate, RouteObject } from 'react-router-dom'\nimport Layout from '@components/Layout'\nimport ExplorerRoutes from '@components/ExplorerRoutes'\n\nimport { routes as common, routeMap as commonMap } from './common'\n\ninterface Rules {\n  isConnected: boolean\n}\n\nexport const routerRules: Record<string, Rules> = {\n  '/proposal': {\n    isConnected: true,\n  },\n}\n\nexport interface RouterMapItem {\n  name: string\n  isConnect: boolean\n  isHeader: boolean\n  isSider: boolean\n}\n\nexport type RouterMap = Record<string, RouterMapItem>\n\nconst router: RouteObject[] = [\n  {\n    path: '/',\n    element: <ExplorerRoutes children={<Layout />} />,\n    children: [\n      ...common,\n      {\n        path: '*',\n        element: <Navigate to='/' />,\n      },\n    ]\n  }\n]\n\nexport const routeMap: RouterMap = {\n  ...commonMap\n}\n\nexport default router","import React, { useRef, useEffect } from 'react'\n\nimport { useRoutes } from 'react-router-dom'\n\nimport { IconButton } from '@mui/material'\n\nimport { SnackbarProvider } from 'notistack'\n\nimport { useAppDispatch } from '@store/index'\n\nimport { initWallet } from '@store/modules/wallet'\n\nimport routers from '@routes/index'\n\nimport CloseIcon from '@mui/icons-material/Close'\n\nexport default (): JSX.Element => {\n  const snackbarRef = useRef<SnackbarProvider>(null)\n\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    dispatch(initWallet())\n  }, [])\n\n  return (\n    <SnackbarProvider\n      ref={snackbarRef}\n      maxSnack={3}\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      preventDuplicate={true}\n      autoHideDuration={2000}\n      action={(snackbarId) => (\n        <IconButton\n          color=\"inherit\"\n          onClick={() => snackbarRef.current?.closeSnackbar(snackbarId)}\n        >\n          <CloseIcon />\n        </IconButton>\n      )}\n    >\n      {useRoutes(routers)}\n    </SnackbarProvider>\n  )\n}\n","import React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { HashRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { persistStore } from 'redux-persist'\nimport { ThemeProvider } from '@mui/material/styles'\nimport store from '@store/index'\nimport theme from '@utils/theme'\nimport App from './App'\n\nimport '@css/main.less'\n\nconst root = createRoot(document.getElementById('root') as Element)\n\nconst persistor = persistStore(store)\n\nwindow.addEventListener('load', () => {\n  root.render(\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <HashRouter>\n          <ThemeProvider theme={theme}>\n            <App />\n          </ThemeProvider>\n        </HashRouter>\n      </PersistGate>\n    </Provider>\n  )\n})\n","import { configureStore } from '@reduxjs/toolkit'\nimport storage from 'redux-persist/lib/storage'\nimport { persistReducer } from 'redux-persist'\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport { AnyAction, combineReducers, Dispatch } from 'redux'\nimport thunk, { ThunkDispatch } from 'redux-thunk'\n\nimport wallet from './modules/wallet'\nimport local from './modules/local'\nimport router from './modules/router'\nimport friends from './modules/friends'\nimport user from './modules/user'\nimport webRTC from './modules/webRTC'\nimport dialog from './modules/dialog'\n\nconst reducers = combineReducers({\n  wallet,\n  local,\n  router,\n  friends,\n  user,\n  webRTC,\n  dialog,\n})\n\nconst persistConfig = {\n  key: 'Firefly',\n  storage,\n  blacklist: ['router', 'friends', 'user', 'webRTC', 'dialog'],\n}\n\nconst persistedReducer = persistReducer(persistConfig, reducers)\n\nconst store = configureStore({\n  reducer: persistedReducer,\n  middleware: [thunk]\n})\n\n\nexport default store\n\nexport type RootState = ReturnType<typeof store.getState>\n\nexport type AppDispatch = ThunkDispatch<RootState, undefined, AnyAction> & Dispatch<AnyAction>\n\nexport const useAppDispatch = (): AppDispatch => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\n\nimport { creatOffer, initWebRTCState, setOfferRequest } from './webRTC'\n\ninterface Dialog {\n  streamOpen: boolean\n  metaOpen: boolean\n}\n\nconst initialState: Dialog = {\n  streamOpen: false,\n  metaOpen: false,\n}\n\nconst dialog = createSlice({\n  name: 'dialog',\n  initialState,\n  reducers: {\n    setMeta(state, { payload }: PayloadAction<boolean>) {\n      state.metaOpen = payload\n    },\n  },\n  extraReducers(builder) {\n    builder.addCase(creatOffer.pending, (state) => {\n      state.streamOpen = true\n    })\n    builder.addCase(setOfferRequest, (state) => {\n      state.streamOpen = true\n    })\n    builder.addCase(initWebRTCState.pending, (state) => {\n      state.streamOpen = false\n      state.metaOpen = false\n    })\n  },\n})\nexport const { setMeta } = dialog.actions\nexport default dialog.reducer\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport type { PeerId } from '@libp2p/interface-peer-id'\n\nexport interface Friends {\n  name: string\n  image: string\n  topic: string\n  hash: string\n  account_id: string\n  peerId?: PeerId\n}\n\ninterface Remote {\n  account_id: string\n  text: string\n}\n\nconst _friends: Friends[] = []\nconst remotes: Remote[] = []\n\nconst friends = createSlice({\n  name: 'friends',\n  initialState: {\n    friends: _friends,\n    currentFriendIndex: 0,\n    currentFriend: _friends[0],\n    remotes,\n  },\n  reducers: {\n    setFriends(state, { payload }: PayloadAction<Friends[]>) {\n      state.friends = [...payload]\n    },\n    setCurrentFriendIndex(state, { payload }: PayloadAction<number>) {\n      state.currentFriendIndex = payload\n      state.currentFriend = state.friends[payload]\n    },\n    setRemotes(state, { payload }: PayloadAction<Remote[]>) {\n      state.remotes = [...payload]\n    },\n    pushRemotes(state, { payload }: PayloadAction<Remote>) {\n      state.remotes.push(payload)\n    },\n  },\n})\nexport const {\n  setFriends,\n  setCurrentFriendIndex,\n  setRemotes,\n  pushRemotes,\n} = friends.actions\nexport default friends.reducer\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\n\nimport LOCAL from '@constants/local'\n\nconst local = createSlice({\n  name: 'local',\n  initialState: {\n    local: LOCAL.en_us,\n  },\n  reducers: {\n    setLocal(state, { payload }: PayloadAction<LOCAL>) {\n      state.local = payload\n    },\n  },\n})\nexport const { setLocal } = local.actions\nexport default local.reducer\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\n\nimport { RouterMapItem } from '@routes/index'\n\nconst router = createSlice({\n  name: 'router',\n  initialState: {\n    name: '',\n    isConnect: false,\n    isHeader: false,\n    isSider: false,\n  },\n  reducers: {\n    setRouter(state, { payload }: PayloadAction<RouterMapItem>) {\n      state = Object.assign(state, payload)\n    },\n  },\n})\nexport const { setRouter } = router.actions\nexport default router.reducer\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\n\nimport { initWallet, connectWallet, disconnectWallet } from './wallet'\n\nimport { Libp2p } from 'libp2p'\n\ninterface User {\n  headerImg: string\n  nickname: string\n  isLogin: boolean\n  isCW: boolean\n  libp2p: Libp2p | null\n  dialogOpen: boolean\n  isVideo: boolean\n  isAudio: boolean\n}\n\ninterface SerUser {\n  headerImg: string\n  nickname: string\n}\n\nconst initialState: User = {\n  headerImg: 'QmVRjwyDfqkpa7z7UvGShLdkoVMEBHJSzv7LgcfRRe7jVK',\n  nickname: '',\n  isLogin: false,\n  isCW: false,\n  libp2p: null,\n  dialogOpen: false,\n  isVideo: false,\n  isAudio: false,\n}\nconst user = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setUser(state, { payload }: PayloadAction<SerUser>) {\n      state = Object.assign(state, payload, { dialogOpen: false })\n    },\n    setDialogOpen(state, { payload }: PayloadAction<boolean>) {\n      state = Object.assign(state, { dialogOpen: payload })\n    },\n    login(state, { payload }: PayloadAction<SerUser>) {\n      state = Object.assign(state, payload, { isLogin: true })\n    },\n    setAudio(state, { payload }: PayloadAction<boolean>) {\n      state = Object.assign(state, { isAudio: payload })\n    },\n  },\n  extraReducers(builder) {\n    builder.addCase(initWallet.fulfilled, (state, { payload: { libp2p } }) => {\n      if (libp2p) {\n        state = Object.assign(state, { libp2p, isCW: true })\n      }\n    })\n    builder.addCase(\n      connectWallet.fulfilled,\n      (state, { payload: { libp2p } }) => {\n        if (libp2p) state = Object.assign(state, { libp2p, isCW: true })\n      }\n    )\n    builder.addCase(disconnectWallet, (state) => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      state = Object.assign(state, initialState)\n    })\n  },\n})\nexport const { setUser, setDialogOpen, login, setAudio } = user.actions\nexport default user.reducer\n","import { createLibp2p, Libp2p } from 'libp2p'\nimport { webSockets } from '@libp2p/websockets'\nimport { webRTCStar } from '@libp2p/webrtc-star'\nimport { noise } from '@chainsafe/libp2p-noise'\nimport { mplex } from '@libp2p/mplex'\nimport { bootstrap } from '@libp2p/bootstrap'\n\nexport default async (): Promise<Libp2p> => {\n\n  const wrtcStar = webRTCStar()\n\n  return createLibp2p({\n    addresses: {\n      listen: [\n        '/dns4/wrtc-star1.par.dwebops.pub/tcp/443/wss/p2p-webrtc-star',\n        '/dns4/wrtc-star2.sjc.dwebops.pub/tcp/443/wss/p2p-webrtc-star',\n      ],\n    },\n    transports: [webSockets(), wrtcStar.transport],\n    connectionEncryption: [noise()],\n    streamMuxers: [mplex()],\n    peerDiscovery: [\n      wrtcStar.discovery,\n      bootstrap({\n        list: [\n          '/dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN',\n          '/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb',\n          '/dnsaddr/bootstrap.libp2p.io/p2p/QmZa1sAxajnQjVM8WjWXoMbmPd7NsWhfKsPkErzpm9wGkp',\n          '/dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa',\n          '/dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt',\n        ],\n      }),\n    ],\n    connectionManager: {\n      maxParallelDials: 200,\n      maxDialsPerPeer: 200,\n      dialTimeout: 10e3,\n      autoDial: false,\n    },\n  })\n}\n","import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit'\n\nimport {\n  getNearWallet,\n  connectToWallet,\n  getAccountId,\n  onWalletEvent,\n} from '@utils/wallets'\n\nimport createLibp2p from '@utils/libp2p'\n\nimport { RootState } from '..'\n\nexport interface WalletState {\n  initWallet: boolean\n  dialogOpen: boolean\n  connecting: boolean\n  currentWallet: string\n  walletNetwork: string\n  accountAddress: string\n  accessKey: {\n    publicKey: string\n    secretKey: string\n  } | null\n}\n\nexport const initState: WalletState = {\n  initWallet: false,\n  dialogOpen: false,\n  connecting: false,\n  currentWallet: '',\n  accountAddress: '',\n  walletNetwork: '',\n  accessKey: null,\n}\n\nexport const initWallet = createAsyncThunk(\n  'wallet/initWallet',\n  async (_, { getState }) => {\n    const { currentWallet } = (getState() as RootState).wallet\n    const { libp2p } = (getState() as RootState).user\n    if (!currentWallet) return {}\n    const isConnected = await getNearWallet(currentWallet)\n    if (!isConnected) return {}\n    try {\n      const accessKey = await connectToWallet(currentWallet)\n\n      const accountAddress = getAccountId(currentWallet)\n\n      return {\n        accountAddress,\n        accessKey,\n        libp2p: libp2p || (await createLibp2p()),\n      }\n    } catch (error) {\n      return {}\n    }\n  }\n)\n\nexport const connectWallet = createAsyncThunk(\n  'wallet/connectWallet',\n  async (currentWallet: string, { getState }) => {\n    const { libp2p } = (getState() as RootState).user\n    const isConnected = await getNearWallet(currentWallet)\n    if (isConnected) {\n      try {\n        const accessKey = await connectToWallet(currentWallet)\n\n        const accountAddress = getAccountId(currentWallet)\n\n        return {\n          dialogOpen: false,\n          connecting: false,\n          currentWallet,\n          accountAddress,\n          accessKey,\n          libp2p: libp2p || (await createLibp2p()),\n        }\n      } catch (error) {\n        return {\n          connecting: false,\n        }\n      }\n    } else {\n      return {\n        connecting: false,\n      }\n    }\n  }\n)\n\nconst wallet = createSlice({\n  name: 'wallet',\n  initialState: initState,\n  reducers: {\n    setDialogOpen(state, { payload }: PayloadAction<boolean>) {\n      state.dialogOpen = payload\n    },\n    setConnecting(state, { payload }: PayloadAction<boolean>) {\n      state.connecting = payload\n    },\n    disconnectWallet(state) {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      state = Object.assign(state, initState, { initWallet: true })\n    },\n  },\n  extraReducers(builder) {\n    builder.addCase(initWallet.pending, (state) => {\n      state = Object.assign(state, initState, {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        currentWallet: state.currentWallet,\n      })\n    })\n\n    builder.addCase(initWallet.fulfilled, (state, { payload }) => {\n      if (payload) {\n        const data = { ...payload }\n        delete data.libp2p\n        state = Object.assign(state, data, { initWallet: true })\n        if (state.accountAddress) onWalletEvent(state.currentWallet)\n      }\n    })\n\n    builder.addCase(connectWallet.fulfilled, (state, { payload }) => {\n      if (payload) {\n        const data = { ...payload }\n        delete data.libp2p\n        state = Object.assign(state, data)\n      }\n    })\n  },\n})\n\nexport const { setDialogOpen, setConnecting, disconnectWallet } = wallet.actions\nexport default wallet.reducer\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\n\nimport type { Friends } from './friends'\n\nimport { RootState } from '..'\nexport interface WebRTC {\n  isUse: boolean\n  joinTime: number\n  localStream: MediaStream | undefined\n  pc: RTCPeerConnection | undefined\n  friend: Friends | undefined\n  isOffer: boolean\n  isAnswer: boolean\n  media: MediaStreamConstraints | undefined\n  dataChannel: RTCDataChannel | undefined\n  stream: MediaStream | undefined\n  offer: RTCSessionDescription | undefined\n  isVideo: boolean\n  isMeta: boolean\n}\n\ninterface CreateOfferParams {\n  friend: Friends\n  media: MediaStreamConstraints\n  isMeta: boolean\n}\n\ninterface OfferRequestParams {\n  friend: Friends\n  media: MediaStreamConstraints\n  offer: RTCSessionDescription\n  isMeta: boolean\n}\n\nconst initialState: WebRTC = {\n  isUse: false,\n  joinTime: 0,\n  localStream: undefined,\n  pc: undefined,\n  friend: undefined,\n  isOffer: false,\n  isAnswer: false,\n  media: undefined,\n  dataChannel: undefined,\n  stream: undefined,\n  offer: undefined,\n  isVideo: false,\n  isMeta: false,\n}\n\nexport const creatOffer = createAsyncThunk(\n  'weRTC/creatOffer',\n  async ({ friend, media, isMeta }: CreateOfferParams) => {\n    const localStream = await navigator.mediaDevices.getUserMedia(media)\n    const pc = new RTCPeerConnection({\n      iceServers: [\n        {\n          urls: [\n            'stun:stun.gmx.net:3478',\n            'stun:stun.l.google.com:19302',\n            'stun:stun1.l.google.com:19302',\n            'stun:stun2.l.google.com:19302',\n            'stun:stun3.l.google.com:19302',\n            'stun:54.250.193.38:3478',\n          ],\n        },\n        {\n          urls: ['turn:54.250.193.38:3478'],\n          username: 'firefly',\n          credential: 'firefly12345'\n        }\n      ],\n    })\n    const dataChannel = pc.createDataChannel(friend.topic)\n    localStream.getTracks().forEach((track) => pc.addTrack(track, localStream))\n    const offer = await pc.createOffer()\n    await pc.setLocalDescription(offer)\n    await new Promise((resolve) => {\n      pc.onicecandidate = (event) => {\n        if (event.candidate) setTimeout(() => resolve(pc.localDescription), 1000)\n      }\n    })\n    return {\n      localStream,\n      pc,\n      friend,\n      media,\n      dataChannel,\n      isVideo: media.video,\n      isMeta,\n    }\n  }\n)\n\nexport const creatAnswer = createAsyncThunk(\n  'weRTC/creatAnswer',\n  async (_, { getState }) => {\n    const { media, offer } = (getState() as RootState).webRTC\n\n    const localStream = await navigator.mediaDevices.getUserMedia(media)\n    const pc = new RTCPeerConnection({\n      iceServers: [\n        {\n          urls: [\n            'stun:stun.gmx.net:3478',\n            'stun:stun.l.google.com:19302',\n            'stun:stun1.l.google.com:19302',\n            'stun:stun2.l.google.com:19302',\n            'stun:stun3.l.google.com:19302',\n            'stun:54.250.193.38:3478',\n          ],\n        },\n        {\n          urls: ['turn:54.250.193.38:3478'],\n          username: 'firefly',\n          credential: 'firefly12345',\n        },\n      ],\n    })\n    let stream: MediaStream | undefined\n\n    localStream.getTracks().forEach((track) => pc.addTrack(track, localStream))\n\n    pc.ontrack = (event) => {\n      stream = event.streams[0]\n    }\n    await pc.setRemoteDescription(offer!)\n    const answer = await pc.createAnswer()\n    await pc.setLocalDescription(answer)\n    await new Promise((resolve) => {\n      pc.onicecandidate = (event) => {\n        if (event.candidate) setTimeout(() => resolve(pc.localDescription), 1000)\n      }\n    })\n\n    return { localStream, pc, media, stream }\n  }\n)\n\nexport const setOfferRemote = createAsyncThunk(\n  'weRTC/setOfferRemote',\n  async (answer: RTCSessionDescription, { getState }) => {\n    const { pc } = (getState() as RootState).webRTC\n\n    let stream: MediaStream | undefined\n\n    pc!.ontrack = (event) => {\n      stream = event.streams[0]\n    }\n\n    if (!pc!.currentRemoteDescription) {\n      await pc!.setRemoteDescription(answer)\n    }\n\n    await new Promise((resolve) => setTimeout(() => resolve(1), 1000))\n\n    return { pc, stream }\n  }\n)\n\nexport const initWebRTCState = createAsyncThunk(\n  'weRTC/initWebRTCState',\n  async () => {\n    await new Promise((resolve) => setTimeout(() => resolve(1), 1000))\n\n    return {}\n  }\n)\n\nconst webRTC = createSlice({\n  name: 'webRTC',\n  initialState,\n  reducers: {\n    setOfferRequest(state, { payload }: PayloadAction<OfferRequestParams>) {\n      state = Object.assign(state, payload, {\n        isUse: true,\n        isVideo: payload.media.video,\n        isMeta: payload.isMeta\n      })\n    },\n    setAnswerChannel(state, { payload }: PayloadAction<RTCDataChannel>) {\n      const { pc } = state\n      state = Object.assign(state, {\n        dataChannel: payload,\n        pc,\n      })\n    },\n  },\n  extraReducers(builder) {\n    builder.addCase(creatOffer.pending, (state) => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      state = Object.assign(state, {\n        isUse: true,\n        isOffer: true,\n        joinTime: new Date().getTime(),\n      })\n    })\n    builder.addCase(creatOffer.fulfilled, (state, { payload }) => {\n      state = Object.assign(state, payload)\n    })\n    builder.addCase(creatAnswer.pending, (state) => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      state = Object.assign(state, {\n        isAnswer: true,\n        joinTime: new Date().getTime(),\n      })\n    })\n    builder.addCase(creatAnswer.fulfilled, (state, { payload }) => {\n      state = Object.assign(state, payload)\n    })\n    builder.addCase(setOfferRemote.fulfilled, (state, { payload }) => {\n      state = Object.assign(state, payload)\n    })\n    builder.addCase(initWebRTCState.pending, (state) => {\n      state.pc?.close()\n      state.localStream?.getTracks().forEach((track) => track.stop())\n      const offer = state.offer || {}\n      state = Object.assign(state, {\n        pc: undefined,\n        media: undefined,\n        offer,\n      })\n    })\n    builder.addCase(initWebRTCState.fulfilled, (state) => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      state = Object.assign(state, initialState)\n    })\n  },\n})\n\nexport const { setOfferRequest, setAnswerChannel } = webRTC.actions\nexport default webRTC.reducer\n","import { CONTRACTID } from '@api/config'\n\nconst eventFunction = () => window.location.reload()\n\nexport const getNearWallet = (): boolean =>\n  typeof window.near !== 'undefined' && window.near.isSender\n\nexport const connectWallet: () => Promise<string> = async () => {\n  const { accessKey } = await window.near?.requestSignIn({\n    contractId: CONTRACTID,\n  })\n  return accessKey\n}\n\nexport const getAccountId = (): string => {\n  let accountId = ''\n  if (!window.near) return accountId\n  const isSignedIn = window.near.isSignedIn()\n  if (!isSignedIn) return accountId\n  accountId = window.near.getAccountId()\n  return accountId\n}\n\nexport const onWalletEvent: () => Promise<void> = async () => {\n  if (!window.near) return\n  // window.near.on('accountChanged', eventFunction)\n  window.near.on('rpcChanged', eventFunction)\n  window.near.on('signOut', eventFunction)\n}\n","\n\nimport * as Sender from './Sender'\n\ninterface WalletMethod {\n  getNearWallet: () => boolean\n  connectWallet: () => Promise<string>\n  getAccountId: () => string\n  onWalletEvent: () => Promise<void>\n\n}\n\nconst wallets: Record<string, WalletMethod> = {\n  Sender,\n}\n\nexport const getNearWallet: (currentWallet: string) => boolean = (currentWallet) => wallets[currentWallet].getNearWallet()\n\nexport const connectToWallet: (currentWallet: string) => Promise<string> = async (currentWallet) => await wallets[currentWallet].connectWallet()\n\nexport const getAccountId: (currentWallet: string) => string = (currentWallet) => wallets[currentWallet].getAccountId()\n\nexport const onWalletEvent: (currentWallet: string) => Promise<void> = async (currentWallet) => await wallets[currentWallet].onWalletEvent()\n"],"names":["CONNECTIONCONFIG","network","networkId","nodeUrl","walletUrl","helperUrl","explorerUrl","CONTRACTID","STATIC","Local","local","useAppSelector","state","obj","subTitle","LOCAL","nickname","submitted","required","copied","title","login","unregistered","successfulRequest","disconnect","search","wallet","connect","connecting","connected","notConnect","menu","close","fontColor","createTheme","palette","primary","main","typography","fontFamily","join","body1","color","h1","h2","h3","h4","h5","h6","user","headerImg","isCW","isLogin","currentFriend","friends","dispatch","useAppDispatch","langHook","useState","anchorEl","setAnchorEl","handleLocal","lang","setLocal","Box","AppBar","position","Toolbar","sx","flexGrow","name","IconButton","size","edge","mr","onClick","event","currentTarget","Language","Menu","open","onClose","MenuItem","Button","textTransform","startIcon","style","width","height","src","registerOpen","setDialogOpen","headerLang","Sider","lazy","router","isHeader","isSider","display","Suspense","flex","Header","lazyLoad","children","fallback","Dialog","location","useLocation","isConnect","initWallet","store","useEffect","routeRule","path","routeMap","paths","split","pop","length","pathName","findRouterRule","pathname","setRouter","to","Home","Connect","Login","routes","index","element","ExplorerRoutes","Layout","common","snackbarRef","useRef","ref","maxSnack","anchorOrigin","vertical","horizontal","preventDuplicate","autoHideDuration","action","snackbarId","current","closeSnackbar","Close","useRoutes","routers","root","createRoot","document","getElementById","persistor","persistStore","window","addEventListener","render","loading","ThemeProvider","theme","App","reducers","combineReducers","webRTC","dialog","persistConfig","key","storage","blacklist","persistedReducer","persistReducer","configureStore","reducer","middleware","thunk","useDispatch","useSelector","createSlice","initialState","streamOpen","metaOpen","setMeta","payload","extraReducers","builder","addCase","creatOffer","setOfferRequest","initWebRTCState","actions","_friends","currentFriendIndex","remotes","setFriends","setCurrentFriendIndex","setRemotes","pushRemotes","push","Object","assign","libp2p","dialogOpen","isVideo","isAudio","setUser","setAudio","connectWallet","disconnectWallet","i","wrtcStar","webRTCStar","createLibp2p","addresses","listen","transports","webSockets","transport","connectionEncryption","noise","streamMuxers","mplex","peerDiscovery","discovery","bootstrap","list","connectionManager","maxParallelDials","maxDialsPerPeer","dialTimeout","autoDial","initState","currentWallet","accountAddress","walletNetwork","accessKey","createAsyncThunk","_","getState","getNearWallet","connectToWallet","getAccountId","setConnecting","pending","fulfilled","data","onWalletEvent","isUse","joinTime","localStream","undefined","pc","friend","isOffer","isAnswer","media","dataChannel","stream","offer","isMeta","navigator","mediaDevices","getUserMedia","RTCPeerConnection","iceServers","urls","username","credential","createDataChannel","topic","getTracks","forEach","track","addTrack","createOffer","setLocalDescription","Promise","resolve","onicecandidate","candidate","setTimeout","localDescription","video","creatAnswer","ontrack","streams","setRemoteDescription","createAnswer","answer","setOfferRemote","currentRemoteDescription","setAnswerChannel","Date","getTime","stop","eventFunction","reload","near","isSender","requestSignIn","contractId","accountId","isSignedIn","on","wallets","Sender"],"sourceRoot":""}