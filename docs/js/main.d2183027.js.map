{"version":3,"file":"js/main.d2183027.js","mappings":";6JAAA,IAEaA,EA6BD,CACAC,QAAS,UACTC,UAAW,UACXC,QAAS,+BACTC,UAAW,kCACXC,UAAW,kCACXC,YAAa,qCAYZC,EAQD,mCAKCC,EAQD,6CCtEPC,mBAAK,SAALA,GAAAA,EAAK,cAALA,EAAK,eAALA,IAAAA,EAAK,KAKV,wECFA,mBACE,IAAQC,GAAUC,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMF,KAAK,IAA/CA,MACR,OAAO,SAACG,GAAS,OAAKA,EAAIH,EAAM,CACjC,itCCHD,YAAMI,GAAc,OACjBC,EAAAA,EAAAA,MAAc,kBAAgB,IAC9BA,EAAAA,EAAAA,MAAc,oCAAkC,soBCFnD,UAAMC,GAAc,OACjBD,EAAAA,EAAAA,MAAc,OAAK,IACnBA,EAAAA,EAAAA,MAAc,YAAU,GAGrBE,GAAe,OAClBF,EAAAA,EAAAA,MAAc,MAAI,IAClBA,EAAAA,EAAAA,MAAc,aAAW,GAGtBG,GAAc,OACjBH,EAAAA,EAAAA,MAAc,MAAI,IAClBA,EAAAA,EAAAA,MAAc,YAAU,GAGrBI,GAAY,OACfJ,EAAAA,EAAAA,MAAc,OAAK,IACnBA,EAAAA,EAAAA,MAAc,UAAQ,soBCjBzB,UAAMK,GAAW,OACdL,EAAAA,EAAAA,MAAc,QAAM,IACpBA,EAAAA,EAAAA,MAAc,mBAAiB,GAG5BM,GAAW,OACdN,EAAAA,EAAAA,MAAc,MAAI,IAClBA,EAAAA,EAAAA,MAAc,UAAQ,GAGnBO,GAAkB,OACrBP,EAAAA,EAAAA,MAAc,OAAK,IACnBA,EAAAA,EAAAA,MAAc,gBAAc,soBCZ/B,MAAMQ,GAAuB,OAC1BR,EAAAA,EAAAA,MAAc,QAAM,IACpBA,EAAAA,EAAAA,MAAc,sBAAoB,GAG/BS,GAAgB,OACnBT,EAAAA,EAAAA,MAAc,QAAM,IACpBA,EAAAA,EAAAA,MAAc,cAAY,GAGvBU,GAAY,OACfV,EAAAA,EAAAA,MAAc,MAAI,IAClBA,EAAAA,EAAAA,MAAc,UAAQ,soBCZzB,YAAMW,GAAY,OACfX,EAAAA,EAAAA,MAAc,QAAM,IACpBA,EAAAA,EAAAA,MAAc,kBAAgB,soBCFjC,MAAMW,GAAY,OACfX,EAAAA,EAAAA,MAAc,WAAS,IACvBA,EAAAA,EAAAA,MAAc,6BAA2B,GAGtCY,IAAa,OAChBZ,EAAAA,EAAAA,MAAc,MAAI,IAClBA,EAAAA,EAAAA,MAAc,WAAS,GAGpBa,IAAgB,OACnBb,EAAAA,EAAAA,MAAc,UAAQ,IACtBA,EAAAA,EAAAA,MAAc,iBAAe,GAG1Bc,IAAe,OAClBd,EAAAA,EAAAA,MAAc,OAAK,IACnBA,EAAAA,EAAAA,MAAc,aAAW,6oBCjB5B,UAAMe,IAAgB,QACnBf,EAAAA,EAAAA,MAAc,QAAM,KACpBA,EAAAA,EAAAA,MAAc,qBAAmB,6oBCFpC,IAAMgB,IAAU,SACbhB,EAAAA,EAAAA,MAAc,MAAI,MAClBA,EAAAA,EAAAA,MAAc,QAAM,IAGjBiB,IAAW,SACdjB,EAAAA,EAAAA,MAAc,MAAI,MAClBA,EAAAA,EAAAA,MAAc,SAAO,8HCRlBkB,YAAY,QAElB,SAAeC,WAAAA,GAAY,CACzBC,QAAS,CACPC,QAAS,CAEPC,KAAM,SAGVC,WAAY,CACVC,WAAY,CAAC,IAAIC,KAAK,KACtBC,MAAO,CACLC,MAAOT,GAGTU,GAAI,CACFD,MAAOT,GAETW,GAAI,CACFF,MAAOT,GAETY,GAAI,CACFH,MAAOT,GAETa,GAAI,CACFJ,MAAOT,GAETc,GAAI,CACFL,MAAOT,GAETe,GAAI,CACFN,MAAOT,weCPb,mBACE,OAA+CtB,EAAAA,EAAAA,KAC7C,SAACC,GAAK,OAAKA,EAAMqC,IAAI,IADfC,EAAS,EAATA,UAAWlC,EAAQ,EAARA,SAAUmC,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QAG3BC,GAAkB1C,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAM0C,OAAO,IAAzDD,cAEFE,GAAWC,EAAAA,EAAAA,MAEX9C,GAAQ+C,EAAAA,EAAAA,KAEoD,06BAAlCC,EAAAA,EAAAA,UAA6B,MAAK,GAA3DC,EAAQ,KAAEC,EAAW,KAEtBC,EAAc,SAACC,GACnBF,EAAY,MACZL,GAASQ,EAAAA,EAAAA,GAASD,GACpB,EAEA,OACE,gBAACE,EAAA,EAAG,KAEF,gBAACC,EAAA,EAAM,CAACvB,MAAM,cAAcwB,SAAS,UACnC,gBAACC,EAAA,EAAO,KACN,gBAACH,EAAA,EAAG,CAACI,GAAI,CAAEC,SAAU,EAAG3B,MAAO,SAC5BU,IAAWC,aAAa,EAAbA,EAAeiB,OAE7B,gBAACC,EAAA,EAAU,CACTC,KAAK,QACLC,KAAK,QACL/B,MAAM,UACN,aAAW,OACX0B,GAAI,CAAEM,GAAI,GACVC,QAAS,SAACC,GAAK,OAAKhB,EAAYgB,EAAMC,cAAc,GAEpD,gBAACC,EAAA,EAAY,OAEf,gBAACC,EAAA,EAAI,CACHpB,SAAUA,EACVqB,OAAQrB,EACRsB,QAAS,kBAAMrB,EAAY,KAAK,GAEhC,gBAACsB,EAAA,EAAQ,CACPd,GAAI,CAAE1B,MAAO,QACbiC,QAAS,kBAAMd,EAAY9C,EAAAA,EAAAA,MAAY,GAAC,QAI1C,gBAACmE,EAAA,EAAQ,CACPd,GAAI,CAAE1B,MAAO,QACbiC,QAAS,kBAAMd,EAAY9C,EAAAA,EAAAA,MAAY,GAAC,YAK3CoC,EACCC,EACE,gCACE,gBAAC+B,EAAA,EAAM,CACLzC,MAAM,UACN0B,GAAI,CAAEM,GAAI,GACVC,QAAS,kBAAMpB,GAAS6B,EAAAA,EAAAA,KAAQ,GAAM,GAAC,QAIzC,gBAACD,EAAA,EAAM,CACLzC,MAAM,UACN0B,GAAI,CAAEiB,cAAe,QACrBC,UACE,uBACEC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAChCC,IAAG,+BAA0BxC,KAGjCyB,QAAS,kBAAMpB,GAASoC,EAAAA,EAAAA,KAAa,GAAM,GAE1C3E,IAIL,iCAGF,gBAACmE,EAAA,EAAM,CACLzC,MAAM,UACNiC,QAAS,kBAAMpB,GAASqC,EAAAA,EAAAA,KAAc,GAAM,GAE3ClF,EAAMmF,EAAAA,GAAAA,MAOpB,EC5GD,IAAMC,GAAQC,EAAAA,EAAAA,OAAK,kBAAM,keAA2B,IAEpD,mBACE,OAA8BpF,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMoF,MAAM,IAA5DC,EAAQ,EAARA,SAAUC,EAAO,EAAPA,QAElB,OACE,gBAAClC,EAAA,EAAG,CACFI,GAAI,CACF+B,QAAS,SAGX,gBAAC,EAAAC,SAAQ,KAAEF,GAAW,gBAACJ,EAAK,OAC5B,gBAAC9B,EAAA,EAAG,CACFI,GAAI,CACFiC,KAAM,IAGPJ,GAAY,gBAACK,EAAM,MACpB,gBAACtC,EAAA,EAAG,KACF,gBAAC,KAAM,QAKhB,EC9BM,IAAMuC,EAAW,SAACC,GACvB,OAAO,gBAAC,EAAAJ,SAAQ,CAACK,SAAU,kCAAQD,EACrC,aCIME,GAASX,EAAAA,EAAAA,OAAK,kBAAM,qkBAA4B,IAKtD,iBAAe,GAAuC,IAApCS,EAAQ,EAARA,SACVG,GAAWC,EAAAA,EAAAA,MAEjB,GAA4BjG,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMoF,MAAM,IAA1D1B,EAAI,EAAJA,KAAMuC,EAAS,EAATA,UAERtD,GAAWC,EAAAA,EAAAA,MAETsD,GAAenG,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMc,MAAM,IAArDoF,WACR,GAA0BnG,EAAAA,EAAAA,KAAe,SAACoG,GAAK,OAAKA,EAAM9D,IAAI,IAAtDE,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QASd,OAPA4D,EAAAA,EAAAA,YAAU,WACR,IAAMC,EDlBoB,SAACC,GAC7B,GAAIA,KAAQC,EAAU,OAAOA,EAASD,GACtC,IAAME,EAAQF,EAAKG,MAAM,KAEzB,IADAD,EAAME,MACCF,EAAMG,OAAS,GAAG,CACvB,IAAMC,EAAWJ,EAAM5E,KAAK,KAC5B,GAAIgF,KAAYL,GACGA,EAASK,GAAlBlD,KACC+C,MAAM,KAAKE,SAAWL,EAAKG,MAAM,KAAKE,OAAQ,OAAOJ,EAASK,GAEzEJ,EAAME,KACR,CACF,CCMsBG,CAAed,EAASe,UACtCT,GAAa3C,IAAS2C,EAAU3C,MAClCf,GAASoE,EAAAA,EAAAA,GAAUV,GAEvB,GAAG,CAACN,IAGF,gCACGrC,GAAQwC,EACPD,EACE1D,EACEC,GAAiC,WAAtBuD,EAASe,SAClBlB,EAEA,gBAAC,KAAQ,CAACoB,GAAG,WAIf,gBAAC,KAAQ,CAACA,GAAG,aAGfpB,EAGF,iCACC,IACH,gBAAC,EAAAJ,SAAQ,KACP,gBAACM,EAAM,OAId,ECpDD,IAAMmB,GAAO9B,EAAAA,EAAAA,OAAK,kBAAM,uWAA2B,IAC7C+B,GAAU/B,EAAAA,EAAAA,OAAK,kBAAM,wDAA8B,IACnDgC,GAAQhC,EAAAA,EAAAA,OAAK,kBAAM,gNAA4B,IAuBxCiC,EAAwB,CACnC,CACEC,OAAO,EACPC,QAAS3B,EAAS,gBAACsB,EAAI,QAEzB,CACEX,KAAM,WACNgB,QAAS3B,EAAS,gBAACuB,EAAO,QAE5B,CACEZ,KAAM,SACNgB,QAAS3B,EAAS,gBAACwB,EAAK,o9BC9BrB,MAeD/B,EAAwB,CAC5B,CACEkB,KAAM,IACNgB,QAAS,gBAACC,EAAc,CAAC3B,SAAU,gBAAC4B,EAAM,QAC1C5B,SAAU,GAAF,UACH6B,onBAAM,CACT,CACEnB,KAAM,IACNgB,QAAS,gBAAC,KAAQ,CAACN,GAAG,WAMjBT,iWAAsB,CAAH,GD/BR,CACtB,IAAK,CACH7C,KAAM,IACNuC,WAAW,EACXZ,UAAU,EACVC,SAAS,GAEX,WAAY,CACV5B,KAAM,WACNuC,WAAW,EACXZ,UAAU,EACVC,SAAS,GAEX,SAAU,CACR5B,KAAM,SACNuC,WAAW,EACXZ,UAAU,EACVC,SAAS,KCkBb,yBC5BA,mBACE,IAAMoC,GAAcC,EAAAA,EAAAA,QAAyB,MAEvChF,GAAWC,EAAAA,EAAAA,MAMjB,OAJAwD,EAAAA,EAAAA,YAAU,WACRzD,GAASuD,EAAAA,EAAAA,MACX,GAAG,IAGD,gBAAC,KAAgB,CACf0B,IAAKF,EACLG,SAAU,EACVC,aAAc,CAAEC,SAAU,MAAOC,WAAY,UAC7CC,kBAAkB,EAClBC,iBAAkB,IAClBC,OAAQ,SAACC,GAAU,OACjB,gBAACzE,EAAA,EAAU,CACT7B,MAAM,UACNiC,QAAS,wBAAyB,QAAzB,EAAM2D,EAAYW,eAAO,aAAnB,EAAqBC,cAAcF,EAAW,GAE7D,gBAACG,EAAA,EAAS,MACC,IAGdC,EAAAA,EAAAA,IAAUC,GAGhB,EC/BD,IAAMC,GAAOC,EAAAA,EAAAA,GAAWC,SAASC,eAAe,SAE1CC,GAAYC,EAAAA,EAAAA,IAAa5C,EAAAA,IAE/B6C,OAAOC,iBAAiB,QAAQ,WAC9BP,EAAKQ,OACH,gBAAC,KAAQ,CAAC/C,MAAOA,EAAAA,IACf,gBAAC,IAAW,CAACgD,QAAS,KAAML,UAAWA,GACrC,gBAAC,KAAU,KACT,gBAACM,EAAA,EAAa,CAACC,MAAOA,GACpB,gBAACC,EAAG,UAMhB,iOCbMC,GAAWC,EAAAA,EAAAA,IAAgB,CAC/B1I,OAAAA,EAAAA,GACAhB,MAAAA,EAAAA,EACAsF,OAAAA,EAAAA,EACA1C,QAAAA,EAAAA,GACAL,KAAAA,EAAAA,GACAoH,OAAAA,EAAAA,GACAC,OAAAA,EAAAA,GACAC,KAAAA,EAAAA,KAGIC,EAAgB,CACpBC,IAAK,UACLC,QAAAA,EAAAA,EACAC,UAAW,CAAC,SAAU,UAAW,OAAQ,SAAU,SAAU,SAGzDC,GAAmBC,EAAAA,EAAAA,IAAeL,EAAeL,GAOvD,SALcW,EAAAA,EAAAA,IAAe,CAC3BC,QAASH,EACTI,WAAY,CAACC,EAAAA,KAUR,IAAMzH,EAAiB,WAAH,OAAsB0H,EAAAA,EAAAA,KAA0B,EAC9DvK,EAAkDwK,EAAAA,0GC/BzDb,GAASc,EAAAA,EAAAA,IAAY,CACzB9G,KAAM,SACN+G,aAR2B,CAC3BC,YAAY,EACZC,UAAU,EACVC,UAAU,GAMVrB,SAAU,CACRsB,QAAO,SAAC7K,EAAO,GAAqC,IAAnC8K,EAAO,EAAPA,QACf9K,EAAM2K,SAAWG,CACnB,EACAtG,QAAO,SAACxE,EAAO,GAAqC,IAAnC8K,EAAO,EAAPA,QACf9K,EAAM4K,SAAWE,CACnB,GAEFC,cAAa,SAACC,GACZA,EAAQC,QAAQC,EAAAA,GAAAA,SAAoB,SAAClL,GACnCA,EAAM0K,YAAa,CACrB,IACAM,EAAQC,QAAQE,EAAAA,IAAiB,SAACnL,GAChCA,EAAM0K,YAAa,CACrB,IACAM,EAAQC,QAAQG,EAAAA,GAAAA,SAAyB,SAACpL,GACxCA,EAAM0K,YAAa,EACnB1K,EAAM2K,UAAW,CACnB,IACAK,EAAQC,QAAQI,EAAAA,IAAU,SAACrL,GACzBA,EAAM2K,UAAW,CACnB,GACF,IAEK,EAA6BjB,EAAO4B,QAA5BT,EAAO,EAAPA,QAASrG,EAAO,EAAPA,QACxB,QAAekF,EAAc,86BC5B7B,IAAM6B,EAAsB,GAGtB7I,GAAU8H,WAAAA,IAAY,CAC1B9G,KAAM,UACN+G,aAAc,CACZ/H,QAAS6I,EACTC,mBAAoB,EACpB/I,cAAe8I,EAAS,GACxBE,QARsB,IAUxBlC,SAAU,CACRmC,WAAU,SAAC1L,EAAO,GAAuC,IAArC8K,EAAO,EAAPA,QAClB9K,EAAM0C,QAAU,EAAIoI,EACtB,EACAa,sBAAqB,SAAC3L,EAAO,GAAoC,IAAlC8K,EAAO,EAAPA,QAC7B9K,EAAMwL,mBAAqBV,EAC3B9K,EAAMyC,cAAgBzC,EAAM0C,QAAQoI,EACtC,EACAc,WAAU,SAAC5L,EAAO,GAAsC,IAApC8K,EAAO,EAAPA,QAClB9K,EAAMyL,QAAU,EAAIX,EACtB,EACAe,YAAW,SAAC7L,EAAO,GAAoC,IAAlC8K,EAAO,EAAPA,QACnB9K,EAAMyL,QAAQK,KAAKhB,EACrB,KAGG,EAKHpI,EAAQ4I,QAJVI,EAAU,EAAVA,WACAC,EAAqB,EAArBA,sBACAC,EAAU,EAAVA,WACAC,EAAW,EAAXA,YAEF,QAAenJ,EAAe,yFC9CxB5C,GAAQ0K,EAAAA,EAAAA,IAAY,CACxB9G,KAAM,QACN+G,aAAc,CACZ3K,MAAOK,EAAAA,EAAAA,OAEToJ,SAAU,CACRpG,SAAQ,SAACnD,EAAO,GAAmC,IAAjC8K,EAAO,EAAPA,QAChB9K,EAAMF,MAAQgL,CAChB,KAGW3H,EAAarD,EAAMwL,QAAnBnI,SACf,QAAerD,EAAa,61ECf5B,ovNAuDA,IAMaiM,GAAiBC,EAAAA,EAAAA,IAAiB,sBAAuBC,EAAAA,IAEzDC,GAAkBF,EAAAA,EAAAA,IAC7B,uBAAsB,6BACtB,2FAC6C,OADpCC,EAAK,EAALA,MAAOE,EAAM,EAANA,OAAQ7I,EAAQ,EAARA,SAChB8I,EAAQ,CAAEC,OAAO,EAAOC,OAAO,GAAM,UAC9BC,EAAAA,EAAAA,IAAO,CAAEN,MAAAA,EAAOE,OAAAA,EAAQC,MAAAA,EAAO9I,SAAAA,IAAW,mFACxD,mDAJqB,IAOXkJ,GAAqBR,EAAAA,EAAAA,IAChC,2BAA0B,6BAC1B,mGAEoB,OAFXO,EAAM,EAANA,OAAQ1C,EAAG,EAAHA,IAAkC4C,EAAQ,EAARA,SACzCC,EAAYD,IAAyB9C,KAArC+C,OAAM,EACSA,EAAO7C,GAAtB8C,EAAE,EAAFA,GAAIR,EAAM,EAANA,OAAM,UACLS,EAAAA,EAAAA,IAAY,CAAED,GAAIA,EAAKJ,OAAAA,EAAQJ,OAAAA,IAAS,mFACtD,qDALyB,IAQtBxC,GAAOa,EAAAA,EAAAA,IAAY,CACvB9G,KAAM,OACN+G,aA3B6B,CAC7BiC,OAAQ,CAAC,EACT/C,UAAMkD,EACNC,UAAW,IAyBXvD,SAAU,CACRwD,QAAO,SAAC/M,EAAO,GAAkC,IAAhC8K,EAAO,EAAPA,QACTkC,EAAU,EAAH,GAAMlC,EAAQmC,GAAKnC,GAChC9K,EAAM0M,OAAS,EAAH,KAAQ1M,EAAM0M,QAAWM,EACvC,EACAE,WAAU,SAAClN,EAAO,GAAoC,IAAlC8K,EAAO,EAAPA,QACZqC,EAAU,EAAH,GAAQnN,EAAM0M,eACpBS,EAAQrC,GACf9K,EAAM0M,OAAS,EAAH,GAAQS,EACtB,EACAC,WAAU,SAACpN,EAAO,GAA8C,IAA5C8K,EAAO,EAAPA,QAClB9K,EAAM2J,KAAOmB,CACf,EACAuC,aAAY,SAACrN,EAAO,GAAqC,IAAnC8K,EAAO,EAAPA,QACdwC,EAAa,EAAItN,EAAM8M,WAC7BQ,EAAWxB,KAAKhB,GAChB9K,EAAM8M,UAAYQ,CACpB,EACAC,eAAc,SAACvN,GACb,IAAMsN,EAAa,EAAItN,EAAM8M,WAC7BQ,EAAWE,QACXxN,EAAM8M,UAAYQ,CACpB,EACAG,iBAAgB,SAACzN,EAAO,GAAmD,IAAjD8K,EAAO,EAAPA,QAChBjB,EAAqBiB,EAArBjB,IAAK6D,EAAgB5C,EAAhB4C,YACbC,EAAQC,IAAI,sBAAD,OAAuB5N,EAAM0M,OAAO7C,GAAKnG,OACpD,IAAMyJ,EAAU,EAAH,GAAQnN,EAAM0M,QAC3BS,EAAQtD,GAAK6D,YAAcA,EAC3B1N,EAAM0M,OAASmB,OAAOC,OAAO9N,EAAM0M,OAAQS,EAC7C,EACA9B,SAAQ,SAACrL,GACP,IAAQ0M,EAAW1M,EAAX0M,OACRmB,OAAOE,OAAOrB,GAAQsB,SAAQ,SAACC,GAAS,MACtCA,EAAKtB,GAAGvL,QACR6M,EAAKC,aAAa9M,QACF,QAAhB,EAAA6M,EAAKE,mBAAW,OAAhB,EAAkBC,YAAYJ,SAAQ,SAACK,GAAK,OAAKA,EAAMC,MAAM,GAC/D,IACAtO,EAAQ6N,OAAOC,OAAO9N,EAAO,CAC3B0M,OAAQ,CAAC,EACT/C,UAAMkD,EACNC,UAAW,IAEf,GAEF/B,cAAa,SAACC,GACZA,EAAQC,QAAQc,EAAewC,WAAW,SAACvO,EAAO,GAAgB,IAAd8K,EAAO,EAAPA,QAC1C6B,EAAyC7B,EAAzC6B,GAAIe,EAAqC5C,EAArC4C,YAAavB,EAAwBrB,EAAxBqB,OAAQgC,EAAgBrD,EAAhBqD,YACzBzK,EAAqByI,EAArBzI,KACFuJ,EADuBd,EAAfqC,WAERrB,EAAU,EAAH,GAAQnN,EAAM0M,QAC3BS,EAAQF,GAAM,CACZwB,SAAU,QACV9B,GAAAA,EACAe,YAAAA,EACAhK,KAAAA,EACAuJ,GAAAA,EACAd,OAAAA,EACAgC,YAAAA,EACAD,aAAc,IAAIQ,aAClBC,YAAQ9B,GAEV7M,EAAM0M,OAASmB,OAAOC,OAAO9N,EAAM0M,OAAQS,EAC7C,IACAnC,EAAQC,QAAQiB,EAAgBqC,WAAW,SAACvO,EAAO,GAAgB,IAAd8K,EAAO,EAAPA,QAC3C6B,EAA8C7B,EAA9C6B,GAAIR,EAA0CrB,EAA1CqB,OAAQwC,EAAkC7D,EAAlC6D,OAAQrL,EAA0BwH,EAA1BxH,SAAU6K,EAAgBrD,EAAhBqD,YAC9BzK,EAAqByI,EAArBzI,KACFuJ,EADuBd,EAAfqC,WAERrB,EAAU,EAAH,GAAQnN,EAAM0M,QAC3BS,EAAQF,GAAM,CACZwB,SAAU,SACV9B,GAAAA,EACAgC,OAAAA,EACAjL,KAAAA,EACAuJ,GAAAA,EACAd,OAAAA,EACAgC,YAAAA,EACAD,aAAc,IAAIQ,aAClBhB,iBAAab,EACb+B,aAActL,GAEhBtD,EAAM0M,OAASmB,OAAOC,OAAO9N,EAAM0M,OAAQS,EAC7C,IACAnC,EAAQC,QAAQuB,EAAmB+B,WAAW,SAACvO,EAAO,GAAgB,IAAd8K,EAAO,EAAPA,QAC9C6D,EAAmB7D,EAAnB6D,OAAQxC,EAAWrB,EAAXqB,OACVgB,EAAU,EAAH,GAAQnN,EAAM0M,QACrBO,EAAKd,EAAOqC,WAClBrB,EAAQF,GAAM,EAAH,KACNE,EAAQF,IAAG,IACd0B,OAAAA,IAEF3O,EAAM0M,OAASmB,OAAOC,OAAO9N,EAAM0M,OAAQS,EAC7C,GACF,IAEK,EAQHxD,EAAK2B,QANP4B,GADO,EAAPH,QACU,EAAVG,YACAE,EAAU,EAAVA,WAGAK,GAFY,EAAZJ,aACc,EAAdE,eACgB,EAAhBE,kBACApC,EAAQ,EAARA,SAEF,QAAe1B,EAAY,4ECvLrBvE,GAASoF,WAAAA,IAAY,CACzB9G,KAAM,SACN+G,aAAc,CACZ/G,KAAM,GACNuC,WAAW,EACXZ,UAAU,EACVC,SAAS,GAEXiE,SAAU,CACRxC,UAAS,SAAC/G,EAAO,GAA2C,IAAzC8K,EAAO,EAAPA,QACjB9K,EAAQ6N,OAAOC,OAAO9N,EAAO8K,EAC/B,KAGW/D,EAAc3B,EAAOkG,QAArBvE,UACf,QAAe3B,EAAc,mHCGvBqF,EAAqB,CACzBnI,UAAW,iDACXlC,SAAU,GACVoC,SAAS,EACTD,MAAM,EACNsM,OAAQ,KACRC,YAAY,EACZC,SAAS,EACTC,SAAS,GAEL3M,GAAOmI,EAAAA,EAAAA,IAAY,CACvB9G,KAAM,OACN+G,aAAAA,EACAlB,SAAU,CACR0F,QAAO,SAACjP,EAAO,GAAqC,IAAnC8K,EAAO,EAAPA,QACf9K,EAAQ6N,OAAOC,OAAO9N,EAAO8K,EAAS,CAAEgE,YAAY,GACtD,EACA9J,cAAa,SAAChF,EAAO,GAAqC,IAAnC8K,EAAO,EAAPA,QACrB9K,EAAQ6N,OAAOC,OAAO9N,EAAO,CAAE8O,WAAYhE,GAC7C,EACArK,MAAK,SAACT,EAAO,GAAqC,IAAnC8K,EAAO,EAAPA,QACb9K,EAAQ6N,OAAOC,OAAO9N,EAAO8K,EAAS,CAAEtI,SAAS,GACnD,EACA0M,SAAQ,SAAClP,EAAO,GAAqC,IAAnC8K,EAAO,EAAPA,QAChB9K,EAAQ6N,OAAOC,OAAO9N,EAAO,CAAEgP,QAASlE,GAC1C,GAEFC,cAAa,SAACC,GACZA,EAAQC,QAAQ/E,EAAAA,GAAAA,WAAsB,SAAClG,EAAO,GAA4B,IAAf6O,EAAM,EAAjB/D,QAAW+D,OACrDA,IACF7O,EAAQ6N,OAAOC,OAAO9N,EAAO,CAAE6O,OAAAA,EAAQtM,MAAM,IAEjD,IACAyI,EAAQC,QACNkE,EAAAA,GAAAA,WACA,SAACnP,EAAO,GAA4B,IAAf6O,EAAM,EAAjB/D,QAAW+D,OACfA,IAAQ7O,EAAQ6N,OAAOC,OAAO9N,EAAO,CAAE6O,OAAAA,EAAQtM,MAAM,IAC3D,IAEFyI,EAAQC,QAAQmE,EAAAA,IAAkB,SAACpP,GAEjCA,EAAQ6N,OAAOC,OAAO9N,EAAOyK,EAC/B,GACF,IAEK,EAAoDpI,EAAKiJ,QAAjD2D,EAAO,EAAPA,QAASjK,EAAa,EAAbA,cAAevE,EAAK,EAALA,MAAe,EAARyO,SAC9C,QAAe7M,EAAY,0pBCnE3B,gnGAAAgN,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,kkBAMA,oBAAe,oFAEgB,OAAvBC,GAAWC,EAAAA,EAAAA,KAAY,mBAEtBC,EAAAA,EAAAA,GAAa,CAClBC,UAAW,CACTC,OAAQ,CACN,+DACA,iEAGJC,WAAY,EAACC,EAAAA,EAAAA,KAAcN,EAASO,WACpCC,qBAAsB,EAACC,EAAAA,EAAAA,MACvBC,aAAc,EAACC,EAAAA,EAAAA,MACfC,cAAe,CACbZ,EAASxC,WACTqD,EAAAA,EAAAA,GAAU,CACRC,KAAM,CACJ,kFACA,kFACA,kFACA,kFACA,sFAINC,kBAAmB,CACjBC,iBAAkB,IAClBC,gBAAiB,IACjBC,YAAa,IACbC,UAAU,MAEZ,0vCCtCJ,ovNAyBO,IAAMC,EAAyB,CACpCxK,YAAY,EACZ4I,YAAY,EACZ9N,YAAY,EACZ2P,cAAe,GACfC,eAAgB,GAChBC,cAAe,GACfC,UAAW,MAGA5K,GAAa8F,EAAAA,EAAAA,IACxB,oBAAmB,6BACnB,WAAO+E,EAAG,GAAF,+EAEQ,GAFJtE,EAAQ,EAARA,SACFkE,EAAmBlE,IAAyB3L,OAA5C6P,cACA9B,EAAYpC,IAAyBpK,KAArCwM,OACH8B,EAAe,CAAF,wCAAS,CAAC,GAAC,wBACHK,EAAAA,EAAAA,IAAcL,GAAc,OAArC,GAAG,EAAH,KACC,CAAF,yCAAS,CAAC,GAAC,oCAEDM,EAAAA,EAAAA,IAAgBN,GAAc,QAOtC,GAPVG,EAAY,EAAH,KAETF,GAAiBM,EAAAA,EAAAA,IAAaP,GAAc,KAGhDC,EAAc,KACdE,EAAS,KACDjC,EAAM,uCAAWW,IAAc,gEAFvCoB,eAAc,KACdE,UAAS,KACTjC,OAAQ,EAAF,iEAGD,CAAC,GAAC,2DAEZ,qDApBkB,IAuBRM,GAAgBnD,EAAAA,EAAAA,IAC3B,uBAAsB,6BACtB,WAAO2E,EAAuB,GAAF,6EACZ,OADgBlE,EAAQ,EAARA,SACtBoC,EAAYpC,IAAyBpK,KAArCwM,OAAM,UACYmC,EAAAA,EAAAA,IAAcL,GAAc,OAArC,IAAG,EAAH,KACA,CAAF,0CAEaM,EAAAA,EAAAA,IAAgBN,GAAc,OAUtC,GAVVG,EAAY,EAAH,KAETF,GAAiBM,EAAAA,EAAAA,IAAaP,GAAc,KAKhDA,EAAa,KACbC,EAAc,KACdE,EAAS,KACDjC,EAAM,uCAAWW,IAAc,gEALvCV,YAAY,EACZ9N,YAAY,EACZ2P,cAAa,KACbC,eAAc,KACdE,UAAS,KACTjC,OAAQ,EAAF,gEAGD,CACL7N,YAAY,IACb,yDAGI,CACLA,YAAY,IACb,0DAEJ,qDA5BqB,IA+BlBF,GAAS0J,EAAAA,EAAAA,IAAY,CACzB9G,KAAM,SACN+G,aAAciG,EACdnH,SAAU,CACRvE,cAAa,SAAChF,EAAO,GAAqC,IAAnC8K,EAAO,EAAPA,QACrB9K,EAAM8O,WAAahE,CACrB,EACAqG,cAAa,SAACnR,EAAO,GAAqC,IAAnC8K,EAAO,EAAPA,QACrB9K,EAAMgB,WAAa8J,CACrB,EACAsE,iBAAgB,SAACpP,GAEfA,EAAQ6N,OAAOC,OAAO9N,EAAO0Q,EAAW,CAAExK,YAAY,GACxD,GAEF6E,cAAa,SAACC,GACZA,EAAQC,QAAQ/E,EAAWkL,SAAS,SAACpR,GACnCA,EAAQ6N,OAAOC,OAAO9N,EAAO0Q,EAAW,CAEtCC,cAAe3Q,EAAM2Q,eAEzB,IAEA3F,EAAQC,QAAQ/E,EAAWqI,WAAW,SAACvO,EAAO,GAAgB,IAAd8K,EAAO,EAAPA,QAC9C,GAAIA,EAAS,CACX,IAAMuG,EAAO,EAAH,GAAQvG,UACXuG,EAAKxC,QACZ7O,EAAQ6N,OAAOC,OAAO9N,EAAOqR,EAAM,CAAEnL,YAAY,KACvC0K,iBAAgBU,EAAAA,EAAAA,IAActR,EAAM2Q,cAChD,CACF,IAEA3F,EAAQC,QAAQkE,EAAcZ,WAAW,SAACvO,EAAO,GAAgB,IAAd8K,EAAO,EAAPA,QACjD,GAAIA,EAAS,CACX,IAAMuG,EAAO,EAAH,GAAQvG,UACXuG,EAAKxC,OACZ7O,EAAQ6N,OAAOC,OAAO9N,EAAOqR,EAC/B,CACF,GACF,IAGK,EAA2DvQ,EAAOwK,QAA1DtG,EAAa,EAAbA,cAAemM,EAAa,EAAbA,cAAe/B,EAAgB,EAAhBA,iBAC7C,QAAetO,EAAc,8iBCtI7B,ovNA6BA,IAAM2J,EAAuB,CAC3B8G,OAAO,EACPC,SAAU,EACVrD,iBAAatB,EACbF,QAAIE,EACJV,YAAQU,EACR4E,SAAS,EACTC,UAAU,EACVtF,WAAOS,EACPa,iBAAab,EACb8B,YAAQ9B,EACRZ,WAAOY,EACPkC,SAAS,EACT4C,QAAQ,GAGGzG,GAAac,EAAAA,EAAAA,IAAiB,mBAAoBC,EAAAA,IAElD2F,GAAc5F,EAAAA,EAAAA,IACzB,oBAAmB,6BACnB,WAAO+E,EAAG,GAAF,+EACsB,OADlBtE,EAAQ,EAARA,SAAQ,EACgBA,IAAyBhD,OAAnD2C,EAAK,EAALA,MAAOH,EAAK,EAALA,MAAOE,EAAM,EAANA,OAAM,UACfI,EAAAA,EAAAA,IAAO,CAAEN,MAAOA,EAAQG,MAAOA,EAAQD,OAAQA,IAAU,mFACvE,qDAJkB,IAOR0F,GAAiB7F,EAAAA,EAAAA,IAC5B,uBAAsB,6BACtB,WAAOO,EAA+B,GAAF,6EAChB,OADoBE,EAAQ,EAARA,SAAQ,EACtBA,IAAyBhD,OAAzCkD,EAAE,EAAFA,GAAIR,EAAM,EAANA,OAAM,UACLS,EAAAA,EAAAA,IAAY,CAAED,GAAIA,EAAKJ,OAAAA,EAAQJ,OAAQA,IAAU,mFAC/D,qDAJqB,IAOXf,GAAkBY,EAAAA,EAAAA,IAC7B,wBAAuB,YACvB,8FACQ,IAAI8F,SAAQ,SAACC,GAAO,OAAKC,YAAW,kBAAMD,EAAQ,EAAE,GAAE,IAAK,IAAC,gCAC3D,CAAC,GAAC,4CAIPtI,GAASe,EAAAA,EAAAA,IAAY,CACzB9G,KAAM,SACN+G,aAAAA,EACAlB,SAAU,CACR4B,gBAAe,SAACnL,EAAO,GAAgD,IAA9C8K,EAAO,EAAPA,QACvB9K,EAAQ6N,OAAOC,OAAO9N,EAAO8K,EAAS,CACpCyG,OAAO,EACPxC,QAASjE,EAAQsB,MAAMC,MACvBsF,OAAQ7G,EAAQ6G,QAEpB,EACAlE,iBAAgB,SAACzN,EAAO,GAA4C,IAA1C8K,EAAO,EAAPA,QAChB6B,EAAO3M,EAAP2M,GACR3M,EAAQ6N,OAAOC,OAAO9N,EAAO,CAC3B0N,YAAa5C,EACb6B,GAAAA,GAEJ,GAEF5B,cAAa,SAACC,GACZA,EAAQC,QAAQC,EAAWkG,SAAS,SAACpR,GAEnCA,EAAQ6N,OAAOC,OAAO9N,EAAO,CAC3BuR,OAAO,EACPE,SAAS,EACTD,UAAU,IAAIS,MAAOC,WAEzB,IACAlH,EAAQC,QAAQC,EAAWqD,WAAW,SAACvO,EAAO,GAAgB,IAAd8K,EAAO,EAAPA,QAC9C9K,EAAQ6N,OAAOC,OAAO9N,EAAO8K,EAC/B,IACAE,EAAQC,QAAQ2G,EAAYR,SAAS,SAACpR,GAEpCA,EAAQ6N,OAAOC,OAAO9N,EAAO,CAC3B0R,UAAU,EACVF,UAAU,IAAIS,MAAOC,WAEzB,IACAlH,EAAQC,QAAQ2G,EAAYrD,WAAW,SAACvO,EAAO,GAAgB,IAAd8K,EAAO,EAAPA,QAC/C9K,EAAQ6N,OAAOC,OAAO9N,EAAO8K,EAC/B,IACAE,EAAQC,QAAQ4G,EAAetD,WAAW,SAACvO,EAAO,GAAgB,IAAd8K,EAAO,EAAPA,QAClD9K,EAAQ6N,OAAOC,OAAO9N,EAAO8K,EAC/B,IACAE,EAAQC,QAAQG,EAAgBgG,SAAS,SAACpR,GAAU,QAC1C,QAAR,EAAAA,EAAM2M,UAAE,OAAR,EAAUvL,QACO,QAAjB,EAAApB,EAAMmO,mBAAW,OAAjB,EAAmBC,YAAYJ,SAAQ,SAACK,GAAK,OAAKA,EAAMC,MAAM,IAC9D,IAAMrC,EAAQjM,EAAMiM,OAAS,CAAC,EAC9BjM,EAAQ6N,OAAOC,OAAO9N,EAAO,CAC3B2M,QAAIE,EACJT,WAAOS,EACPZ,MAAAA,GAEJ,IACAjB,EAAQC,QAAQG,EAAgBmD,WAAW,SAACvO,GAE1CA,EAAQ6N,OAAOC,OAAO9N,EAAOyK,EAC/B,GACF,IAGK,EAA8ChB,EAAO6B,QAA7CH,EAAe,EAAfA,gBAAiBsC,EAAgB,EAAhBA,iBAChC,QAAehE,EAAc,8lBCrI7B,ovNACA,IAAM0I,EAAgB,WAAH,OAASnJ,OAAOjD,SAASqM,QAAQ,EAEvCpB,EAAgB,WAAH,YACD,IAAhBhI,OAAOqJ,MAAwBrJ,OAAOqJ,KAAKC,QAAQ,EAE/CnD,EAAoC,6BAAG,wGACX,QADW,EACtBnG,OAAOqJ,YAAI,aAAX,EAAaE,cAAc,CACrDC,WAAY7S,EAAAA,KACZ,OAFe,OAEf,SAFMmR,EAAS,EAATA,UAAS,kBAGVA,GAAS,2CACjB,kBALgD,mCAOpCI,EAAe,WAC1B,IAAIuB,EAAY,GAChB,OAAKzJ,OAAOqJ,MACOrJ,OAAOqJ,KAAKK,aAE/BD,EAAYzJ,OAAOqJ,KAAKnB,eAHCuB,CAK3B,EAEanB,EAAkC,6BAAG,iFAC3CtI,OAAOqJ,KAAM,CAAF,gDAEhBrJ,OAAOqJ,KAAKM,GAAG,aAAcR,GAC7BnJ,OAAOqJ,KAAKM,GAAG,UAAWR,GAAc,2CACzC,kBAL8C,sRCtB/C,ovNAWA,IAAMS,EAAwC,CAC5CC,OAAAA,GAGW7B,EAAoD,SAACL,GAAa,OAAKiC,EAAQjC,GAAeK,eAAe,EAE7GC,EAA2D,6BAAG,WAAON,GAAa,iFAAWiC,EAAQjC,GAAexB,gBAAe,mGAAxE,sCAE3D+B,EAAkD,SAACP,GAAa,OAAKiC,EAAQjC,GAAeO,cAAc,EAE1GI,EAAuD,6BAAG,WAAOX,GAAa,iFAAWiC,EAAQjC,GAAeW,gBAAe,mGAAxE,uTCrBpE,k8NAmDO,IAAMwB,EAAU,CACrBC,WAAY,CACV,CACEC,KAAM,CACJ,yBACA,+BACA,gCACA,gCACA,gCACA,4BAGJ,CACEA,KAAM,CAAC,2BACPC,SAAU,UACVC,WAAY,kBAKLjH,EAAK,6BAAG,iGAGb,OAFNE,EAAM,EAANA,OACAC,EAAK,EAALA,MACAuF,EAAM,EAANA,OAAM,SAEoBwB,UAAUC,aAAaC,aAAajH,GAAM,OAGO,OAHrE+B,EAAc,EAAH,KACXxB,EAAK,IAAI2G,kBAAkBR,GAC3BpF,EAAcf,EAAG4G,kBAAkBpH,EAAOqH,OAChDrF,EAAYC,YAAYJ,SAAQ,SAACK,GAAK,OAAK1B,EAAG8G,SAASpF,EAAOF,EAAY,IAAC,SACvDxB,EAAG+G,cAAa,OAAzB,OAALzH,EAAQ,EAAH,eACLU,EAAGgH,oBAAoB1H,GAAM,yBAC7B,IAAI6F,SAAQ,SAACC,GACjBpF,EAAGiH,eAAiB,SAAC5P,GACfA,EAAM6P,WAAW7B,YAAW,kBAAMD,EAAQpF,EAAGmH,iBAAiB,GAAE,IACtE,CACF,IAAE,iCACK,CACL3F,YAAAA,EACAxB,GAAAA,EACAR,OAAAA,EACAC,MAAAA,EACAsB,YAAAA,EACAqB,QAAS3C,EAAMC,MACfsF,OAAAA,IACD,4CACF,mDAzBiB,GA2BLpF,EAAM,6BAAG,mGAIZ,OAHRN,EAAK,EAALA,MACAG,EAAK,EAALA,MACAD,EAAM,EAANA,OACA7I,EAAQ,EAARA,SAAQ,SAEkB6P,UAAUC,aAAaC,aAAajH,GAAM,OAQnE,OARK+B,EAAc,EAAH,KACXxB,EAAK,IAAI2G,kBAAkBR,GAGjC3E,EAAYC,YAAYJ,SAAQ,SAACK,GAAK,OAAK1B,EAAG8G,SAASpF,EAAOF,EAAY,IAE1ExB,EAAGoH,QAAU,SAAC/P,GACZ2K,EAAS3K,EAAMgQ,QAAQ,EACzB,EAAC,SACKrH,EAAGsH,qBAAqBhI,GAAM,wBACfU,EAAGuH,eAAc,QAA1B,OAAN3H,EAAS,EAAH,eACNI,EAAGgH,oBAAoBpH,GAAO,yBAC9B,IAAIuF,SAAQ,SAACC,GACjBpF,EAAGiH,eAAiB,SAAC5P,GACfA,EAAM6P,WAAW7B,YAAW,kBAAMD,EAAQpF,EAAGmH,iBAAiB,GAAE,IACtE,CACF,IAAE,iCAEK,CAAE3F,YAAAA,EAAaxB,GAAAA,EAAIP,MAAAA,EAAOuC,OAAAA,EAAQxC,OAAAA,EAAQ7I,SAAAA,IAAU,4CAC5D,mDAzBkB,GA2BNsJ,EAAW,6BAAG,2FASxB,GARDD,EAAE,EAAFA,GACAR,EAAM,EAANA,OACAI,EAAM,EAANA,OAIAI,EAAIoH,QAAU,SAAC/P,GACb2K,EAAS3K,EAAMgQ,QAAQ,EACzB,EAEKrH,EAAIwH,yBAA0B,CAAF,+BACzBxH,EAAIsH,qBAAqB1H,GAAO,uBAGlC,IAAIuF,SAAQ,SAACC,GAAO,OAAKC,YAAW,kBAAMD,EAAQ,EAAE,GAAE,IAAK,IAAC,gCAE3D,CAAEpF,GAAAA,EAAIgC,OAAAA,EAAQxC,OAAAA,IAAQ,2CAC9B,gBAlBuB","sources":["webpack://sourcedao-pc-dapp/./src/api/config.ts","webpack://sourcedao-pc-dapp/./src/constants/local.ts","webpack://sourcedao-pc-dapp/./src/hooks/localHook.ts","webpack://sourcedao-pc-dapp/./src/langs/connect/index.ts","webpack://sourcedao-pc-dapp/./src/langs/register/index.ts","webpack://sourcedao-pc-dapp/./src/langs/login/index.ts","webpack://sourcedao-pc-dapp/./src/langs/sider/index.ts","webpack://sourcedao-pc-dapp/./src/langs/header/index.ts","webpack://sourcedao-pc-dapp/./src/langs/wallet/index.ts","webpack://sourcedao-pc-dapp/./src/langs/chat/index.ts","webpack://sourcedao-pc-dapp/./src/langs/meta/index.ts","webpack://sourcedao-pc-dapp/./src/utils/theme.ts","webpack://sourcedao-pc-dapp/./src/components/Header/index.tsx","webpack://sourcedao-pc-dapp/./src/components/Layout/index.tsx","webpack://sourcedao-pc-dapp/./src/utils/routes.tsx","webpack://sourcedao-pc-dapp/./src/components/ExplorerRoutes/index.tsx","webpack://sourcedao-pc-dapp/./src/routes/common/index.tsx","webpack://sourcedao-pc-dapp/./src/routes/index.tsx","webpack://sourcedao-pc-dapp/./src/App.tsx","webpack://sourcedao-pc-dapp/./src/main.tsx","webpack://sourcedao-pc-dapp/./src/store/index.ts","webpack://sourcedao-pc-dapp/./src/store/modules/dialog.ts","webpack://sourcedao-pc-dapp/./src/store/modules/friends.ts","webpack://sourcedao-pc-dapp/./src/store/modules/local.ts","webpack://sourcedao-pc-dapp/./src/store/modules/room.ts","webpack://sourcedao-pc-dapp/./src/store/modules/router.ts","webpack://sourcedao-pc-dapp/./src/store/modules/user.ts","webpack://sourcedao-pc-dapp/./src/utils/libp2p.ts","webpack://sourcedao-pc-dapp/./src/store/modules/wallet.ts","webpack://sourcedao-pc-dapp/./src/store/modules/webRTC.ts","webpack://sourcedao-pc-dapp/./src/utils/wallets/Sender/index.ts","webpack://sourcedao-pc-dapp/./src/utils/wallets/index.ts","webpack://sourcedao-pc-dapp/./src/utils/webRTC.ts"],"sourcesContent":["const env = process.env.WEB_ENV\r\n\r\nexport const CONNECTIONCONFIG =\r\n  env === 'pro'\r\n    ? {\r\n      network: 'testnet',\r\n      networkId: 'testnet',\r\n      nodeUrl: 'https://rpc.testnet.near.org',\r\n      walletUrl: 'https://wallet.testnet.near.org',\r\n      helperUrl: 'https://helper.testnet.near.org',\r\n      explorerUrl: 'https://explorer.testnet.near.org',\r\n    }\r\n    : env === 'pre'\r\n      ? {\r\n        network: 'testnet',\r\n        networkId: 'testnet',\r\n        nodeUrl: 'https://rpc.testnet.near.org',\r\n        walletUrl: 'https://wallet.testnet.near.org',\r\n        helperUrl: 'https://helper.testnet.near.org',\r\n        explorerUrl: 'https://explorer.testnet.near.org',\r\n      }\r\n      : env === 'sit'\r\n        ? {\r\n          network: 'testnet',\r\n          networkId: 'testnet',\r\n          nodeUrl: 'https://rpc.testnet.near.org',\r\n          walletUrl: 'https://wallet.testnet.near.org',\r\n          helperUrl: 'https://helper.testnet.near.org',\r\n          explorerUrl: 'https://explorer.testnet.near.org',\r\n        }\r\n        : env === 'dev'\r\n          ? {\r\n            network: 'testnet',\r\n            networkId: 'testnet',\r\n            nodeUrl: 'https://rpc.testnet.near.org',\r\n            walletUrl: 'https://wallet.testnet.near.org',\r\n            helperUrl: 'https://helper.testnet.near.org',\r\n            explorerUrl: 'https://explorer.testnet.near.org',\r\n          }\r\n          : {\r\n            network: 'testnet',\r\n            networkId: 'testnet',\r\n            nodeUrl: 'https://rpc.testnet.near.org',\r\n            walletUrl: 'https://wallet.testnet.near.org',\r\n            helperUrl: 'https://helper.testnet.near.org',\r\n            explorerUrl: 'https://explorer.testnet.near.org',\r\n          }\r\n\r\n// contractId\r\nexport const CONTRACTID =\r\n  env === 'pro'\r\n    ? ''\r\n    : env === 'pre'\r\n      ? ''\r\n      : env === 'sit'\r\n        ? ''\r\n        : env === 'dev'\r\n          ? 'dev-1674055482572-51246805406720'\r\n          : 'dev-1674055482572-51246805406720'\r\n          // : 'dev-1672318794070-83988914819590'\r\n\r\n// static\r\nexport const STATIC =\r\n  env === 'pro'\r\n    ? ''\r\n    : env === 'pre'\r\n      ? ''\r\n      : env === 'sit'\r\n        ? ''\r\n        : env === 'dev'\r\n          ? './static'\r\n          : '../static'\r\n\r\n\r\n\r\n","enum Local {\r\n  zh_cn = 'zh_cn',\r\n  en_us = 'en_us',\r\n}\r\n\r\nexport default Local","import { useAppSelector } from '@store/index'\r\nimport { Lang } from '@langs/index'\r\n\r\nexport default (): (obj: Lang) => string => {\r\n  const { local } = useAppSelector((state) => state.local)\r\n  return (obj: Lang) => obj[local]\r\n}","import LOCAL from '@constants/local'\r\nimport { Lang } from '..'\r\n\r\nconst subTitle: Lang = {\r\n  [LOCAL.zh_cn]: '连接钱包加入Firefly!',\r\n  [LOCAL.en_us]: 'Connect your wallet to enjoy it!',\r\n}\r\n\r\nexport {\r\n  subTitle,\r\n}","import LOCAL from '@constants/local'\r\nimport { Lang } from '..'\r\n\r\nconst nickname: Lang = {\r\n  [LOCAL.zh_cn]: '用户名',\r\n  [LOCAL.en_us]: 'Nickname',\r\n}\r\n\r\nconst submitted: Lang = {\r\n  [LOCAL.zh_cn]: '提交',\r\n  [LOCAL.en_us]: 'Submitted',\r\n}\r\n\r\nconst required: Lang = {\r\n  [LOCAL.zh_cn]: '必填',\r\n  [LOCAL.en_us]: 'Required',\r\n}\r\n\r\nconst copied: Lang = {\r\n  [LOCAL.zh_cn]: '已复制',\r\n  [LOCAL.en_us]: 'copied',\r\n}\r\n\r\n\r\nexport {\r\n  nickname,\r\n  submitted,\r\n  required,\r\n  copied,\r\n}","import LOCAL from '@constants/local'\r\nimport { Lang } from '..'\r\n\r\nconst title: Lang = {\r\n  [LOCAL.zh_cn]: '请登录!',\r\n  [LOCAL.en_us]: 'Please sign in!',\r\n}\r\n\r\nconst login: Lang = {\r\n  [LOCAL.zh_cn]: '登录',\r\n  [LOCAL.en_us]: 'Log in',\r\n}\r\n\r\nconst unregistered: Lang = {\r\n  [LOCAL.zh_cn]: '未注册',\r\n  [LOCAL.en_us]: 'Unregistered',\r\n}\r\n\r\nexport {\r\n  title,\r\n  login,\r\n  unregistered,\r\n}","import LOCAL from '@constants/local'\r\nimport { Lang } from '..'\r\n\r\nconst successfulRequest: Lang = {\r\n  [LOCAL.zh_cn]: '请求成功',\r\n  [LOCAL.en_us]: 'Successful Request',\r\n}\r\n\r\nconst disconnect: Lang = {\r\n  [LOCAL.zh_cn]: '断开连接',\r\n  [LOCAL.en_us]: 'disconnect',\r\n}\r\n\r\nconst search: Lang = {\r\n  [LOCAL.zh_cn]: '搜索',\r\n  [LOCAL.en_us]: 'search',\r\n}\r\n\r\nexport {\r\n  successfulRequest,\r\n  disconnect,\r\n  search,\r\n}\r\n","import LOCAL from '@constants/local'\r\nimport { Lang } from '..'\r\n\r\nconst wallet: Lang = {\r\n  [LOCAL.zh_cn]: '连接钱包',\r\n  [LOCAL.en_us]: 'Connect Wallet',\r\n}\r\n\r\n\r\nexport { wallet }\r\n","import LOCAL from '@constants/local'\r\nimport { Lang } from '..'\r\n\r\nconst wallet: Lang = {\r\n  [LOCAL.zh_cn]: '请选择您的钱包',\r\n  [LOCAL.en_us]: 'Please select your wallet',\r\n}\r\n\r\nconst connect: Lang = {\r\n  [LOCAL.zh_cn]: '连接',\r\n  [LOCAL.en_us]: 'connect',\r\n}\r\n\r\nconst connecting: Lang = {\r\n  [LOCAL.zh_cn]: '连接中...',\r\n  [LOCAL.en_us]: 'connecting...',\r\n}\r\n\r\nconst connected: Lang = {\r\n  [LOCAL.zh_cn]: '已连接',\r\n  [LOCAL.en_us]: 'connected',\r\n}\r\n\r\nexport { wallet, connect, connecting, connected }\r\n","import LOCAL from '@constants/local'\r\nimport { Lang } from '..'\r\n\r\nconst notConnect: Lang = {\r\n  [LOCAL.zh_cn]: '未连接到',\r\n  [LOCAL.en_us]: 'Not connected to ',\r\n}\r\n\r\nexport {\r\n  notConnect,\r\n}","import LOCAL from '@constants/local'\r\nimport { Lang } from '..'\r\n\r\nconst menu: Lang = {\r\n  [LOCAL.zh_cn]: '菜单',\r\n  [LOCAL.en_us]: 'Menu',\r\n}\r\n\r\nconst close: Lang = {\r\n  [LOCAL.zh_cn]: '关闭',\r\n  [LOCAL.en_us]: 'Close',\r\n}\r\n\r\nexport {\r\n  menu,\r\n  close,\r\n}","import { createTheme } from '@mui/material/styles'\r\n\r\nconst fontColor = '#fff'\r\n\r\nexport default createTheme({\r\n  palette: {\r\n    primary: {\r\n      // main: '#000000'\r\n      main: '#fff',\r\n    },\r\n  },\r\n  typography: {\r\n    fontFamily: [''].join(','),\r\n    body1: {\r\n      color: fontColor,\r\n      // lineHeight: 2,\r\n    },\r\n    h1: {\r\n      color: fontColor,\r\n    },\r\n    h2: {\r\n      color: fontColor,\r\n    },\r\n    h3: {\r\n      color: fontColor,\r\n    },\r\n    h4: {\r\n      color: fontColor,\r\n    },\r\n    h5: {\r\n      color: fontColor,\r\n    },\r\n    h6: {\r\n      color: fontColor,\r\n    },\r\n  },\r\n})\r\n","import React, { useState } from 'react'\r\n\r\nimport {\r\n  Box,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Button,\r\n} from '@mui/material'\r\n\r\nimport LanguageIcon from '@mui/icons-material/Language'\r\n\r\nimport LOCAL from '@constants/local'\r\n\r\nimport langHook from '@hooks/localHook'\r\nimport { headerLang } from '@langs/index'\r\n\r\nimport { useAppSelector, useAppDispatch } from '@store/index'\r\n\r\nimport { setLocal } from '@store/modules/local'\r\nimport { setDialogOpen } from '@store/modules/wallet'\r\nimport { setDialogOpen as registerOpen } from '@store/modules/user'\r\nimport { setRoom } from '@store/modules/dialog'\r\n\r\nexport default (): JSX.Element => {\r\n  const { headerImg, nickname, isCW, isLogin } = useAppSelector(\r\n    (state) => state.user\r\n  )\r\n  const { currentFriend } = useAppSelector((state) => state.friends)\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  const local = langHook()\r\n\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null)\r\n\r\n  const handleLocal = (lang: LOCAL) => {\r\n    setAnchorEl(null)\r\n    dispatch(setLocal(lang))\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      {/* AppBar */}\r\n      <AppBar color=\"transparent\" position=\"static\">\r\n        <Toolbar>\r\n          <Box sx={{ flexGrow: 1, color: '#fff' }}>\r\n            {isLogin && currentFriend?.name}\r\n          </Box>\r\n          <IconButton\r\n            size=\"large\"\r\n            edge=\"start\"\r\n            color=\"primary\"\r\n            aria-label=\"menu\"\r\n            sx={{ mr: 2 }}\r\n            onClick={(event) => setAnchorEl(event.currentTarget)}\r\n          >\r\n            <LanguageIcon />\r\n          </IconButton>\r\n          <Menu\r\n            anchorEl={anchorEl}\r\n            open={!!anchorEl}\r\n            onClose={() => setAnchorEl(null)}\r\n          >\r\n            <MenuItem\r\n              sx={{ color: '#000' }}\r\n              onClick={() => handleLocal(LOCAL.zh_cn)}\r\n            >\r\n              简体中文\r\n            </MenuItem>\r\n            <MenuItem\r\n              sx={{ color: '#000' }}\r\n              onClick={() => handleLocal(LOCAL.en_us)}\r\n            >\r\n              English\r\n            </MenuItem>\r\n          </Menu>\r\n          {isCW ? (\r\n            isLogin ? (\r\n              <>\r\n                <Button\r\n                  color=\"primary\"\r\n                  sx={{ mr: 2 }}\r\n                  onClick={() => dispatch(setRoom(true))}\r\n                >\r\n                  room\r\n                </Button>\r\n                <Button\r\n                  color=\"primary\"\r\n                  sx={{ textTransform: 'none' }}\r\n                  startIcon={\r\n                    <img\r\n                      style={{ width: '24px', height: '24px' }}\r\n                      src={`https://ipfs.io/ipfs/${headerImg}`}\r\n                    />\r\n                  }\r\n                  onClick={() => dispatch(registerOpen(true))}\r\n                >\r\n                  {nickname}\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <></>\r\n            )\r\n          ) : (\r\n            <Button\r\n              color=\"primary\"\r\n              onClick={() => dispatch(setDialogOpen(true))}\r\n            >\r\n              {local(headerLang.wallet)}\r\n            </Button>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </Box>\r\n  )\r\n}\r\n","import React, { lazy, Suspense } from 'react'\r\n\r\nimport { Outlet } from 'react-router-dom'\r\n\r\nimport { Box } from '@mui/material'\r\n\r\nimport Header from '@components/Header'\r\n\r\nimport { useAppSelector } from '@store/index'\r\n\r\nconst Sider = lazy(() => import('@components/Sider'))\r\n\r\nexport default (): JSX.Element => {\r\n  const { isHeader, isSider } = useAppSelector((state) => state.router)\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: 'flex',\r\n      }}\r\n    >\r\n      <Suspense>{isSider && <Sider />}</Suspense>\r\n      <Box\r\n        sx={{\r\n          flex: 1,\r\n        }}\r\n      >\r\n        {isHeader && <Header />}\r\n        <Box>\r\n          <Outlet />\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import React, { ReactNode, Suspense } from 'react'\r\n\r\nimport { routeMap, RouterMapItem } from '@routes/index'\r\n\r\nexport const lazyLoad = (children: ReactNode): ReactNode => {\r\n  return <Suspense fallback={<></>}>{children}</Suspense>\r\n}\r\n\r\nexport const findRouterRule = (path: string): RouterMapItem | undefined => {\r\n  if (path in routeMap) return routeMap[path]\r\n  const paths = path.split('/')\r\n  paths.pop()\r\n  while (paths.length > 0) {\r\n    const pathName = paths.join('/')\r\n    if (pathName in routeMap) {\r\n      const { name } = routeMap[pathName]\r\n      if (name.split('/').length === path.split('/').length) return routeMap[pathName]\r\n    }\r\n    paths.pop()\r\n  }\r\n} ","import React, { useEffect, lazy, Suspense, ReactNode } from 'react'\r\n\r\nimport { useLocation, Navigate } from 'react-router-dom'\r\n\r\nimport { useAppSelector, useAppDispatch } from '@store/index'\r\n\r\nimport { findRouterRule } from '@utils/routes'\r\n\r\nimport { setRouter } from '@store/modules/router'\r\n\r\nconst Dialog = lazy(() => import('@components/Dialog'))\r\ninterface IProps {\r\n  children: ReactNode\r\n}\r\n\r\nexport default ({ children }: IProps): JSX.Element => {\r\n  const location = useLocation()\r\n\r\n  const { name, isConnect } = useAppSelector((state) => state.router)\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  const { initWallet } = useAppSelector((state) => state.wallet)\r\n  const { isCW, isLogin } = useAppSelector((store) => store.user)\r\n\r\n  useEffect(() => {\r\n    const routeRule = findRouterRule(location.pathname)\r\n    if (routeRule && name !== routeRule.name) {\r\n      dispatch(setRouter(routeRule))\r\n    }\r\n  }, [location])\r\n\r\n  return (\r\n    <>\r\n      {name && initWallet ? (\r\n        isConnect ? (\r\n          isCW ? (\r\n            isLogin || location.pathname === '/login' ? (\r\n              children\r\n            ) : (\r\n              <Navigate to=\"/login\" />\r\n              // children\r\n            )\r\n          ) : (\r\n            <Navigate to=\"/connect\" />\r\n          )\r\n        ) : (\r\n          children\r\n        )\r\n      ) : (\r\n        <></>\r\n      )}{' '}\r\n      <Suspense>\r\n        <Dialog />\r\n      </Suspense>\r\n    </>\r\n  )\r\n}\r\n","import React, { lazy } from 'react'\r\nimport { RouteObject } from 'react-router-dom'\r\n\r\nimport { lazyLoad } from '@utils/routes'\r\n\r\nconst Home = lazy(() => import('@views/Home/index'))\r\nconst Connect = lazy(() => import('@views/Connect/index'))\r\nconst Login = lazy(() => import('@views/Login/index'))\r\n\r\nexport const routeMap = {\r\n  '/': {\r\n    name: '/',\r\n    isConnect: true,\r\n    isHeader: true,\r\n    isSider: true,\r\n  },\r\n  '/connect': {\r\n    name: '/connect',\r\n    isConnect: false,\r\n    isHeader: true,\r\n    isSider: false,\r\n  },\r\n  '/login': {\r\n    name: '/login',\r\n    isConnect: true,\r\n    isHeader: true,\r\n    isSider: false,\r\n  },\r\n}\r\n\r\nexport const routes: RouteObject[] = [\r\n  {\r\n    index: true,\r\n    element: lazyLoad(<Home />),\r\n  },\r\n  {\r\n    path: '/connect',\r\n    element: lazyLoad(<Connect />),\r\n  },\r\n  {\r\n    path: '/login',\r\n    element: lazyLoad(<Login />),\r\n  },\r\n]","import React from 'react'\r\nimport { Navigate, RouteObject } from 'react-router-dom'\r\nimport Layout from '@components/Layout'\r\nimport ExplorerRoutes from '@components/ExplorerRoutes'\r\n\r\nimport { routes as common, routeMap as commonMap } from './common'\r\n\r\ninterface Rules {\r\n  isConnected: boolean\r\n}\r\n\r\nexport const routerRules: Record<string, Rules> = {\r\n  '/proposal': {\r\n    isConnected: true,\r\n  },\r\n}\r\n\r\nexport interface RouterMapItem {\r\n  name: string\r\n  isConnect: boolean\r\n  isHeader: boolean\r\n  isSider: boolean\r\n}\r\n\r\nexport type RouterMap = Record<string, RouterMapItem>\r\n\r\nconst router: RouteObject[] = [\r\n  {\r\n    path: '/',\r\n    element: <ExplorerRoutes children={<Layout />} />,\r\n    children: [\r\n      ...common,\r\n      {\r\n        path: '*',\r\n        element: <Navigate to='/' />,\r\n      },\r\n    ]\r\n  }\r\n]\r\n\r\nexport const routeMap: RouterMap = {\r\n  ...commonMap\r\n}\r\n\r\nexport default router","import React, { useRef, useEffect } from 'react'\r\n\r\nimport { useRoutes } from 'react-router-dom'\r\n\r\nimport { IconButton } from '@mui/material'\r\n\r\nimport { SnackbarProvider } from 'notistack'\r\n\r\nimport { useAppDispatch } from '@store/index'\r\n\r\nimport { initWallet } from '@store/modules/wallet'\r\n\r\nimport routers from '@routes/index'\r\n\r\nimport CloseIcon from '@mui/icons-material/Close'\r\n\r\nexport default (): JSX.Element => {\r\n  const snackbarRef = useRef<SnackbarProvider>(null)\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(initWallet())\r\n  }, [])\r\n\r\n  return (\r\n    <SnackbarProvider\r\n      ref={snackbarRef}\r\n      maxSnack={3}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n      preventDuplicate={true}\r\n      autoHideDuration={2000}\r\n      action={(snackbarId) => (\r\n        <IconButton\r\n          color=\"inherit\"\r\n          onClick={() => snackbarRef.current?.closeSnackbar(snackbarId)}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      )}\r\n    >\r\n      {useRoutes(routers)}\r\n    </SnackbarProvider>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { createRoot } from 'react-dom/client'\r\nimport { HashRouter } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport { persistStore } from 'redux-persist'\r\nimport { ThemeProvider } from '@mui/material/styles'\r\nimport store from '@store/index'\r\nimport theme from '@utils/theme'\r\nimport App from './App'\r\n\r\nimport '@css/main.less'\r\n\r\nconst root = createRoot(document.getElementById('root') as Element)\r\n\r\nconst persistor = persistStore(store)\r\n\r\nwindow.addEventListener('load', () => {\r\n  root.render(\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <HashRouter>\r\n          <ThemeProvider theme={theme}>\r\n            <App />\r\n          </ThemeProvider>\r\n        </HashRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  )\r\n})\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport storage from 'redux-persist/lib/storage'\r\nimport { persistReducer } from 'redux-persist'\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\r\nimport { AnyAction, combineReducers, Dispatch } from 'redux'\r\nimport thunk, { ThunkDispatch } from 'redux-thunk'\r\n\r\nimport wallet from './modules/wallet'\r\nimport local from './modules/local'\r\nimport router from './modules/router'\r\nimport friends from './modules/friends'\r\nimport user from './modules/user'\r\nimport webRTC from './modules/webRTC'\r\nimport dialog from './modules/dialog'\r\nimport room from './modules/room'\r\n\r\nconst reducers = combineReducers({\r\n  wallet,\r\n  local,\r\n  router,\r\n  friends,\r\n  user,\r\n  webRTC,\r\n  dialog,\r\n  room,\r\n})\r\n\r\nconst persistConfig = {\r\n  key: 'Firefly',\r\n  storage,\r\n  blacklist: ['router', 'friends', 'user', 'webRTC', 'dialog', 'room'],\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducers)\r\n\r\nconst store = configureStore({\r\n  reducer: persistedReducer,\r\n  middleware: [thunk],\r\n})\r\n\r\nexport default store\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\n\r\nexport type AppDispatch = ThunkDispatch<RootState, undefined, AnyAction> &\r\n  Dispatch<AnyAction>\r\n\r\nexport const useAppDispatch = (): AppDispatch => useDispatch<AppDispatch>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\r\n\r\nimport { creatOffer, initWebRTCState, setOfferRequest } from './webRTC'\r\nimport { initRoom } from './room'\r\n\r\ninterface Dialog {\r\n  streamOpen: boolean\r\n  metaOpen: boolean\r\n  roomOpen: boolean\r\n}\r\n\r\nconst initialState: Dialog = {\r\n  streamOpen: false,\r\n  metaOpen: false,\r\n  roomOpen: false,\r\n}\r\n\r\nconst dialog = createSlice({\r\n  name: 'dialog',\r\n  initialState,\r\n  reducers: {\r\n    setMeta(state, { payload }: PayloadAction<boolean>) {\r\n      state.metaOpen = payload\r\n    },\r\n    setRoom(state, { payload }: PayloadAction<boolean>) {\r\n      state.roomOpen = payload\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(creatOffer.pending, (state) => {\r\n      state.streamOpen = true\r\n    })\r\n    builder.addCase(setOfferRequest, (state) => {\r\n      state.streamOpen = true\r\n    })\r\n    builder.addCase(initWebRTCState.pending, (state) => {\r\n      state.streamOpen = false\r\n      state.metaOpen = false\r\n    })\r\n    builder.addCase(initRoom, (state) => {\r\n      state.metaOpen = false\r\n    })\r\n  },\r\n})\r\nexport const { setMeta, setRoom } = dialog.actions\r\nexport default dialog.reducer\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\r\nimport type { PeerId } from '@libp2p/interface-peer-id'\r\n\r\nexport interface Friends {\r\n  name: string\r\n  image: string\r\n  topic: string\r\n  hash: string\r\n  account_id: string\r\n  peerId?: PeerId\r\n}\r\n\r\ninterface Remote {\r\n  account_id: string\r\n  text: string\r\n}\r\n\r\nconst _friends: Friends[] = []\r\nconst remotes: Remote[] = []\r\n\r\nconst friends = createSlice({\r\n  name: 'friends',\r\n  initialState: {\r\n    friends: _friends,\r\n    currentFriendIndex: 0,\r\n    currentFriend: _friends[0],\r\n    remotes,\r\n  },\r\n  reducers: {\r\n    setFriends(state, { payload }: PayloadAction<Friends[]>) {\r\n      state.friends = [...payload]\r\n    },\r\n    setCurrentFriendIndex(state, { payload }: PayloadAction<number>) {\r\n      state.currentFriendIndex = payload\r\n      state.currentFriend = state.friends[payload]\r\n    },\r\n    setRemotes(state, { payload }: PayloadAction<Remote[]>) {\r\n      state.remotes = [...payload]\r\n    },\r\n    pushRemotes(state, { payload }: PayloadAction<Remote>) {\r\n      state.remotes.push(payload)\r\n    },\r\n  },\r\n})\r\nexport const {\r\n  setFriends,\r\n  setCurrentFriendIndex,\r\n  setRemotes,\r\n  pushRemotes,\r\n} = friends.actions\r\nexport default friends.reducer\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\r\n\r\nimport LOCAL from '@constants/local'\r\n\r\nconst local = createSlice({\r\n  name: 'local',\r\n  initialState: {\r\n    local: LOCAL.en_us,\r\n  },\r\n  reducers: {\r\n    setLocal(state, { payload }: PayloadAction<LOCAL>) {\r\n      state.local = payload\r\n    },\r\n  },\r\n})\r\nexport const { setLocal } = local.actions\r\nexport default local.reducer\r\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\r\n\r\nimport { offer, answer, offerRemote } from '@utils/webRTC'\r\n\r\nimport type { RootState } from '..'\r\nimport type { Friends } from './friends'\r\n\r\ninterface Position {\r\n  x: number\r\n  y: number\r\n  z: number\r\n}\r\n\r\nexport interface Play {\r\n  name: string\r\n  id: string\r\n  pc: RTCPeerConnection\r\n  dataChannel: RTCDataChannel | undefined\r\n  stream: MediaStream | undefined\r\n  localStream: MediaStream\r\n  identity: 'offer' | 'answer'\r\n  friend: Friends\r\n  initPosition?: Position\r\n  audioContext: AudioContext\r\n}\r\n\r\nexport interface Room {\r\n  id: number\r\n  name: string\r\n  topic: string\r\n  nft: string[]\r\n  owner: string\r\n}\r\n\r\ninterface RoomInit {\r\n  playes: Record<string, Play>\r\n  room: Room | undefined\r\n  discovery: Friends[]\r\n}\r\n\r\ninterface CreatRoomAnswerProps {\r\n  offer: RTCSessionDescription\r\n  friend: Friends\r\n  position: Position | undefined\r\n}\r\n\r\ninterface SetRoomOfferRemoteProps {\r\n  answer: RTCSessionDescription\r\n  key: string\r\n}\r\n\r\ninterface SetAnswerChannelProps {\r\n  key: string\r\n  dataChannel: RTCDataChannel\r\n}\r\n\r\nconst initialState: RoomInit = {\r\n  playes: {},\r\n  room: undefined,\r\n  discovery: [],\r\n}\r\n\r\nexport const creatRoomOffer = createAsyncThunk('room/creatRoomOffer', offer)\r\n\r\nexport const creatRoomAnswer = createAsyncThunk(\r\n  'room/creatRoomAnswer',\r\n  async ({ offer, friend, position }: CreatRoomAnswerProps) => {\r\n    const media = { video: false, audio: true }\r\n    return await answer({ offer, friend, media, position })\r\n  }\r\n)\r\n\r\nexport const setRoomOfferRemote = createAsyncThunk(\r\n  'weRTC/setRoomOfferRemote',\r\n  async ({ answer, key }: SetRoomOfferRemoteProps, { getState }) => {\r\n    const { playes } = (getState() as RootState).room\r\n    const { pc, friend } = playes[key]\r\n    return await offerRemote({ pc: pc!, answer, friend })\r\n  }\r\n)\r\n\r\nconst room = createSlice({\r\n  name: 'room',\r\n  initialState,\r\n  reducers: {\r\n    addPlay(state, { payload }: PayloadAction<Play>) {\r\n      const newPlay = { [payload.id]: payload }\r\n      state.playes = { ...state.playes, ...newPlay }\r\n    },\r\n    removePlay(state, { payload }: PayloadAction<string>) {\r\n      const _playes = { ...state.playes }\r\n      delete _playes[payload]\r\n      state.playes = { ..._playes }\r\n    },\r\n    changeRoom(state, { payload }: PayloadAction<Room | undefined>) {\r\n      state.room = payload\r\n    },\r\n    addDiscovery(state, { payload }: PayloadAction<Friends>) {\r\n      const _discovery = [...state.discovery]\r\n      _discovery.push(payload)\r\n      state.discovery = _discovery\r\n    },\r\n    shiftDiscovery(state) {\r\n      const _discovery = [...state.discovery]\r\n      _discovery.shift()\r\n      state.discovery = _discovery\r\n    },\r\n    setAnswerChannel(state, { payload }: PayloadAction<SetAnswerChannelProps>) {\r\n      const { key, dataChannel } = payload\r\n      console.log(`set dataChannel of ${state.playes[key].name}`)\r\n      const _playes = { ...state.playes }\r\n      _playes[key].dataChannel = dataChannel\r\n      state.playes = Object.assign(state.playes, _playes)\r\n    },\r\n    initRoom(state) {\r\n      const { playes } = state\r\n      Object.values(playes).forEach((play) => {\r\n        play.pc.close()\r\n        play.audioContext.close()\r\n        play.localStream?.getTracks().forEach((track) => track.stop())\r\n      })\r\n      state = Object.assign(state, {\r\n        playes: {},\r\n        room: undefined,\r\n        discovery: [],\r\n      })\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(creatRoomOffer.fulfilled, (state, { payload }) => {\r\n      const { pc, dataChannel, friend, localStream } = payload\r\n      const { name, account_id } = friend\r\n      const id = account_id\r\n      const _playes = { ...state.playes }\r\n      _playes[id] = {\r\n        identity: 'offer',\r\n        pc,\r\n        dataChannel,\r\n        name,\r\n        id,\r\n        friend,\r\n        localStream,\r\n        audioContext: new AudioContext(),\r\n        stream: undefined,\r\n      }\r\n      state.playes = Object.assign(state.playes, _playes)\r\n    })\r\n    builder.addCase(creatRoomAnswer.fulfilled, (state, { payload }) => {\r\n      const { pc, friend, stream, position, localStream } = payload\r\n      const { name, account_id } = friend\r\n      const id = account_id\r\n      const _playes = { ...state.playes }\r\n      _playes[id] = {\r\n        identity: 'answer',\r\n        pc,\r\n        stream,\r\n        name,\r\n        id,\r\n        friend,\r\n        localStream,\r\n        audioContext: new AudioContext(),\r\n        dataChannel: undefined,\r\n        initPosition: position,\r\n      }\r\n      state.playes = Object.assign(state.playes, _playes)\r\n    })\r\n    builder.addCase(setRoomOfferRemote.fulfilled, (state, { payload }) => {\r\n      const { stream, friend } = payload\r\n      const _playes = { ...state.playes }\r\n      const id = friend.account_id\r\n      _playes[id] = {\r\n        ..._playes[id],\r\n        stream,\r\n      }\r\n      state.playes = Object.assign(state.playes, _playes)\r\n    })\r\n  },\r\n})\r\nexport const {\r\n  addPlay,\r\n  removePlay,\r\n  changeRoom,\r\n  addDiscovery,\r\n  shiftDiscovery,\r\n  setAnswerChannel,\r\n  initRoom,\r\n} = room.actions\r\nexport default room.reducer\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\r\n\r\nimport { RouterMapItem } from '@routes/index'\r\n\r\nconst router = createSlice({\r\n  name: 'router',\r\n  initialState: {\r\n    name: '',\r\n    isConnect: false,\r\n    isHeader: false,\r\n    isSider: false,\r\n  },\r\n  reducers: {\r\n    setRouter(state, { payload }: PayloadAction<RouterMapItem>) {\r\n      state = Object.assign(state, payload)\r\n    },\r\n  },\r\n})\r\nexport const { setRouter } = router.actions\r\nexport default router.reducer\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\r\n\r\nimport { initWallet, connectWallet, disconnectWallet } from './wallet'\r\n\r\nimport { Libp2p } from 'libp2p'\r\n\r\ninterface User {\r\n  headerImg: string\r\n  nickname: string\r\n  isLogin: boolean\r\n  isCW: boolean\r\n  libp2p: Libp2p | null\r\n  dialogOpen: boolean\r\n  isVideo: boolean\r\n  isAudio: boolean\r\n}\r\n\r\ninterface SerUser {\r\n  headerImg: string\r\n  nickname: string\r\n}\r\n\r\nconst initialState: User = {\r\n  headerImg: 'QmVRjwyDfqkpa7z7UvGShLdkoVMEBHJSzv7LgcfRRe7jVK',\r\n  nickname: '',\r\n  isLogin: false,\r\n  isCW: false,\r\n  libp2p: null,\r\n  dialogOpen: false,\r\n  isVideo: false,\r\n  isAudio: false,\r\n}\r\nconst user = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    setUser(state, { payload }: PayloadAction<SerUser>) {\r\n      state = Object.assign(state, payload, { dialogOpen: false })\r\n    },\r\n    setDialogOpen(state, { payload }: PayloadAction<boolean>) {\r\n      state = Object.assign(state, { dialogOpen: payload })\r\n    },\r\n    login(state, { payload }: PayloadAction<SerUser>) {\r\n      state = Object.assign(state, payload, { isLogin: true })\r\n    },\r\n    setAudio(state, { payload }: PayloadAction<boolean>) {\r\n      state = Object.assign(state, { isAudio: payload })\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(initWallet.fulfilled, (state, { payload: { libp2p } }) => {\r\n      if (libp2p) {\r\n        state = Object.assign(state, { libp2p, isCW: true })\r\n      }\r\n    })\r\n    builder.addCase(\r\n      connectWallet.fulfilled,\r\n      (state, { payload: { libp2p } }) => {\r\n        if (libp2p) state = Object.assign(state, { libp2p, isCW: true })\r\n      }\r\n    )\r\n    builder.addCase(disconnectWallet, (state) => {\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      state = Object.assign(state, initialState)\r\n    })\r\n  },\r\n})\r\nexport const { setUser, setDialogOpen, login, setAudio } = user.actions\r\nexport default user.reducer\r\n","import { createLibp2p, Libp2p } from 'libp2p'\r\nimport { webSockets } from '@libp2p/websockets'\r\nimport { webRTCStar } from '@libp2p/webrtc-star'\r\nimport { noise } from '@chainsafe/libp2p-noise'\r\nimport { mplex } from '@libp2p/mplex'\r\nimport { bootstrap } from '@libp2p/bootstrap'\r\n\r\nexport default async (): Promise<Libp2p> => {\r\n\r\n  const wrtcStar = webRTCStar()\r\n\r\n  return createLibp2p({\r\n    addresses: {\r\n      listen: [\r\n        '/dns4/wrtc-star1.par.dwebops.pub/tcp/443/wss/p2p-webrtc-star',\r\n        '/dns4/wrtc-star2.sjc.dwebops.pub/tcp/443/wss/p2p-webrtc-star',\r\n      ],\r\n    },\r\n    transports: [webSockets(), wrtcStar.transport],\r\n    connectionEncryption: [noise()],\r\n    streamMuxers: [mplex()],\r\n    peerDiscovery: [\r\n      wrtcStar.discovery,\r\n      bootstrap({\r\n        list: [\r\n          '/dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN',\r\n          '/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb',\r\n          '/dnsaddr/bootstrap.libp2p.io/p2p/QmZa1sAxajnQjVM8WjWXoMbmPd7NsWhfKsPkErzpm9wGkp',\r\n          '/dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa',\r\n          '/dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt',\r\n        ],\r\n      }),\r\n    ],\r\n    connectionManager: {\r\n      maxParallelDials: 200,\r\n      maxDialsPerPeer: 200,\r\n      dialTimeout: 10e3,\r\n      autoDial: false,\r\n    },\r\n  })\r\n}\r\n","import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit'\r\n\r\nimport {\r\n  getNearWallet,\r\n  connectToWallet,\r\n  getAccountId,\r\n  onWalletEvent,\r\n} from '@utils/wallets'\r\n\r\nimport createLibp2p from '@utils/libp2p'\r\n\r\nimport { RootState } from '..'\r\n\r\nexport interface WalletState {\r\n  initWallet: boolean\r\n  dialogOpen: boolean\r\n  connecting: boolean\r\n  currentWallet: string\r\n  walletNetwork: string\r\n  accountAddress: string\r\n  accessKey: {\r\n    publicKey: string\r\n    secretKey: string\r\n  } | null\r\n}\r\n\r\nexport const initState: WalletState = {\r\n  initWallet: false,\r\n  dialogOpen: false,\r\n  connecting: false,\r\n  currentWallet: '',\r\n  accountAddress: '',\r\n  walletNetwork: '',\r\n  accessKey: null,\r\n}\r\n\r\nexport const initWallet = createAsyncThunk(\r\n  'wallet/initWallet',\r\n  async (_, { getState }) => {\r\n    const { currentWallet } = (getState() as RootState).wallet\r\n    const { libp2p } = (getState() as RootState).user\r\n    if (!currentWallet) return {}\r\n    const isConnected = await getNearWallet(currentWallet)\r\n    if (!isConnected) return {}\r\n    try {\r\n      const accessKey = await connectToWallet(currentWallet)\r\n\r\n      const accountAddress = getAccountId(currentWallet)\r\n\r\n      return {\r\n        accountAddress,\r\n        accessKey,\r\n        libp2p: libp2p || (await createLibp2p()),\r\n      }\r\n    } catch (error) {\r\n      return {}\r\n    }\r\n  }\r\n)\r\n\r\nexport const connectWallet = createAsyncThunk(\r\n  'wallet/connectWallet',\r\n  async (currentWallet: string, { getState }) => {\r\n    const { libp2p } = (getState() as RootState).user\r\n    const isConnected = await getNearWallet(currentWallet)\r\n    if (isConnected) {\r\n      try {\r\n        const accessKey = await connectToWallet(currentWallet)\r\n\r\n        const accountAddress = getAccountId(currentWallet)\r\n\r\n        return {\r\n          dialogOpen: false,\r\n          connecting: false,\r\n          currentWallet,\r\n          accountAddress,\r\n          accessKey,\r\n          libp2p: libp2p || (await createLibp2p()),\r\n        }\r\n      } catch (error) {\r\n        return {\r\n          connecting: false,\r\n        }\r\n      }\r\n    } else {\r\n      return {\r\n        connecting: false,\r\n      }\r\n    }\r\n  }\r\n)\r\n\r\nconst wallet = createSlice({\r\n  name: 'wallet',\r\n  initialState: initState,\r\n  reducers: {\r\n    setDialogOpen(state, { payload }: PayloadAction<boolean>) {\r\n      state.dialogOpen = payload\r\n    },\r\n    setConnecting(state, { payload }: PayloadAction<boolean>) {\r\n      state.connecting = payload\r\n    },\r\n    disconnectWallet(state) {\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      state = Object.assign(state, initState, { initWallet: true })\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(initWallet.pending, (state) => {\r\n      state = Object.assign(state, initState, {\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        currentWallet: state.currentWallet,\r\n      })\r\n    })\r\n\r\n    builder.addCase(initWallet.fulfilled, (state, { payload }) => {\r\n      if (payload) {\r\n        const data = { ...payload }\r\n        delete data.libp2p\r\n        state = Object.assign(state, data, { initWallet: true })\r\n        if (state.accountAddress) onWalletEvent(state.currentWallet)\r\n      }\r\n    })\r\n\r\n    builder.addCase(connectWallet.fulfilled, (state, { payload }) => {\r\n      if (payload) {\r\n        const data = { ...payload }\r\n        delete data.libp2p\r\n        state = Object.assign(state, data)\r\n      }\r\n    })\r\n  },\r\n})\r\n\r\nexport const { setDialogOpen, setConnecting, disconnectWallet } = wallet.actions\r\nexport default wallet.reducer\r\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\r\n\r\nimport { offer, answer, offerRemote } from '@utils/webRTC'\r\n\r\nimport type { RootState } from '..'\r\nimport type { Friends } from './friends'\r\n\r\nexport interface WebRTC {\r\n  isUse: boolean\r\n  joinTime: number\r\n  localStream: MediaStream | undefined\r\n  pc: RTCPeerConnection | undefined\r\n  friend: Friends | undefined\r\n  isOffer: boolean\r\n  isAnswer: boolean\r\n  media: MediaStreamConstraints | undefined\r\n  dataChannel: RTCDataChannel | undefined\r\n  stream: MediaStream | undefined\r\n  offer: RTCSessionDescription | undefined\r\n  isVideo: boolean\r\n  isMeta: boolean\r\n}\r\n\r\ninterface OfferRequestParams {\r\n  friend: Friends\r\n  media: MediaStreamConstraints\r\n  offer: RTCSessionDescription\r\n  isMeta: boolean\r\n}\r\n\r\nconst initialState: WebRTC = {\r\n  isUse: false,\r\n  joinTime: 0,\r\n  localStream: undefined,\r\n  pc: undefined,\r\n  friend: undefined,\r\n  isOffer: false,\r\n  isAnswer: false,\r\n  media: undefined,\r\n  dataChannel: undefined,\r\n  stream: undefined,\r\n  offer: undefined,\r\n  isVideo: false,\r\n  isMeta: false,\r\n}\r\n\r\nexport const creatOffer = createAsyncThunk('weRTC/creatOffer', offer)\r\n\r\nexport const creatAnswer = createAsyncThunk(\r\n  'weRTC/creatAnswer',\r\n  async (_, { getState }) => {\r\n    const { media, offer, friend } = (getState() as RootState).webRTC\r\n    return await answer({ offer: offer!, media: media!, friend: friend! })\r\n  }\r\n)\r\n\r\nexport const setOfferRemote = createAsyncThunk(\r\n  'weRTC/setOfferRemote',\r\n  async (answer: RTCSessionDescription, { getState }) => {\r\n    const { pc, friend } = (getState() as RootState).webRTC\r\n    return await offerRemote({ pc: pc!, answer, friend: friend! })\r\n  }\r\n)\r\n\r\nexport const initWebRTCState = createAsyncThunk(\r\n  'weRTC/initWebRTCState',\r\n  async () => {\r\n    await new Promise((resolve) => setTimeout(() => resolve(1), 1000))\r\n    return {}\r\n  }\r\n)\r\n\r\nconst webRTC = createSlice({\r\n  name: 'webRTC',\r\n  initialState,\r\n  reducers: {\r\n    setOfferRequest(state, { payload }: PayloadAction<OfferRequestParams>) {\r\n      state = Object.assign(state, payload, {\r\n        isUse: true,\r\n        isVideo: payload.media.video,\r\n        isMeta: payload.isMeta,\r\n      })\r\n    },\r\n    setAnswerChannel(state, { payload }: PayloadAction<RTCDataChannel>) {\r\n      const { pc } = state\r\n      state = Object.assign(state, {\r\n        dataChannel: payload,\r\n        pc,\r\n      })\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(creatOffer.pending, (state) => {\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      state = Object.assign(state, {\r\n        isUse: true,\r\n        isOffer: true,\r\n        joinTime: new Date().getTime(),\r\n      })\r\n    })\r\n    builder.addCase(creatOffer.fulfilled, (state, { payload }) => {\r\n      state = Object.assign(state, payload)\r\n    })\r\n    builder.addCase(creatAnswer.pending, (state) => {\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      state = Object.assign(state, {\r\n        isAnswer: true,\r\n        joinTime: new Date().getTime(),\r\n      })\r\n    })\r\n    builder.addCase(creatAnswer.fulfilled, (state, { payload }) => {\r\n      state = Object.assign(state, payload)\r\n    })\r\n    builder.addCase(setOfferRemote.fulfilled, (state, { payload }) => {\r\n      state = Object.assign(state, payload)\r\n    })\r\n    builder.addCase(initWebRTCState.pending, (state) => {\r\n      state.pc?.close()\r\n      state.localStream?.getTracks().forEach((track) => track.stop())\r\n      const offer = state.offer || {}\r\n      state = Object.assign(state, {\r\n        pc: undefined,\r\n        media: undefined,\r\n        offer,\r\n      })\r\n    })\r\n    builder.addCase(initWebRTCState.fulfilled, (state) => {\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      state = Object.assign(state, initialState)\r\n    })\r\n  },\r\n})\r\n\r\nexport const { setOfferRequest, setAnswerChannel } = webRTC.actions\r\nexport default webRTC.reducer\r\n","import { CONTRACTID } from '@api/config'\r\n\r\nconst eventFunction = () => window.location.reload()\r\n\r\nexport const getNearWallet = (): boolean =>\r\n  typeof window.near !== 'undefined' && window.near.isSender\r\n\r\nexport const connectWallet: () => Promise<string> = async () => {\r\n  const { accessKey } = await window.near?.requestSignIn({\r\n    contractId: CONTRACTID,\r\n  })\r\n  return accessKey\r\n}\r\n\r\nexport const getAccountId = (): string => {\r\n  let accountId = ''\r\n  if (!window.near) return accountId\r\n  const isSignedIn = window.near.isSignedIn()\r\n  if (!isSignedIn) return accountId\r\n  accountId = window.near.getAccountId()\r\n  return accountId\r\n}\r\n\r\nexport const onWalletEvent: () => Promise<void> = async () => {\r\n  if (!window.near) return\r\n  // window.near.on('accountChanged', eventFunction)\r\n  window.near.on('rpcChanged', eventFunction)\r\n  window.near.on('signOut', eventFunction)\r\n}\r\n","\r\n\r\nimport * as Sender from './Sender'\r\n\r\ninterface WalletMethod {\r\n  getNearWallet: () => boolean\r\n  connectWallet: () => Promise<string>\r\n  getAccountId: () => string\r\n  onWalletEvent: () => Promise<void>\r\n\r\n}\r\n\r\nconst wallets: Record<string, WalletMethod> = {\r\n  Sender,\r\n}\r\n\r\nexport const getNearWallet: (currentWallet: string) => boolean = (currentWallet) => wallets[currentWallet].getNearWallet()\r\n\r\nexport const connectToWallet: (currentWallet: string) => Promise<string> = async (currentWallet) => await wallets[currentWallet].connectWallet()\r\n\r\nexport const getAccountId: (currentWallet: string) => string = (currentWallet) => wallets[currentWallet].getAccountId()\r\n\r\nexport const onWalletEvent: (currentWallet: string) => Promise<void> = async (currentWallet) => await wallets[currentWallet].onWalletEvent()\r\n","import type { Friends } from '@store/modules/friends'\r\n\r\ninterface Position {\r\n  x: number\r\n  y: number\r\n  z: number\r\n}\r\n\r\ninterface OfferParams {\r\n  friend: Friends\r\n  media: MediaStreamConstraints\r\n  isMeta: boolean\r\n}\r\n\r\ninterface OfferRes {\r\n  localStream: MediaStream\r\n  pc: RTCPeerConnection\r\n  friend: Friends\r\n  media: MediaStreamConstraints\r\n  dataChannel: RTCDataChannel\r\n  isVideo: boolean | MediaTrackConstraints | undefined\r\n  isMeta: boolean\r\n}\r\n\r\ninterface AnswerParams {\r\n  offer: RTCSessionDescription\r\n  media: MediaStreamConstraints\r\n  friend: Friends\r\n  position?: Position\r\n}\r\n\r\ninterface AnswerRes {\r\n  localStream: MediaStream\r\n  pc: RTCPeerConnection\r\n  media: MediaStreamConstraints | undefined\r\n  stream: MediaStream | undefined\r\n  friend: Friends\r\n  position?: Position\r\n}\r\n\r\ninterface OfferRemoteParams {\r\n  pc: RTCPeerConnection\r\n  answer: RTCSessionDescription\r\n  friend: Friends\r\n}\r\n\r\ninterface OfferRemoteRes {\r\n  pc: RTCPeerConnection | undefined\r\n  stream: MediaStream | undefined\r\n  friend: Friends\r\n}\r\n\r\nexport const options = {\r\n  iceServers: [\r\n    {\r\n      urls: [\r\n        'stun:stun.gmx.net:3478',\r\n        'stun:stun.l.google.com:19302',\r\n        'stun:stun1.l.google.com:19302',\r\n        'stun:stun2.l.google.com:19302',\r\n        'stun:stun3.l.google.com:19302',\r\n        'stun:54.250.193.38:3478',\r\n      ],\r\n    },\r\n    {\r\n      urls: ['turn:54.250.193.38:3478'],\r\n      username: 'firefly',\r\n      credential: 'firefly12345',\r\n    },\r\n  ],\r\n}\r\n\r\nexport const offer = async ({\r\n  friend,\r\n  media,\r\n  isMeta,\r\n}: OfferParams): Promise<OfferRes> => {\r\n  const localStream = await navigator.mediaDevices.getUserMedia(media)\r\n  const pc = new RTCPeerConnection(options)\r\n  const dataChannel = pc.createDataChannel(friend.topic)\r\n  localStream.getTracks().forEach((track) => pc.addTrack(track, localStream))\r\n  const offer = await pc.createOffer()\r\n  await pc.setLocalDescription(offer)\r\n  await new Promise((resolve) => {\r\n    pc.onicecandidate = (event) => {\r\n      if (event.candidate) setTimeout(() => resolve(pc.localDescription), 1000)\r\n    }\r\n  })\r\n  return {\r\n    localStream,\r\n    pc,\r\n    friend,\r\n    media,\r\n    dataChannel,\r\n    isVideo: media.video,\r\n    isMeta,\r\n  }\r\n}\r\n\r\nexport const answer = async ({\r\n  offer,\r\n  media,\r\n  friend,\r\n  position,\r\n}: AnswerParams): Promise<AnswerRes> => {\r\n  const localStream = await navigator.mediaDevices.getUserMedia(media)\r\n  const pc = new RTCPeerConnection(options)\r\n  let stream: MediaStream | undefined\r\n\r\n  localStream.getTracks().forEach((track) => pc.addTrack(track, localStream))\r\n\r\n  pc.ontrack = (event) => {\r\n    stream = event.streams[0]\r\n  }\r\n  await pc.setRemoteDescription(offer)\r\n  const answer = await pc.createAnswer()\r\n  await pc.setLocalDescription(answer)\r\n  await new Promise((resolve) => {\r\n    pc.onicecandidate = (event) => {\r\n      if (event.candidate) setTimeout(() => resolve(pc.localDescription), 1000)\r\n    }\r\n  })\r\n\r\n  return { localStream, pc, media, stream, friend, position }\r\n}\r\n\r\nexport const offerRemote = async ({\r\n  pc,\r\n  friend,\r\n  answer,\r\n}: OfferRemoteParams): Promise<OfferRemoteRes> => {\r\n  let stream: MediaStream | undefined\r\n\r\n  pc!.ontrack = (event) => {\r\n    stream = event.streams[0]\r\n  }\r\n\r\n  if (!pc!.currentRemoteDescription) {\r\n    await pc!.setRemoteDescription(answer)\r\n  }\r\n\r\n  await new Promise((resolve) => setTimeout(() => resolve(1), 1000))\r\n\r\n  return { pc, stream, friend }\r\n}\r\n"],"names":["CONNECTIONCONFIG","network","networkId","nodeUrl","walletUrl","helperUrl","explorerUrl","CONTRACTID","STATIC","Local","local","useAppSelector","state","obj","subTitle","LOCAL","nickname","submitted","required","copied","title","login","unregistered","successfulRequest","disconnect","search","wallet","connect","connecting","connected","notConnect","menu","close","fontColor","createTheme","palette","primary","main","typography","fontFamily","join","body1","color","h1","h2","h3","h4","h5","h6","user","headerImg","isCW","isLogin","currentFriend","friends","dispatch","useAppDispatch","langHook","useState","anchorEl","setAnchorEl","handleLocal","lang","setLocal","Box","AppBar","position","Toolbar","sx","flexGrow","name","IconButton","size","edge","mr","onClick","event","currentTarget","Language","Menu","open","onClose","MenuItem","Button","setRoom","textTransform","startIcon","style","width","height","src","registerOpen","setDialogOpen","headerLang","Sider","lazy","router","isHeader","isSider","display","Suspense","flex","Header","lazyLoad","children","fallback","Dialog","location","useLocation","isConnect","initWallet","store","useEffect","routeRule","path","routeMap","paths","split","pop","length","pathName","findRouterRule","pathname","setRouter","to","Home","Connect","Login","routes","index","element","ExplorerRoutes","Layout","common","snackbarRef","useRef","ref","maxSnack","anchorOrigin","vertical","horizontal","preventDuplicate","autoHideDuration","action","snackbarId","current","closeSnackbar","Close","useRoutes","routers","root","createRoot","document","getElementById","persistor","persistStore","window","addEventListener","render","loading","ThemeProvider","theme","App","reducers","combineReducers","webRTC","dialog","room","persistConfig","key","storage","blacklist","persistedReducer","persistReducer","configureStore","reducer","middleware","thunk","useDispatch","useSelector","createSlice","initialState","streamOpen","metaOpen","roomOpen","setMeta","payload","extraReducers","builder","addCase","creatOffer","setOfferRequest","initWebRTCState","initRoom","actions","_friends","currentFriendIndex","remotes","setFriends","setCurrentFriendIndex","setRemotes","pushRemotes","push","creatRoomOffer","createAsyncThunk","offer","creatRoomAnswer","friend","media","video","audio","answer","setRoomOfferRemote","getState","playes","pc","offerRemote","undefined","discovery","addPlay","newPlay","id","removePlay","_playes","changeRoom","addDiscovery","_discovery","shiftDiscovery","shift","setAnswerChannel","dataChannel","console","log","Object","assign","values","forEach","play","audioContext","localStream","getTracks","track","stop","fulfilled","account_id","identity","AudioContext","stream","initPosition","libp2p","dialogOpen","isVideo","isAudio","setUser","setAudio","connectWallet","disconnectWallet","i","wrtcStar","webRTCStar","createLibp2p","addresses","listen","transports","webSockets","transport","connectionEncryption","noise","streamMuxers","mplex","peerDiscovery","bootstrap","list","connectionManager","maxParallelDials","maxDialsPerPeer","dialTimeout","autoDial","initState","currentWallet","accountAddress","walletNetwork","accessKey","_","getNearWallet","connectToWallet","getAccountId","setConnecting","pending","data","onWalletEvent","isUse","joinTime","isOffer","isAnswer","isMeta","creatAnswer","setOfferRemote","Promise","resolve","setTimeout","Date","getTime","eventFunction","reload","near","isSender","requestSignIn","contractId","accountId","isSignedIn","on","wallets","Sender","options","iceServers","urls","username","credential","navigator","mediaDevices","getUserMedia","RTCPeerConnection","createDataChannel","topic","addTrack","createOffer","setLocalDescription","onicecandidate","candidate","localDescription","ontrack","streams","setRemoteDescription","createAnswer","currentRemoteDescription"],"sourceRoot":""}