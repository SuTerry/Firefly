"use strict";(self.webpackChunksourcedao_pc_dapp=self.webpackChunksourcedao_pc_dapp||[]).push([["node_modules_lingo3d-react_dist_HTMLMesh_b589c194_mjs"],{45918:(e,t,o)=>{o.r(t),o.d(t,{HTMLMesh:()=>i,HTMLSprite:()=>s});var n=o(51231);o(44441),o(48099);class i extends n.m{constructor(e){const t=new r(e),o=new n.ap(t.image.width*n.aq,t.image.height*n.aq),i=new n.a2({map:t,toneMapped:!1,transparent:!0});function s(e){i.map.dispatchDOMEvent(e)}super(o,i),this.addEventListener("mousedown",s),this.addEventListener("mousemove",s),this.addEventListener("mouseup",s),this.addEventListener("click",s),this.dispose=function(){o.dispose(),i.dispose(),i.map.dispose(),this.removeEventListener("mousedown",s),this.removeEventListener("mousemove",s),this.removeEventListener("mouseup",s),this.removeEventListener("click",s)},this.update=()=>t.update()}}class s extends n.ar{constructor(e){const t=new r(e),o=new n.as({map:t,toneMapped:!1,transparent:!0});function i(e){o.map.dispatchDOMEvent(e)}super(o),this.scale.set(t.image.width*n.aq,t.image.height*n.aq,0),this.addEventListener("mousedown",i),this.addEventListener("mousemove",i),this.addEventListener("mouseup",i),this.addEventListener("click",i),this.dispose=function(){o.dispose(),o.map.dispose(),this.removeEventListener("mousedown",i),this.removeEventListener("mousemove",i),this.removeEventListener("mouseup",i),this.removeEventListener("click",i)},this.update=()=>t.update()}}class r extends n.at{constructor(e){super(d(e)),this.dom=e,this.anisotropy=16,this.minFilter=n.Z,this.magFilter=n.Z;const t=new MutationObserver((()=>{this.update()}));t.observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),this.observer=t}dispatchDOMEvent(e){e.data&&function(e,t,o,n){const i={clientX:o*e.offsetWidth+e.offsetLeft,clientY:n*e.offsetHeight+e.offsetTop,view:e.ownerDocument.defaultView};window.dispatchEvent(new MouseEvent(t,i));const s=e.getBoundingClientRect();o=o*s.width+s.left,n=n*s.height+s.top,function e(s){if(s.nodeType!==Node.TEXT_NODE&&s.nodeType!==Node.COMMENT_NODE){const r=s.getBoundingClientRect();if(o>r.left&&o<r.right&&n>r.top&&n<r.bottom&&(s.dispatchEvent(new MouseEvent(t,i)),s instanceof HTMLInputElement&&"range"===s.type&&("mousedown"===t||"click"===t))){const[e,t]=["min","max"].map((e=>parseFloat(s[e]))),n=r.width,i=(o-r.x)/n;s.value=e+(t-e)*i,s.dispatchEvent(new InputEvent("input",{bubbles:!0}))}for(let t=0;t<s.childNodes.length;t++)e(s.childNodes[t])}}(e)}(this.dom,e.type,e.data.x,e.data.y)}update(){this.image=d(this.dom),this.needsUpdate=!0}dispose(){this.observer&&this.observer.disconnect(),super.dispose()}}const a=new WeakMap;function d(e){const t=document.createRange(),o=new n.e;function i(e,t,o,n){""!==n&&("uppercase"===e.textTransform&&(n=n.toUpperCase()),c.font=e.fontWeight+" "+e.fontSize+" "+e.fontFamily,c.textBaseline="top",c.fillStyle=e.color,c.fillText(n,t,o+.1*parseFloat(e.fontSize)))}function s(e,t,o,n,i){o<2*i&&(i=o/2),n<2*i&&(i=n/2),c.beginPath(),c.moveTo(e+i,t),c.arcTo(e+o,t,e+o,t+n,i),c.arcTo(e+o,t+n,e,t+n,i),c.arcTo(e,t+n,e,t,i),c.arcTo(e,t,e+o,t,i),c.closePath()}function r(e,t,o,n,i,s){const r=e[t+"Width"],a=e[t+"Style"],d=e[t+"Color"];"0px"!==r&&"none"!==a&&"transparent"!==d&&"rgba(0, 0, 0, 0)"!==d&&(c.strokeStyle=d,c.lineWidth=parseFloat(r),c.beginPath(),c.moveTo(o,n),c.lineTo(o+i,n+s),c.stroke())}const d=e.getBoundingClientRect();let l;a.has(e)?l=a.get(e):(l=document.createElement("canvas"),l.width=d.width,l.height=d.height);const c=l.getContext("2d"),h=new function(e){const t=[];let o=!1;function n(){if(o&&(o=!1,e.restore()),0===t.length)return;let n=-1/0,i=-1/0,s=1/0,r=1/0;for(let e=0;e<t.length;e++){const o=t[e];n=Math.max(n,o.x),i=Math.max(i,o.y),s=Math.min(s,o.x+o.width),r=Math.min(r,o.y+o.height)}e.save(),e.beginPath(),e.rect(n,i,s-n,r-i),e.clip(),o=!0}return{add:function(e){t.push(e),n()},remove:function(){t.pop(),n()}}}(c);return function e(n,a){let l=0,p=0,u=0,f=0;if(n.nodeType===Node.TEXT_NODE){t.selectNode(n);const e=t.getBoundingClientRect();l=e.left-d.left-.5,p=e.top-d.top-.5,u=e.width,f=e.height,i(a,l,p,n.nodeValue.trim())}else{if(n.nodeType===Node.COMMENT_NODE)return;if(n instanceof HTMLCanvasElement){if("none"===n.style.display)return;c.save();const e=window.devicePixelRatio;c.scale(1/e,1/e),c.drawImage(n,0,0),c.restore()}else{if("none"===n.style.display)return;const e=n.getBoundingClientRect();l=e.left-d.left-.5,p=e.top-d.top-.5,u=e.width,f=e.height,a=window.getComputedStyle(n),s(l,p,u,f,parseFloat(a.borderRadius));const t=a.backgroundColor;"transparent"!==t&&"rgba(0, 0, 0, 0)"!==t&&(c.fillStyle=t,c.fill());const m=["borderTop","borderLeft","borderBottom","borderRight"];let v=!0,g=null;for(const e of m){if(null!==g&&(v=a[e+"Width"]===a[g+"Width"]&&a[e+"Color"]===a[g+"Color"]&&a[e+"Style"]===a[g+"Style"]),!1===v)break;g=e}if(!0===v){const e=parseFloat(a.borderTopWidth);"0px"!==a.borderTopWidth&&"none"!==a.borderTopStyle&&"transparent"!==a.borderTopColor&&"rgba(0, 0, 0, 0)"!==a.borderTopColor&&(c.strokeStyle=a.borderTopColor,c.lineWidth=e,c.stroke())}else r(a,"borderTop",l,p,u,0),r(a,"borderLeft",l,p,0,f),r(a,"borderBottom",l,p+f,u,0),r(a,"borderRight",l+u,p,0,f);if(n instanceof HTMLInputElement){let e=a.accentColor;(void 0===e||"auto"===e)&&(e=a.color),o.set(e);const t=Math.sqrt(.299*o.r**2+.587*o.g**2+.114*o.b**2)<.5?"white":"#111111";if("radio"===n.type&&(s(l,p,u,f,f),c.fillStyle="white",c.strokeStyle=e,c.lineWidth=1,c.fill(),c.stroke(),n.checked&&(s(l+2,p+2,u-4,f-4,f),c.fillStyle=e,c.strokeStyle=t,c.lineWidth=2,c.fill(),c.stroke())),"checkbox"===n.type&&(s(l,p,u,f,2),c.fillStyle=n.checked?e:"white",c.strokeStyle=n.checked?t:e,c.lineWidth=1,c.stroke(),c.fill(),n.checked)){const e=c.textAlign;c.textAlign="center",i({color:t,fontFamily:a.fontFamily,fontSize:f+"px",fontWeight:"bold"},l+u/2,p,"âœ”"),c.textAlign=e}if("range"===n.type){const[o,i,r]=["min","max","value"].map((e=>parseFloat(n[e]))),a=(r-o)/(i-o)*(u-f);s(l,p+f/4,u,f/2,f/4),c.fillStyle=t,c.strokeStyle=e,c.lineWidth=1,c.fill(),c.stroke(),s(l,p+f/4,a+f/2,f/2,f/4),c.fillStyle=e,c.fill(),s(l+a,p,f,f,f/2),c.fillStyle=e,c.fill()}("color"===n.type||"text"===n.type||"number"===n.type)&&(h.add({x:l,y:p,width:u,height:f}),i(a,l+parseInt(a.paddingLeft),p+parseInt(a.paddingTop),n.value),h.remove())}}}const m="auto"===a.overflow||"hidden"===a.overflow;m&&h.add({x:l,y:p,width:u,height:f});for(let t=0;t<n.childNodes.length;t++)e(n.childNodes[t],a);m&&h.remove()}(e),l}}}]);
//# sourceMappingURL=node_modules_lingo3d-react_dist_HTMLMesh_b589c194_mjs.3d976a80.js.map