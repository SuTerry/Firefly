"use strict";(self.webpackChunksourcedao_pc_dapp=self.webpackChunksourcedao_pc_dapp||[]).push([["node_modules_lingo3d-react_dist_enableMouseControl_c119ef0b_mjs"],{96152:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var o=n(51231);function i(){this.done||(this.createEffect((()=>{if((0,o.b1)()!==this.camera||!this.mouseControlState.get())return;if((0,o.b2)()===this.camera){const e=e=>this.gyrate(e.movementX,e.movementY);return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}}let e,t,n,i=!1;const c=()=>{i=!0,[t,n]=[void 0,void 0]},r=()=>i=!1,s=e=>{void 0===t&&(t=e.clientX),void 0===n&&(n=e.clientY);const[o,c]=[e.clientX-t,e.clientY-n];[t,n]=[e.clientX,e.clientY],i&&this.gyrate(o/window.innerWidth*3e3,c/window.innerHeight*3e3)};if(o.b3){const t=t=>{void 0===e&&(e=t.changedTouches[t.changedTouches.length-1].identifier,c())};o.b4.addEventListener("touchstart",t);const n=t=>{void 0!==e&&t.changedTouches[t.changedTouches.length-1].identifier===e&&(e=void 0,r())};o.b4.addEventListener("touchend",n);const d=t=>{if(void 0===e)return;let n;for(let o=0;o<t.changedTouches.length;++o){const i=t.changedTouches[o];if(i.identifier===e){n=i;break}}n&&s(n)};return o.b4.addEventListener("touchmove",d),()=>{o.b4.removeEventListener("touchstart",t),o.b4.removeEventListener("touchend",n),o.b4.removeEventListener("touchmove",d),e=void 0,i=!1}}const d=o.b5.on("down",c),u=o.b5.on("up",r);return o.b4.addEventListener("mousemove",s),()=>{d.cancel(),u.cancel(),o.b4.removeEventListener("mousemove",s),e=void 0,i=!1}}),[this.mouseControlState.get,o.b1,o.b2]),this.createEffect((()=>{const e=(0,o.b1)();if(!0!==this.mouseControlState.get()||e!==this.camera||(0,o.b6)())return;const t=()=>{var e,t;return null==(t=(e=o.b4).requestPointerLock)?void 0:t.call(e)},n=()=>{document.pointerLockElement===o.b4?(0,o.b7)(e):(0,o.b7)(void 0)};return o.b4.addEventListener("click",t),document.addEventListener("pointerlockchange",n),()=>{o.b4.removeEventListener("click",t),document.removeEventListener("pointerlockchange",n),document.exitPointerLock(),(0,o.b7)(void 0)}}),[this.mouseControlState.get,o.b1,o.b6]))}n(44441),n(48099)}}]);
//# sourceMappingURL=node_modules_lingo3d-react_dist_enableMouseControl_c119ef0b_mjs.d519d14e.js.map