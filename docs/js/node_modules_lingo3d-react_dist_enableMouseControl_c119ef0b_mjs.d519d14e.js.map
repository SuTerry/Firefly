{"version":3,"file":"js/node_modules_lingo3d-react_dist_enableMouseControl_c119ef0b_mjs.d519d14e.js","mappings":"iOAGA,SAASA,IACPC,KAAKC,OAASD,KAAKE,cAAa,KAC9B,IAAI,YAAQF,KAAKG,SAAWH,KAAKI,kBAAkBC,MACjD,OACF,IAAI,YAAQL,KAAKG,OAAQ,CACvB,MAAMG,EAAKC,GAAMP,KAAKQ,OAAOD,EAAEE,UAAWF,EAAEG,WAC5C,OAAOC,SAASC,iBAAiB,YAAaN,GAAI,KAChDK,SAASE,oBAAoB,YAAaP,EAAE,CAEhD,CACA,IAAYQ,EAAGC,EAAGC,EAAdC,GAAI,EACR,MAAMC,EAAI,KACRD,GAAI,GAAKF,EAAGC,GAAK,MAAC,OAAQ,EAAO,EAChCG,EAAI,IAAMF,GAAI,EAAIG,EAAKd,SAClB,IAANS,IAAiBA,EAAIT,EAAEe,cAAgB,IAANL,IAAiBA,EAAIV,EAAEgB,SACxD,MAAOf,EAAGgB,GAAK,CAACjB,EAAEe,QAAUN,EAAGT,EAAEgB,QAAUN,IAC1CD,EAAGC,GAAK,CAACV,EAAEe,QAASf,EAAEgB,SAAUL,GAAKjB,KAAKQ,OAAOD,EAAIiB,OAAOC,WAAa,IAAKF,EAAIC,OAAOE,YAAc,IAAI,EAE9G,GAAI,KAAG,CACL,MAAMpB,EAAKqB,SACH,IAANb,IAAiBA,EAAIa,EAAEC,eAAeD,EAAEC,eAAeC,OAAS,GAAGC,WAAYZ,IAAI,EAErF,sBAAmB,aAAcZ,GACjC,MAAMC,EAAKoB,SACH,IAANb,GAAgBa,EAAEC,eAAeD,EAAEC,eAAeC,OAAS,GAAGC,aAAehB,IAAMA,OAAI,EAAQK,IAAI,EAErG,sBAAmB,WAAYZ,GAC/B,MAAMgB,EAAKI,IACT,QAAU,IAANb,EACF,OACF,IAAIiB,EACJ,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAEC,eAAeC,SAAUG,EAAG,CAChD,MAAMC,EAAIN,EAAEC,eAAeI,GAC3B,GAAIC,EAAEH,aAAehB,EAAG,CACtBiB,EAAIE,EACJ,KACF,CACF,CACAF,GAAKX,EAAEW,EAAE,EAEX,OAAO,sBAAmB,YAAaR,GAAI,KACzC,yBAAsB,aAAcjB,GAAI,yBAAsB,WAAYC,GAAI,yBAAsB,YAAagB,GAAIT,OAAI,EAAQG,GAAI,CAAE,CAE3I,CACA,MAAMiB,EAAI,QAAK,OAAQhB,GAAIiB,EAAI,QAAK,KAAMhB,GAC1C,OAAO,sBAAmB,YAAaC,GAAI,KACzCc,EAAEE,SAAUD,EAAEC,SAAU,yBAAsB,YAAahB,GAAIN,OAAI,EAAQG,GAAI,CAAE,CAClF,GACA,CAACjB,KAAKI,kBAAkBC,IAAK,KAAG,OAAKL,KAAKE,cAAa,KACxD,MAAMe,GAAI,UACV,IAAqC,IAAjCjB,KAAKI,kBAAkBC,OAAgBY,IAAMjB,KAAKG,SAAU,UAC9D,OACF,MAAMW,EAAI,KACR,IAAIE,EAAGE,EACP,OAA2C,OAAnCA,GAAKF,EAAI,MAAGqB,yBAA8B,EAASnB,EAAEoB,KAAKtB,EAAE,EACnED,EAAI,KACLJ,SAAS4B,qBAAuB,MAAI,QAAEtB,IAAK,aAAE,EAAO,EAEtD,OAAO,sBAAmB,QAASH,GAAIH,SAASC,iBAAiB,oBAAqBG,GAAI,KACxF,yBAAsB,QAASD,GAAIH,SAASE,oBAAoB,oBAAqBE,GAAIJ,SAAS6B,mBAAmB,aAAE,EAAO,CAC/H,GACA,CAACxC,KAAKI,kBAAkBC,IAAK,KAAG,OACrC,C","sources":["webpack://sourcedao-pc-dapp/./node_modules/lingo3d-react/dist/enableMouseControl.c119ef0b.mjs"],"sourcesContent":["import { b1 as u, b2 as E, b3 as p, b4 as n, b5 as L, b6 as k, b7 as f } from \"./index.e61493f3.mjs\";\nimport \"react\";\nimport \"react-dom\";\nfunction P() {\n  this.done || (this.createEffect(() => {\n    if (u() !== this.camera || !this.mouseControlState.get())\n      return;\n    if (E() === this.camera) {\n      const t = (c) => this.gyrate(c.movementX, c.movementY);\n      return document.addEventListener(\"mousemove\", t), () => {\n        document.removeEventListener(\"mousemove\", t);\n      };\n    }\n    let o = !1, e, i, r;\n    const s = () => {\n      o = !0, [i, r] = [void 0, void 0];\n    }, v = () => o = !1, h = (t) => {\n      i === void 0 && (i = t.clientX), r === void 0 && (r = t.clientY);\n      const [c, a] = [t.clientX - i, t.clientY - r];\n      [i, r] = [t.clientX, t.clientY], o && this.gyrate(c / window.innerWidth * 3e3, a / window.innerHeight * 3e3);\n    };\n    if (p) {\n      const t = (d) => {\n        e === void 0 && (e = d.changedTouches[d.changedTouches.length - 1].identifier, s());\n      };\n      n.addEventListener(\"touchstart\", t);\n      const c = (d) => {\n        e !== void 0 && d.changedTouches[d.changedTouches.length - 1].identifier === e && (e = void 0, v());\n      };\n      n.addEventListener(\"touchend\", c);\n      const a = (d) => {\n        if (e === void 0)\n          return;\n        let m;\n        for (let l = 0; l < d.changedTouches.length; ++l) {\n          const g = d.changedTouches[l];\n          if (g.identifier === e) {\n            m = g;\n            break;\n          }\n        }\n        m && h(m);\n      };\n      return n.addEventListener(\"touchmove\", a), () => {\n        n.removeEventListener(\"touchstart\", t), n.removeEventListener(\"touchend\", c), n.removeEventListener(\"touchmove\", a), e = void 0, o = !1;\n      };\n    }\n    const b = L.on(\"down\", s), C = L.on(\"up\", v);\n    return n.addEventListener(\"mousemove\", h), () => {\n      b.cancel(), C.cancel(), n.removeEventListener(\"mousemove\", h), e = void 0, o = !1;\n    };\n  }, [this.mouseControlState.get, u, E]), this.createEffect(() => {\n    const o = u();\n    if (this.mouseControlState.get() !== !0 || o !== this.camera || k())\n      return;\n    const e = () => {\n      var r, s;\n      return (s = (r = n).requestPointerLock) == null ? void 0 : s.call(r);\n    }, i = () => {\n      document.pointerLockElement === n ? f(o) : f(void 0);\n    };\n    return n.addEventListener(\"click\", e), document.addEventListener(\"pointerlockchange\", i), () => {\n      n.removeEventListener(\"click\", e), document.removeEventListener(\"pointerlockchange\", i), document.exitPointerLock(), f(void 0);\n    };\n  }, [this.mouseControlState.get, u, k]));\n}\nexport {\n  P as default\n};\n"],"names":["P","this","done","createEffect","camera","mouseControlState","get","t","c","gyrate","movementX","movementY","document","addEventListener","removeEventListener","e","i","r","o","s","v","h","clientX","clientY","a","window","innerWidth","innerHeight","d","changedTouches","length","identifier","m","l","g","b","C","cancel","requestPointerLock","call","pointerLockElement","exitPointerLock"],"sourceRoot":""}