{"version":3,"file":"js/src_components_Dialog_index_tsx.09de3be2.js","mappings":";oLAIA,SAAeA,WAAAA,IAAOC,EAAAA,EAAtB,EAAiC,gBAAGC,EAAK,EAALA,MAAK,MAAQ,CAC/C,wBAAyB,CACvBC,MAAO,QAET,2BAA4B,CAC1B,aAAc,CACZC,YAAaF,EAAMG,QAAQC,QAAQC,MAErC,mBAAoB,CAClBH,YAAaF,EAAMG,QAAQC,QAAQC,OAGxC,6eCWD,IAAMC,EAAaC,EAAAA,YACjB,SACEC,EAGAC,GAEA,OAAO,gBAACC,EAAA,EAAK,GAACC,UAAU,KAAKF,IAAKA,GAASD,GAC7C,IAGF,mBACE,IAAQI,GAAeC,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMC,MAAM,IAArDH,WACR,GAWIC,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAME,MAAM,IAVxCC,EAAM,EAANA,OACAC,EAAE,EAAFA,GACAC,EAAO,EAAPA,QACAC,EAAQ,EAARA,SACAC,EAAM,EAANA,OACAC,EAAO,EAAPA,QACAC,EAAW,EAAXA,YACAC,EAAM,EAANA,OACAC,EAAW,EAAXA,YACAC,EAAS,EAATA,UAGIC,GAAWC,EAAAA,EAAAA,MAEXC,GAAWC,EAAAA,EAAAA,QAAyB,MACpCC,GAAWD,EAAAA,EAAAA,QAAyB,MACpCE,GAAgBF,EAAAA,EAAAA,QAAyB,MAUzCG,EAAQd,GAAWC,EACnBc,EAAYhB,GAAMG,GAAUI,GAAeC,EAqCjD,OAZAS,EAAAA,EAAAA,YAAU,WACHd,GACAa,IACDZ,GACFS,EAASK,QAASC,UAAYhB,EAC9BW,EAAcI,QAASC,UAAYd,GAEnCM,EAASO,QAASC,UAAYhB,EAE5BG,GAAQG,GAASW,EAAAA,EAAAA,KAAQ,IAC/B,GAAG,CAACjB,EAAQH,aAAE,EAAFA,EAAIqB,kBAGd,2BACE,gBAACC,EAAA,EAAM,CAACC,KAAM7B,EAAY8B,oBAAqBpC,EAAYqC,aAAW,GACpE,gBAACC,EAAA,EAAa,KACZ,gBAACC,EAAA,EAAG,CACFC,GAAI,CACFC,MAAO,IACPC,OAAQ,IACRC,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBC,WAAY,SACZC,SAAU,WAGXpC,EACCiB,GACEZ,EAxCZ,gBAACuB,EAAA,EAAG,CAACC,GAAI,CAAEC,MAAO,OAAQO,SAAU,aAClC,yBACEC,UAAU,cACV9C,IAAKuB,EACLwB,UAAQ,EACRC,OAAO,IAET,yBAAOF,UAAU,eAAe9C,IAAKsB,EAAUyB,UAAQ,KAnBvC,SAACvC,GAAe,OAClC,gCACE,uBACEyC,MAAO,CAAEX,MAAO,QAASY,aAAc,QACvCC,KAAKC,EAAAA,EAAAA,IAAK5C,EAAO6C,SAEnB,gBAACC,EAAA,EAAU,CAACjB,GAAI,CAAE7C,MAAO,SAAWgB,EAAO+C,MAC3C,yBAAOT,UAAU,QAAQ9C,IAAKoB,EAAU2B,UAAQ,IAC/C,CAkDSS,CAAYhD,GAGd,gCACE,gBAACiD,EAAA,EAAQ,CACPC,QAAQ,cACRpB,MAAO,IACPC,OAAQ,IACRF,GAAI,CAAEsB,GAAI,KAEZ,gBAACF,EAAA,EAAQ,CACPC,QAAQ,OACRrB,GAAI,CAAEC,MAAO,OAAQsB,SAAU,aAInCnC,GAAa,gBAACoC,EAAA,EAAgB,CAACrE,MAAM,UAAU6C,GAAI,CAAEyB,GAAI,OAG/D,gBAACC,EAAA,EAAa,CACZ1B,GAAI,CACF2B,GAAI,GACJC,GAAI,GACJN,GAAI,EACJnB,QAAS,OACTE,eAAgBlB,EAAQ,SAAW,mBAGnCA,GACA,gBAAC0C,EAAA,EAAU,CAACC,KAAK,QAAQC,QAlGd,WACnBlD,GAASmD,EAAAA,EAAAA,MACX,GAiGY,gBAACC,EAAA,EAAI,CAAC9E,MAAM,aAGhB,gBAAC0E,EAAA,EAAU,CAACC,KAAK,QAAQC,QAlGb,WAClBlD,GAASqD,EAAAA,EAAAA,MACX,GAiGU,gBAACC,EAAA,EAAO,CAAChF,MAAM,aAM1B,+jBCvKD,ijNAwCA,IAAMiF,GAAkBpF,EAAAA,EAAAA,IAAO0C,EAAAA,EAAP1C,EAAe,gBAAGE,EAAK,EAALA,MAAK,MAAQ,CACrD,mBAAoB,CAClBmF,YAAanF,EAAMoF,QAAQ,GAC3BC,aAAcrF,EAAMoF,QAAQ,GAC5BE,WAAYtF,EAAMoF,QAAQ,GAC1BG,cAAevF,EAAMoF,QAAQ,IAEhC,IAED,mBACE,IAAMpF,GAAQwF,EAAAA,EAAAA,GAAY,CACxBC,WAAY,CACVC,MAAO,CACLzF,MAAO,WAKL0F,GAAoBC,EAAAA,EAAAA,MAApBD,gBAER,GAAmC9E,EAAAA,EAAAA,KAAe,SAACgF,GAAK,OAAKA,EAAMC,MAAM,IAAjEC,EAAU,EAAVA,WAAYC,EAAU,EAAVA,WAEdrE,GAAWC,EAAAA,EAAAA,MAEXqE,GAAQC,EAAAA,EAAAA,KASRC,EAAc,WACdH,GACJrE,GAASyE,EAAAA,EAAAA,KAAc,GACzB,EAEMC,EAAmB,eA9E3B,EA8E2B,GA9E3B,EA8E2B,UAAG,WAAOC,GAAc,2EAC3CN,EAAY,CAAF,gDAMyB,GAJ/BO,EAASD,EAATC,KAER5E,GAAS6E,EAAAA,EAAAA,IAAc,MAEHC,EAAAA,EAAAA,IAAcF,GAEjB,CAAF,gCACa5E,GAAS+E,EAAAA,EAAAA,IAAcH,IAAM,cAA/CI,QAEqBC,gBAC3BjB,EAAgBM,EAAMY,EAAAA,GAAAA,IAAuB,CAAE1C,QAAS,YAAY,wBAEtE2C,OAAOrE,KAAK,4BACZd,GAAS6E,EAAAA,EAAAA,IAAc,IAAO,2CA9FpC,+KAgGG,gBAlBwB,sCAoBzB,OACE,gBAACtB,EAAe,CAAC6B,QAASZ,EAAa1D,KAAMsD,GAC3C,gBAACiB,EAAA,EAAW,CACVlE,GAAI,CACF2B,GAAI,EACJwC,GAAI,EACJhH,MAAO,SAGRgG,EAAMY,EAAAA,GAAAA,IACP,gBAAClC,EAAA,EAAU,CACT,aAAW,QACXE,QAASsB,EACTrD,GAAI,CACFQ,SAAU,WACV4D,MAAO,EACPC,IAAK,EACLlH,MAAO,SAACD,GAAK,OAAKA,EAAMG,QAAQiH,KAAK,IAAI,IAG3C,gBAACC,EAAA,EAAS,QAGd,gBAACC,EAAA,EAAI,CAACxE,GAAI,CAAEyE,GAAI,IAvDM,CACxB,CACEC,KAAM,GACNjB,KAAM,WAqDKkB,KAAI,SAACnB,EAAQoB,GAAK,OACzB,gBAACC,EAAA,GAAQ,CACPC,SAAU5B,EACV6B,QAAM,EACNhD,QAAS,kBAAMwB,EAAoBC,EAAO,EAC1CwB,IAAKJ,EACL5E,GAAI,CACFiF,OAAQ,gCACRC,aAAc,EACdjF,MAAO,MAGT,gBAACkF,EAAA,EAAc,KACb,gBAACC,EAAA,EAAM,CAAC/D,QAAQ,UAAUP,ICxIxC,65PD0IY,gBAACuE,EAAA,EAAa,CAACnI,MAAOA,GACpB,gBAACoI,EAAA,EAAY,CAAChI,QAASkG,EAAOC,OAC9B,gBAAC6B,EAAA,EAAY,CACXhI,QAAS6F,EACPD,EAAaa,EAAAA,GAAAA,GAAwBA,EAAAA,GAAAA,IAEvC/D,GAAI,CACFuF,SAAU,MAIP,KAKpB,kYEzJD,s/PAkCA,IAAM/H,IAAagI,EAAAA,EAAAA,aACjB,SACE9H,EAGAC,GAEA,OAAO,gBAACC,EAAA,EAAK,IAACC,UAAU,KAAKF,IAAKA,GAASD,GAC7C,IAGI0E,IAAkBpF,EAAAA,EAAAA,IAAO0C,EAAAA,EAAP1C,EAAe,iBAAO,CAC5C,mBAAoB,CAClByI,gBAAiB,QAEpB,IAED,oBACE,IAAQ5C,GAAoBC,EAAAA,EAAAA,MAApBD,gBAEAiB,GAAmB/F,EAAAA,EAAAA,KAAe,SAACgF,GAAK,OAAKA,EAAMC,MAAM,IAAzDc,eACF4B,GAAO3H,EAAAA,EAAAA,KAAe,SAACgF,GAAK,OAAKA,EAAM2C,IAAI,IAE3C7G,GAAWC,EAAAA,EAAAA,MAEXqE,GAAQC,EAAAA,EAAAA,KAE4C,MAAxBuC,EAAAA,EAAAA,UAASD,EAAKE,WAAU,GAAnDA,EAAS,KAAEC,EAAY,KACyB,MAAvBF,EAAAA,EAAAA,UAASD,EAAKI,UAAS,GAAhDA,EAAQ,KAAEC,EAAW,KACoB,MAAZJ,EAAAA,EAAAA,UAAS,IAAG,GAAzCK,EAAU,KAAEC,EAAa,KACa,MAAfN,EAAAA,EAAAA,WAAS,GAAM,GAAtCO,EAAO,KAAEC,EAAU,KASpBC,EAAe,+BAAG,WAAOC,GAAoC,4EACjC,GAA1BC,EAAQD,EAAME,OAAOD,MACf,CAAF,gDACW,OAAfE,EAAOF,EAAM,GAAE,UACFG,EAAAA,EAAAA,IAAID,GAAK,OAAtBE,EAAO,EAAH,KACVb,EAAaa,GAAK,2CACnB,gBANoB,sCAafC,EAAY,+BAAG,kFACdb,EAAU,CAAF,eACgC,OAA3CG,EAAc9C,EAAMyD,EAAAA,GAAAA,KAAuB,0BAG7B,OAAhBT,GAAW,GAAK,kBAERU,EAAAA,EAAAA,SAAiBf,EAAUF,GAAU,OAC3C/G,GAASiI,EAAAA,EAAAA,IAAQ,CAAElB,UAAAA,EAAWE,SAAAA,KAAY,kDAE1CjD,EAAgB,KAAyBkE,KAAKC,eAAgB,CAC5D3F,QAAS,QACT4F,iBAAkB,MAClB,QAEJd,GAAW,GAAM,0DAClB,kBAhBiB,mCAiBlB,OACE,gBAAC,GAAe,CACde,YAAU,EACVvH,KAAM+F,EAAKzC,WACXrD,oBAAqBpC,IAErB,gBAAC2J,EAAA,EAAM,CAACnH,GAAI,CAAEG,QAAS,OAAQG,WAAY,QACzC,gBAAC8G,EAAA,EAAO,KACN,gBAACvF,EAAA,EAAU,CACTwF,KAAK,QACLlK,MAAM,UACN4E,QAAS,kBAAMlD,GAASyE,EAAAA,EAAAA,KAAc,GAAO,EAC7C,aAAW,SAEX,gBAAC,IAAK,SAIZ,gBAACvD,EAAA,EAAG,CACFC,GAAI,CACFE,OAAQ,OACRC,QAAS,OACTC,cAAe,SAEfE,WAAY,SACZmE,GAAI,KAIN,gBAAC1E,EAAA,EAAG,CACFC,GAAI,CACFQ,SAAU,WACVP,MAAO,IACPC,OAAQ,IACRoB,GAAI,IAGN,uBACEV,MAAO,CAAEX,MAAO,OAAQC,OAAQ,OAAQgF,aAAc,QACtDpE,IAAG,+BAA0B8E,KAE/B,gBAAC7F,EAAA,EAAG,CACFC,GAAI,CACFQ,SAAU,WACV8G,KAAM,EACNjD,IAAK,EACLpE,MAAO,OACPC,OAAQ,OACRuF,gBAAiB,2BACjBtF,QAAS,OACTE,eAAgB,SAChBC,WAAY,SACZiH,QAAS,EACTC,WAAY,eACZtC,aAAc,OACd,UAAW,CACTqC,QAAS,KAIb,gBAAC1F,EAAA,EAAU,CAAC1E,MAAM,UAAU2E,KAAK,QAAQ2F,UAAU,SACjD,yBACEC,QAAM,EACNC,OAAO,UACPC,KAAK,OACLC,SAAUzB,IAEZ,gBAAC0B,EAAA,EAAW,SAKlB,gBAACC,EAAA,EAAM,CACL5K,MAAM,UACN6C,GAAI,CAAEmE,GAAI,GACV6D,QAAS,gBAACC,EAAA,EAAW,MACrBlG,QAjHW,WACjBmG,UAAUC,UAAUC,UAAUtE,GAC9BjB,EAAgBM,EAAMyD,EAAAA,GAAAA,IAAsB,CAC1CvF,QAAS,WAEb,IA8GSgH,EAAAA,EAAAA,IAAevE,EAAgB,IAGlC,gBAAC,IAAS,CACRwE,QAAStC,EACTuC,MAAOpF,EAAMyD,EAAAA,GAAAA,IACb4B,MAAO1C,EACP+B,SA3Ge,SAACxB,GACtBJ,EAAc,IACdF,EAAYM,EAAME,OAAOiC,MAC3B,EAyGQxC,WAAYA,EACZhG,GAAI,CAAEsB,GAAI,KAEZ,gBAACmH,EAAA,EAAa,CACZpH,QAAQ,YACR6E,QAASA,EACTnE,QAAS4E,GAERxD,EAAMyD,EAAAA,GAAAA,MAKhB,wIC3MY8B,GAAO,CAClB,CACExH,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,EAAG,GACHC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,EAAG,GACHC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,EAAG,GACHC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,EAAG,GACHC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,EAAG,GACHC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,EAAG,GACHC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,EAAG,GACHC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAMV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,EAAG,GACHC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,EAAG,GACHC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,GACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,EAAG,GACHC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,GACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,GACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,GACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,GACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,GACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,WAAY,IACZ5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,GACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,WAAY,IACZ5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,EACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,YACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,GAEV,CACEgB,KAAM,cACNyH,QAAS,GACTC,GAAI,GACJC,UAAW,IACX5I,MAAO,EACPC,OAAQ,2SC1cZ,0vRAkDA,IAAMa,GAAO,SAACG,GAAY,gBAAgB4H,GAAAA,GAAM,kBAAU5H,EAAI,EAIxD6H,GAAO,CAAC,aAAc,aAAc,WACpCC,GAAwC,CAC5C,aAAc,CACZC,KAAM,WACNC,QAAS,eAEX,aAAc,CACZD,KAAM,kBACNC,QAAS,sBAEX,UAAW,CACTD,KAAM,WACNC,QAAS,gBAUb,oBACE,IAAIC,EAEEC,EAAU,GAAH,OAAOL,GAASA,GAASA,GAASA,GAASA,IAElDM,GAAWC,EAAAA,GAAAA,IACf,CACEvI,GAAK,WACLA,GAAK,iBACLA,GAAK,cACLA,GAAK,cACLA,GAAK,WACLA,GAAK,YACLA,GAAK,eACLA,GAAK,mBACLA,GAAK,uBAEP,UAGM8B,GAAoBC,EAAAA,EAAAA,MAApBD,gBAER,GAA6B9E,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAM0H,IAAI,IAAzDI,EAAQ,EAARA,SAAUyD,EAAM,EAANA,OAClB,GAAoCxL,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMwL,IAAI,IAAhEC,EAAM,EAANA,OAAQD,EAAI,EAAJA,KAAME,EAAS,EAATA,UACd5F,GAAmB/F,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMgF,MAAM,IAAzDc,eAEFjF,GAAWC,EAAAA,EAAAA,MAEqD,MAAtC6G,EAAAA,EAAAA,UAAmC,CAAC,GAAE,GAA/DnF,EAAQ,KAAEmJ,EAAW,KACuC,MAArChE,EAAAA,EAAAA,UAAkC,CAAC,GAAE,GAA5DuD,EAAO,KAAEU,EAAU,KACyC,MAArCjE,EAAAA,EAAAA,UAAkC,CAAC,GAAE,GAA5DkE,EAAO,KAAEC,EAAU,KAKzB,MAFiCnE,EAAAA,EAAAA,UAChC,IAAIoE,MAAMrB,GAAKsB,QAAQC,MAAK,IAC7B,GAFMC,EAAS,KAAEC,EAAY,KAGxBC,EAAiBF,EAAUG,MAAK,SAACC,GAAI,OAAKA,CAAI,IAC9CC,EAAOH,EAAiB,GAAK,EAE7BI,EAAOJ,EAAiB,IAAM,IAC9BK,GAAUC,EAAAA,GAAAA,IAAU,CAAEC,GAAIJ,EAAMK,OAAQ,IACxCC,GAAUH,EAAAA,GAAAA,IAAU,CAAEC,GAHE,IAGQC,OAAQ,IACxCE,GAAUJ,EAAAA,GAAAA,IAAU,CAAEC,GAAIH,EAAMI,OAAQ,IACxCG,EAAkB,SAACnG,EAAe7B,GACtC,IAxHJ,EAwHUiI,EAxHV,gDAwH2Bd,IAxH3B,sSAyHIc,EAAWC,OAAOrG,EAAO,EAAG7B,GAC5BoH,EAAaa,EACf,EAIME,GAAaC,EAAAA,GAAAA,MACbC,EAAMF,EAAWjL,MAAQiL,EAAWhL,OAAS,IAAM,GAEnDmL,GAAWrM,EAAAA,EAAAA,QAAkB,MAC7BsM,GAAYtM,EAAAA,EAAAA,QAA8B,MAC1CuM,GAAUvM,EAAAA,EAAAA,QAAqB,MAC/BwM,GAAiBxM,EAAAA,EAAAA,QAAyC,CAAC,GAC3DyM,GAAgBzM,EAAAA,EAAAA,QAA4C,CAAC,GAC7D0M,GAAiB1M,EAAAA,EAAAA,QAAgD,CAAC,GAoBlE2M,EAAU,SAACtF,GACf,MAAuBuF,KAAKC,MAAMxF,EAAMyF,MAAhClE,EAAI,EAAJA,KAAMkE,EAAI,EAAJA,KACd,GAAa,aAATlE,EAAqB,OACfmE,EAAiBD,EAAjBC,EAAGC,EAAcF,EAAdE,EAAGpD,EAAWkD,EAAXlD,EAAG5D,EAAQ8G,EAAR9G,IACU,QAA3B,EAAAwG,EAAelM,QAAQ0F,UAAI,OAA3B,EAA6BiH,OAAO,CAAEF,EAAAA,EAAGC,EAAAA,EAAGpD,EAAAA,IAC5C,IAAMsD,EAAa,GAAH,GAAQ1L,GACxB0L,EAAWlH,GAAO,CAAE+G,EAAAA,EAAGC,EAAAA,EAAGpD,EAAAA,GAC1Be,EAAYuC,GACZ,IAAMC,EAAW,GAAH,GAAQjD,GACtBiD,EAASnH,IAAO,EAChB4E,EAAWuC,EACb,MAAO,GAAa,SAATvE,EAAiB,CAC1B,IAAQ5C,EAAyB8G,EAAzB9G,IAAKoH,EAAoBN,EAApBM,MAAO5L,EAAasL,EAAbtL,SACpB3B,GAASwN,EAAAA,GAAAA,IAAS,CAACrH,EAAKoH,EAAO5L,IACjC,CACF,EAmMA,OAjMAnB,EAAAA,EAAAA,YAAU,WACHmK,IAELd,GAAK4D,QAAO,+BAAC,WAAOC,EAAK3H,GAAK,gFACD,OAArB4H,EAAMhD,EAAK+C,IAAI3H,GAAM,UACG6H,EAAAA,EAAAA,IAASD,GAAI,0BAApCvM,EAAK,KAAEC,EAAM,KACpBqM,EAAI5D,QAAU6D,EACdD,EAAItM,MAAQA,EACZsM,EAAIrM,OAASA,EAAM,4CACpB,qDANW,IASZwJ,EAAU4C,QAAO,+BAAC,WAAOI,GAAI,wFAIR,OAHbC,EAAQ,CAAEC,OAAO,EAAOC,OAAO,GAC/BnO,GAAS,EACToO,EAAOJ,EAAKK,GACZnF,EAAO,OAAM,UAE4BoF,EAAAA,GAAAA,IAAM,CAAEL,MAAAA,EAAOjO,OAAAA,IAAS,gBAA/DN,EAAE,EAAFA,GAAIO,EAAW,EAAXA,YAAaF,EAAW,EAAXA,YACnBwO,EAAc,GAAH,MACZP,GAAI,IACPQ,SAAU,SACV9O,GAAAA,EACAO,YAAAA,EACAF,YAAaA,EACb0O,aAAc,IAAIC,aAClB7O,YAAQ8O,EACRjO,WAAW,IAEbP,GAASyO,EAAAA,GAAAA,IAAQL,IAEjB7O,EAAGmP,eAAiB,SAAClH,GACfA,EAAMzH,YACR2K,SAAAA,EAAQiE,KAAK,YAAa,CACxB5F,KAAAA,EACAhJ,UAAWyH,EAAMzH,UACjBkO,KAAAA,IAEN,EAEAvD,SAAAA,EAAQiE,KAAK,QAAS,CACpBR,MAAO5O,EAAGqP,iBACVX,KAAAA,EACAlF,KAAAA,EACA+E,MAAAA,EACAjO,OAAAA,EACAgO,KAAM,CACJxL,KAAM4E,EACNiH,GAAIjJ,KAEN,4CACH,mDAvCgB,IAwCnB,GAAG,KAEHzE,EAAAA,EAAAA,YAAU,WAERqO,GAAAA,GAAAA,WAAsB,SAACC,EAAGC,GACxB,IAAMC,EAAQxC,EAAS/L,QAEvB,GAAKuO,EAAL,CAEID,EAAKE,IAAI,KACXD,EAAME,eAAgB,IACbH,EAAKE,IAAI,KAClBD,EAAME,cANM,IAOHH,EAAKE,IAAI,KAClBD,EAAMG,YARM,IASHJ,EAAKE,IAAI,KAClBD,EAAMG,aAAc,KAEpBH,EAAME,cAAgB,EACtBF,EAAMG,YAAc,GAGtB,IAEMlC,EAAO,CACXlE,KAAM,WACNkE,KAAM,CAAEC,EAJU8B,EAAZ9B,EAIKC,EAJO6B,EAAT7B,EAIKpD,EAJIiF,EAANjF,EAIK5D,IAAKlB,IAElB0E,EAAQoD,KAAKqC,UAAUnC,GAC7BoC,OAAON,KAAKnE,GAAQ6C,SAAQ,SAACtH,GAC3B,IAAM0H,EAAOjD,EAAOzE,GACpBmJ,GAAQC,IAAI,QAAD,OAAS1B,aAAI,EAAJA,EAAMxL,KAAI,iBAAS4K,EAAKlE,OAC5C,IAAI,MACE8E,GAAQA,EAAKtN,YAA2B,QAAhB,EAAAsN,EAAK/N,mBAAW,OAAhB,EAAkB0P,KAAK7F,GAGrD,CAFE,MAAOF,GAET,CACF,GA9BkB,CA+BpB,EAEa4F,OAAON,KAAKnE,GACpB6C,SAAQ,SAACtH,GAAQ,MACd0H,EAAOjD,EAAOzE,GACpB,GAAK0H,EAAKtO,GAAV,CASgE,MARhEsO,EAAKtO,GAAGkQ,cAAgB,SAACjI,GACvB,IAAM1H,EAAc0H,EAAMkI,QACrB7B,EAAK/N,aAAaE,GAAS2P,EAAAA,GAAAA,IAAiB,CAAExJ,IAAAA,EAAKrG,YAAAA,IAC1D,EAEI+N,EAAK/N,cACP+N,EAAK/N,YAAY8P,UAAY9C,GAEE,eAAtB,QAAP,EAAAe,EAAKtO,UAAE,aAAP,EAASqB,kBAAmCiN,EAAK9N,YAC5C,QAAP,EAAA8N,EAAKtO,UAAE,OAAP,EAASsQ,gBAAgB,IAAIC,gBAAgBjC,EAAK9N,aAGpD,IAAMsN,EAAa,GAAH,GAAQ1L,GACxB0L,EAAWlH,GAAO,CAAE+G,EAAG,EAAGC,EAAG,EAAGpD,EAAG,GACnCe,EAAYuC,GACZ,IAAMC,EAAW,GAAH,GAAQjD,GACtBiD,EAASnH,IAAO,EAChB4E,EAAWuC,GACX,IAAMyC,EAAW,GAAH,GAAQ/E,GAKtB,GAJA+E,EAAS5J,IAAO,EAChB8E,EAAW8E,GAGPlD,EAAepM,QAAQ0F,IAAQ0H,EAAKnO,OAAQ,CAC9C,IAAQA,EAAyBmO,EAAzBnO,OAAQ4O,EAAiBT,EAAjBS,aAChBzB,EAAepM,QAAQ0F,GAAMzF,UAAYhB,EAGzC,IAAMsQ,EAAoB1B,EAAa2B,wBAAwBvQ,GACzDwQ,EAAkB5B,EAAa6B,sBAAsB,KAAM,EAAG,GACpEH,EAAkBI,QAAQF,GAC1BA,EAAgBE,QAAQ9B,EAAa+B,aACrCH,EAAgBI,eAAiB,SAACC,GAChC,IAAMC,EAASD,EAAEE,YAAYC,eAAe,GAGtCC,EAASC,KAAKC,IAAIC,MAAMF,KAAMJ,GAE9BT,EAAW,GAAH,GAAQ/E,GACtB+E,EAAS5J,GAAOyK,KAAKG,KAAc,IAATJ,GAAgB,GAC1C1F,EAAW,GAAD,GAAM8E,GAClB,CACF,CA3CoB,CA4CtB,GAEF,GAAG,CAACnF,KAGJoG,EAAAA,GAAAA,KACE,WACE3B,OAAON,KAAK1E,GAASoD,SAAQ,SAACtH,GAC5B,GAAKkE,EAAQlE,GAAb,CACA,IAAM6I,EAAQrC,EAAelM,QAAQ0F,GACrC6I,SAAAA,EAAOiC,aAAa,IAFK,CAG3B,GACF,GACA5B,OAAO6B,OAAO7G,GAASmB,MAAK,SAAC2F,GAAI,OAAKA,CAAI,MAE5CH,EAAAA,GAAAA,KACE,WACE,IAAMI,EAAU,GAAH,GAAQxG,GACrByE,OAAON,KAAKqC,GAAS3D,SAAQ,SAACtH,GAAQ,MAC9B0H,EAAOjD,EAAOzE,GACpB,GAAiC,eAAtB,QAAP,EAAA0H,EAAKtO,UAAE,aAAP,EAASqB,mBAAoCiN,EAAKtN,UAAW,OAC/DP,GAASqR,EAAAA,GAAAA,IAAalL,IACtB,IAAM8G,EAAO,CACXlE,KAAM,OACNkE,KAAM,CACJ9G,IAAKlB,EACLsI,MAAOhD,EAAQM,EAAUM,QACzBxJ,SAAU,CACRuL,EAAGV,EAAS/L,QAAU+L,EAAS/L,QAAQyM,EAhSzC,IAiSEC,EAAGX,EAAS/L,QAAU+L,EAAS/L,QAAQ0M,EAAI,IAhS7C,IAiSEpD,EAAGyC,EAAS/L,QAAU+L,EAAS/L,QAAQsJ,EAlSzC,OAsSY,QAAhB,EAAA8D,EAAK/N,mBAAW,OAAhB,EAAkB0P,KAAKzC,KAAKqC,UAAUnC,IAChB,UAAlBY,EAAKQ,UACPrK,EAAgB,WAAD,OAAY6J,EAAKxL,MAAQ,CACtCG,QAAS,WAGf,CACF,GACF,GACA6M,OAAO6B,OAAOtG,GAAQY,MAAK,SAAC8F,GAAK,OAAMA,EAAM/Q,SAAS,MAGxDyQ,EAAAA,GAAAA,KAAQ,WACDvE,EAAUhM,SAAYiM,EAAQjM,UACnCiM,EAAQjM,QAAQ2M,OAAOX,EAAUhM,SACjC4O,OAAO6B,OAAOtE,EAAcnM,SAASgN,SAAQ,SAAC8D,GAAU,OACtDA,aAAU,EAAVA,EAAYnE,OAAOX,EAAUhM,QAAS,IAE1C,IAAG,GAGD,gCACG+J,EAAW,IACV,uBAAK5I,UAAU,gBAAc,WAAUgP,KAAKY,MAAMhH,GAAS,KAE3D,gBAAC,MAAK,CACJiH,aAAcvP,GAAK,WACnBwP,OAAQxP,GAAK,WACbyP,OAAK,EAELC,YAAa,EACbC,eAAgB,GAEhBC,aAAa,OACbC,mBAAmB,QACnBC,aAAc,KAId,gBAAC,MAAK,CACJC,iBAAkB,IAClBC,gBAAiB,IACjBjQ,IAAKC,GAAK,iBACViQ,MAAO,GACPC,QAAQ,OAIPvI,GAAK/D,KAAI,SAAC4H,EAAK3H,GAAK,OACnB,gBAAC,MAAI,CACHI,IAAKJ,EACL1D,KAAMqL,EAAIrL,KACVgQ,QAAShH,EAAUtF,GACnBuM,YAAa,kBAAMpG,EAAgBnG,GAAO,EAAK,EAC/CwM,WAAY,kBAAMrG,EAAgBnG,GAAO,EAAM,GAE/C,gBAAC,MAAK,CACJ+D,QAAS4D,EAAI5D,QACbC,EAAG2D,EAAI3D,EACPyI,UAAW,IACXxI,UAAW0D,EAAI1D,YAEhBqB,EAAUtF,IACT,gBAAC,MAAI,KACH,uBAAKnE,UAAU,eACZ8L,EAAItM,MAAQsM,EAAIrM,OACf,uBAAKY,IAAKyL,EAAI5D,QAAS1I,MAAOsM,EAAItM,QAElC,uBAAKa,IAAKyL,EAAI5D,QAASzI,OAAQqM,EAAIrM,WAKtC,KAIX,gBAAC,MAAiB,CAChBvC,IAAK2N,EACLgG,cAAY,EACZC,QAAM,EACNC,OAAQ3G,EACR4G,OAAQ3G,EACR4G,OAAQjH,EACRW,IAAKA,EACLuG,mBAAmB,gBAEnB,gBAAC,MAAK,CACJhU,IAAK0N,EACL4F,QAAQ,YACRlF,EAhYA,IAiYAC,GAhYA,IAiYApD,EAhYA,IAiYA3I,MAAO,GACPC,OAAQ,GACR8Q,MAAO,EACP/E,OAAQ,CAAC,IAAM,EAAG,GAClB8E,gBAAiB,EACjBD,gBAAiB,GAEjBhQ,IAAKC,GAAKqI,EAAQM,EAAUM,SAC5B4H,WAAY,CACV3I,KAAMlI,GAAKiI,GAASI,EAAQM,EAAUM,SAASf,MAC/C4I,QAAS9Q,GAAKiI,GAASI,EAAQM,EAAUM,SAASd,UAEpD4I,YAAU,GAEV,gBAAC,MAAQ,CAACnU,IAAK4N,EAASS,EAAG,GAAIgF,MAAO,IACpC,qBAAGpQ,MAAO,CAAEW,SAAU,SAAWuE,MAKtCoI,OAAON,KAAKnE,GAAQ9E,KAAI,SAACK,GACxB,IACkC,MAD5B0H,EAAOjD,EAAOzE,GACpB,OAAI0H,EAAKtN,WAAasN,EAAKN,MAEvB,gBAAC,MAAK,CACJpH,IAAKA,EACLrH,IAAK,SAACoU,GAAE,OAAMvG,EAAelM,QAAQ0F,GAAO+M,CAAE,EAC9Cd,QAAQ,YACRlF,EAAgB,QAAf,EAAEW,EAAKlM,gBAAQ,aAAb,EAAeuL,EAClBC,EAAgB,QAAf,EAAEU,EAAKlM,gBAAQ,aAAb,EAAewL,EAClBpD,EAAgB,QAAf,EAAE8D,EAAKlM,gBAAQ,aAAb,EAAeoI,EAClB3I,MAAO,GACPC,OAAQ,GACR8Q,MAAO,EACPD,gBAAiB,EACjBD,gBAAiB,GACjBkB,UAAW9I,EAAQlE,GAAO,UAAY,OACtC8M,YAAU,EACVG,aAAc,CAAC,UAAD,OAAWjN,IACzBkN,YAAa,kBAnVL,SAAClN,GACvBmN,YAAW,WACT,MAAoB3R,EAASwE,GAArB+G,EAAC,EAADA,EAAGC,EAAC,EAADA,EAAGpD,EAAC,EAADA,EACd4C,EAAelM,QAAQ0F,GAAM+G,EAAIA,EACjCP,EAAelM,QAAQ0F,GAAMgH,EAAIA,EACjCR,EAAelM,QAAQ0F,GAAM4D,EAAIA,CACnC,GAAG,KACHwJ,aAAajJ,GACbA,EAAQgJ,YAAW,WACjBhJ,OAAQkE,EACR,IAAMlB,EAAW,GAAH,GAAQjD,GACtBiD,EAASnH,IAAO,EAChB4E,EAAWuC,EACb,GAAG,IACL,CAqUmCkG,CAAgBrN,EAAI,EACvClE,IAAKC,GAAK2L,EAAKN,OACfwF,WAAY,CACV3I,KAAMlI,GAAKiI,GAAS0D,EAAKN,OAAOnD,MAChCC,QAASnI,GAAKiI,GAAS0D,EAAKN,OAAOlD,WAGrC,gBAAC,MAAI,KACFW,EAAQ7E,IAAQ,gBAACsN,GAAA,EAAQ,CAAC7R,UAAU,gBACrC,yBACEG,MAAO,CACLJ,SAAU,WACV8G,KAAM,UACNiL,WAAY,UAEd5U,IAAK,SAACoU,GAAE,OAAMrG,EAAepM,QAAQ0F,GAAO+M,CAAE,EAC9CrR,UAAQ,KAGZ,2BACE,gBAAC,MAAQ,CACP/C,IAAK,SAACoU,GAAE,OAAMtG,EAAcnM,QAAQ0F,GAAO+M,CAAE,EAC7C/F,EAAG,GACHgF,MAAO,IAEP,qBAAGpQ,MAAO,CAAEW,SAAU,SAAWmL,EAAKxL,SAMvC,gBAAC,MAAI,CAAC8D,IAAK0H,EAAKK,GAAK,QAASyF,SAAS,GAElD,IAECtE,OAAON,KAAKnE,GAAQ9E,KAAI,SAACK,GACxB,IACM5F,EADOqK,EAAOzE,GACG5F,UACvB,OACE,gBAAC,MAAI,CACH4F,IAAKA,EACL+H,GAAE,iBAAY/H,GACdwN,SAAS,EACTxB,MAAO,GACPjF,EAAG3M,EAAYoB,EAASwE,GAAK+G,EAAI,EACjCC,EAAG5M,EAAYoB,EAASwE,GAAKgH,EAAI,EACjCpD,EAAGxJ,EAAYoB,EAASwE,GAAK4D,EAAI,GAGvC,IAEA,gBAAC,MAAO,OAKjB,EChgBD,IAAMxG,IAAkBpF,EAAAA,EAAAA,IAAO0C,EAAAA,EAAP1C,EAAe,iBAAO,CAC5C,mBAAoB,CAClByI,gBAAiB,QAEpB,IAED,kBAAe,GAA+C,IAA5C9F,EAAI,EAAJA,KAAM8S,EAAO,EAAPA,QACdC,GAAa3U,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMC,MAAM,IAAnDyU,SACAlJ,GAASzL,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMwL,IAAI,IAA7CA,KACAD,GAAWxL,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAM0H,IAAI,IAA/C6D,OACF1K,GAAWC,EAAAA,EAAAA,MAEX6T,GAAQvP,EAAAA,EAAAA,KAad,OACE,gBAAC,GAAe,CAACa,QAAS,kBAAMwO,GAAQ,EAAM,EAAE9S,KAAMA,GACpD,gBAACuE,EAAA,EAAW,KAAEyO,EAAMC,EAAAA,GAAAA,IACpB,gBAAC9S,EAAA,EAAa,KACZ,gBAACiI,EAAA,EAAM,CACL1G,QAAQ,WACRS,KAAK,QACL9B,GAAI,CAAEC,MAAO,KACb8B,QAnBY,WACd2Q,GACFnJ,SAAAA,EAAQiE,KAAK,OAAQ,CAAEhE,KAAMA,aAAI,EAAJA,EAAMuD,KACnClO,GAASgU,EAAAA,GAAAA,QAEThU,GAASqD,EAAAA,EAAAA,OAGXuQ,GAAQ,EACV,GAYSE,EAAMC,EAAAA,GAAAA,KAKhB,oWCjDD,IAAMpV,GAAaC,EAAAA,YAAiB,SAClCC,EAGAC,GAEA,OAAO,gBAACC,EAAA,EAAK,IAACC,UAAU,OAAOF,IAAKA,GAASD,GAC/C,IAEM0E,IAAkBpF,EAAAA,EAAAA,IAAO0C,EAAAA,EAAP1C,EAAe,iBAAO,CAC5C,mBAAoB,CAClByI,gBAAiB,QAEpB,IAED,oBACE,QAAQqN,GAAa/U,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMC,MAAM,IAAnD6U,SAE+B,MAAfnN,EAAAA,EAAAA,WAAS,KAAM,s5BAAhChG,EAAI,KAAE8S,EAAO,KAEpB,OACE,gCACE,gBAAC,GAAe,CAACvL,YAAU,EAACvH,KAAMmT,EAAUlT,oBAAqBpC,IAC/D,gBAACsC,EAAA,EAAa,CAACE,GAAI,CAAEQ,SAAU,aAC7B,gBAACuS,GAAO,MACR,gBAAClR,EAAA,EAAU,CACT7B,GAAI,CACFQ,SAAU,WACV4D,MAAO,GACPC,IAAK,IAEPtC,QAAS,kBAAM0Q,GAAQ,EAAK,GAE5B,gBAACO,GAAA,EAAa,CAAChT,GAAI,CAAE7C,MAAO,aAIlC,gBAAC8V,GAAI,CAACtT,KAAMA,EAAM8S,QAASA,IAGhC,wTCpDD,+kPAmBA,kBAAe,GAAqD,IAAlD9S,EAAI,EAAJA,KAAM8S,EAAO,EAAPA,QACc,MAAZ9M,EAAAA,EAAAA,UAAS,IAAG,GAA7BzE,EAAI,KAAEgS,EAAO,KACuD,MAAnDvN,EAAAA,EAAAA,UAAmB,IAAIoE,MAAMrB,GAAKsB,QAAQC,KAAK,KAAI,GAApEkJ,EAAI,KAAEC,EAAO,KAQd/P,EAAc,WAClBoP,GAAQ,EACV,EAEM9L,EAAY,eAjCpB,EAiCoB,GAjCpB,EAiCoB,WAAG,kFACdzF,EAAM,CAAF,gEACS2F,EAAAA,EAAAA,YAAoB3F,EAAMiS,GAAK,OAArC,EAAH,MACA9P,IAAa,0CApC1B,iLAqCG,kBAJiB,mCAMlB,OACE,gBAAC3D,EAAA,EAAM,CAAC2T,WAAS,EAAC1T,KAAMA,EAAMsE,QAASZ,GACrC,gBAACa,EAAA,EAAW,oBACZ,gBAACpE,EAAA,EAAa,KACZ,gBAAC7C,GAAA,EAAS,CACRqW,OAAO,QACPvG,GAAG,OACHxE,MAAM,YACN8K,WAAS,EACThS,QAAQ,WACRwG,SAAU,SAACuH,GAAC,OAAK8D,EAAQ9D,EAAE7I,OAAOiC,MAAM,IAEzC2K,EAAKxO,KAAI,SAACgJ,EAAG/I,GAAK,OACjB,gBAAC3H,GAAA,EAAS,CACR+H,IAAKJ,EACL0O,OAAO,QACPvG,GAAG,OACHxE,MAAK,WAAM3D,EAAQ,EAAC,QACpByO,WAAS,EACThS,QAAQ,WACRwG,SAAU,SAACuH,GAAC,OApCJ,SAACxK,EAAe4D,GAChC,IAxBJ,EAwBU+K,EAxBV,gDAwBsBJ,IAxBtB,sSAyBII,EAAMtI,OAAOrG,EAAO,EAAG4D,GACvB4K,EAAQG,EACV,CAgC2BC,CAAU5O,EAAOwK,EAAE7I,OAAOiC,MAAM,GACjD,KAGN,gBAAC9G,EAAA,EAAa,KACZ,gBAACqG,EAAA,EAAM,CAAChG,QAASsB,GAAY,UAC7B,gBAAC0E,EAAA,EAAM,CAAChG,QAAS4E,GAAa,WAIrC,sTCrED,g8NAsBA,kBAAe,GAAqD,IAtBpE,IAsBkBhH,EAAI,EAAJA,KAAM8S,EAAO,EAAPA,QACdgB,GAAY1V,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMyV,OAAO,IAAnDA,QACsC,GAxBhD,GAwB0B9N,EAAAA,EAAAA,UAAmB,IAxB7C,EAwBgD,EAxBhD,wnBAwBSwN,EAAI,KAAEC,EAAO,KAEdM,EAAe,SAACrN,GACpB,IAAMkN,EA3BV,2WA2BkB,CAAIJ,GACZjS,EAAOmF,EAAME,OAAOrF,KAC1B,GAAImF,EAAME,OAAOoN,QACfJ,EAAMK,KAAK1S,OACN,CACL,IAAM0D,EAAQ2O,EAAMM,WAAU,SAACtH,GAAG,OAAKA,IAAQrL,CAAI,IACnDqS,EAAMtI,OAAOrG,EAAO,EACtB,CACAwO,EAAQG,EACV,EAEMlQ,EAAc,WAClBoP,GAAQ,EACV,EAEMqB,EAAU,eA1ClB,EA0CkB,GA1ClB,EA0CkB,WAAG,+FACCC,EAAAA,EAAAA,SAAgBZ,GAAK,OAA3B,EAAH,MACA9P,IAAa,0CA5C1B,iLA6CG,kBAHe,mCAKhB,OACE,gBAAC3D,EAAA,EAAM,CAACC,KAAMA,EAAMsE,QAASZ,GAC3B,gBAACa,EAAA,EAAW,iBACZ,gBAACpE,EAAA,EAAa,KACZ,gBAACkU,GAAA,EAAW,CAAChU,GAAI,CAAEiU,EAAG,GAAKxM,UAAU,WAAWpG,QAAQ,YACtD,gBAAC6S,GAAA,EAAS,KACPT,EAAQ9O,KAAI,SAACxG,GAAM,OAClB,gBAACgW,GAAA,EAAgB,CACfnP,IAAK7G,EAAOiW,WACZC,QACE,gBAACC,GAAA,EACC,CACAzM,SAAU6L,EACVxS,KAAM/C,EAAOiW,aAGjB7L,MAAOpK,EAAO+C,MACd,OAKV,gBAACQ,EAAA,EAAa,KACZ,gBAACqG,EAAA,EAAM,CAAChG,QAASsB,GAAY,UAC7B,gBAAC0E,EAAA,EAAM,CAAChG,QAAS+R,GAAW,SAInC,yQC3ED,u/PAgCA,IAAMtW,GAAaC,EAAAA,YAAiB,SAClCC,EAGAC,GAEA,OAAO,gBAACC,EAAA,EAAK,IAACC,UAAU,OAAOF,IAAKA,GAASD,GAC/C,IAEA,oBACE,IAAMR,GAAQwF,EAAAA,EAAAA,GAAY,CACxBrF,QAAS,CACPC,QAAS,CACPC,KAAM,cAKJmV,GAAa3U,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMC,MAAM,IAAnDyU,SACA5O,GAAmB/F,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMgF,MAAM,IAAzDc,eACA0F,GAASzL,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMwL,IAAI,IAA7CA,KACR,GAA6BzL,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAM0H,IAAI,IAAzD6D,EAAM,EAANA,OAAQzD,EAAQ,EAARA,SAEVjH,GAAWC,EAAAA,EAAAA,MAEsB,MAAf6G,EAAAA,EAAAA,WAAS,GAAM,GAAhChG,EAAI,KAAE8S,EAAO,KACyB,MAAf9M,EAAAA,EAAAA,WAAS,GAAM,GAAtC4O,EAAO,KAAEC,EAAU,KAC0B,MAApB7O,EAAAA,EAAAA,UAAiB,IAAG,GAA7C8O,EAAQ,KAAEC,EAAW,KAEtBC,EAAO,+BAAG,qGACM9N,EAAAA,EAAAA,gBAAuB,OAArC+N,EAAQ,EAAH,KACXF,EAAYE,EAAMjQ,KAAI,SAAC2F,GAAI,OAAKA,EAAK,EAAE,KAAE,2CAC1C,kBAHY,mCAKPuK,EAAgB,+BAAG,WAAO9H,GAAU,kFACtBlG,EAAAA,EAAAA,aAAqBkG,GAAG,OAA9B,EAAH,MACA4H,IAAS,2CACnB,gBAHqB,sCAKhBG,EAAU,+BAAG,WAAOtL,GAAU,kEAClCD,SAAAA,EAAQiE,KAAK,OAAQ,CACnBhE,KAAMA,EAAKuD,GACXL,KAAM,CACJxL,KAAM4E,EACNiH,GAAIjJ,KAGRyF,SAAAA,EAAQwL,GAAG,QAAQ,YAAa,IAAXC,EAAK,EAALA,MACdA,IACLnW,GAASoW,EAAAA,GAAAA,IAAWzL,IACpB3K,GAASqW,EAAAA,GAAAA,IAAaF,IACxB,IAAE,2CACH,gBAbe,sCA2BhB,OAZA3V,EAAAA,EAAAA,YAAU,YACHM,GAAQ+S,GAAUiC,GACzB,GAAG,CAAChV,KAEJN,EAAAA,EAAAA,YAAU,WACJqT,GAAUiC,GAChB,GAAG,CAACjC,KAEJrT,EAAAA,EAAAA,YAAU,WACJmK,GAAM3K,GAASW,EAAAA,EAAAA,KAAQ,GAC7B,GAAG,CAACgK,IAGF,gBAACnE,EAAA,EAAa,CAACnI,MAAOA,GACpB,gBAACwC,EAAA,EAAM,CAACwH,YAAU,EAACvH,KAAM+S,EAAU9S,oBAAqBpC,IACtD,gBAAC2J,EAAA,EAAM,CACLnH,GAAI,CAAEG,QAAS,OAAQG,WAAY,MAAOE,SAAU,aAEpD,gBAAC4G,EAAA,EAAO,KACN,gBAACvF,EAAA,EAAU,CACTwF,KAAK,QACLlK,MAAM,UACN4E,QAAS,kBAAMlD,GAASsW,EAAAA,EAAAA,KAAQ,GAAO,EACvC,aAAW,SAEX,gBAAC,IAAK,SAIZ,gBAACrV,EAAA,EAAa,CACZE,GAAI,CACFQ,SAAU,WACViF,gBAAiB,UACjBtF,QAAS,OACTiV,SAAU,SAGXX,EAAS9P,KAAI,SAAC6E,GAAI,OACjB,gBAAC6L,GAAA,EAAI,CAACrQ,IAAKwE,EAAKuD,GAAI/M,GAAI,CAAEC,MAAO,IAAKC,OAAQ,IAAKoV,GAAI,EAAGhU,GAAI,IAC5D,gBAACiU,GAAA,EAAW,KACV,gBAACtU,EAAA,EAAU,CAACI,QAAQ,KAAKoG,UAAU,OAChC+B,EAAKtI,OAGV,gBAACsU,GAAA,EAAW,KACV,gBAACzN,EAAA,EAAM,CAACjG,KAAK,QAAQC,QAAS,kBAAM+S,EAAWtL,EAAK,GAAC,WAGpD1F,IAAmB0F,EAAKiM,OACvB,gCACE,gBAAC1N,EAAA,EAAM,CACL5K,MAAM,QACN2E,KAAK,QACLC,QAAS,kBAAM8S,EAAiBrL,EAAKuD,GAAG,GAAC,eAI3C,gBAAChF,EAAA,EAAM,CACLjG,KAAK,QACLC,QAAS,kBAAMyS,GAAW,EAAK,GAAC,cAOnC,IAET,gBAACkB,GAAA,EAAG,CACF1V,GAAI,CACFQ,SAAU,WACVmV,OAAQ,GACRvR,MAAO,IAETrC,QAAS,kBAAM0Q,GAAQ,EAAK,GAE5B,gBAACmD,GAAA,EAAG,SAIV,gBAACC,GAAU,CAAClW,KAAMA,EAAM8S,QAASA,IACjC,gBAACqD,GAAO,CAACnW,KAAM4U,EAAS9B,QAAS+B,IAGtC,yPC1KD,s4NAyBA,IAAMhX,GAAaC,EAAAA,YAAiB,SAClCC,EAGAC,GAEA,OAAO,gBAACC,EAAA,EAAK,IAACC,UAAU,OAAOF,IAAKA,GAASD,GAC/C,IAEA,oBACE,IAnCF,IAmCQR,GAAQwF,EAAAA,EAAAA,GAAY,CACxBrF,QAAS,CACPC,QAAS,CACPC,KAAM,cAKJwY,GAAYhY,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMC,MAAM,IAAlD8X,QACAjS,GAAmB/F,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMgF,MAAM,IAAzDc,eAEFjF,GAAWC,EAAAA,EAAAA,MAEkC,GAhDrD,GAgDgC6G,EAAAA,EAAAA,UAAkB,IAhDlD,EAgDqD,EAhDrD,o5BAgDSqQ,EAAO,KAAEC,EAAU,KAEpBC,EAAU,eAlDlB,EAkDkB,GAlDlB,EAkDkB,WAAG,qGACMnC,EAAAA,EAAAA,iBAAwBjQ,GAAe,OAAxDqS,EAAW,EAAH,KACdF,EAAWE,GAAS,0CApDxB,iLAqDG,kBAHe,mCAShB,OAJA9W,EAAAA,EAAAA,YAAU,WACJ0W,GAASG,GACf,GAAG,CAACH,IAGF,gBAAC1Q,EAAA,EAAa,CAACnI,MAAOA,GACpB,gBAACwC,EAAA,EAAM,CAACwH,YAAU,EAACvH,KAAMoW,EAASnW,oBAAqBpC,IACrD,gBAAC2J,EAAA,EAAM,CACLnH,GAAI,CAAEG,QAAS,OAAQG,WAAY,MAAOE,SAAU,aAEpD,gBAAC4G,EAAA,EAAO,KACN,gBAACvF,EAAA,EAAU,CACTwF,KAAK,QACLlK,MAAM,UACN4E,QAAS,kBAAMlD,GAASuX,EAAAA,EAAAA,KAAO,GAAO,EACtC,aAAW,SAEX,gBAAC,IAAK,SAIZ,gBAACtW,EAAA,EAAa,CACZE,GAAI,CACFQ,SAAU,WACViF,gBAAiB,UACjBtF,QAAS,OACTiV,SAAU,SAGXY,EAAQrR,KAAI,SAAC4H,GAAG,OACf,gBAAC8I,GAAA,EAAI,CAACrQ,IAAKuH,EAAI8J,SAAUrW,GAAI,CAAEE,OAAQ,IAAKoV,GAAI,EAAGhU,GAAI,IACrD,gBAACiU,GAAA,EAAW,KACV,gBAACtU,EAAA,EAAU,CAACwG,UAAU,KAAK8E,EAAI+J,SAASC,OACxC,uBACEzV,IAAKyL,EAAI+J,SAAS3J,MAClB/L,MAAO,CAAEX,MAAO,QAASC,OAAQ,QAASsW,UAAW,UAGpD,MAMlB,EC3FD,cACE,OACE,gCACE,gBAACC,EAAM,MACP,gBAACC,EAAM,MACP,gBAACC,GAAQ,MACT,gBAACA,GAAQ,MACT,gBAACC,GAAI,MACL,gBAACC,GAAI,MACL,gBAACC,GAAG,MAGT,ueCpBD,ovNACA,IAAIC,OAA0B1J,EAExB2J,EAAU,6BAAG,kFACbD,EAAO,CAAF,wCAASA,GAAK,wBACDE,EAAAA,EAAAA,MAAQ,gCAAtBF,EAAQ,EAAH,iDACd,kBAHe,mCAKHtQ,EAAG,6BAAG,WAAOD,GAAU,yFACfwQ,IAAY,OAArB,OAAJE,EAAO,EAAH,uBAGYA,EAAKzQ,IAAID,GAAK,OAAvB,OAAL2Q,EAAQ,EAAH,uBACJA,EAAMC,IAAIC,YAAU,wCAErBC,MAAM,EAAD,IAAiB,0DAE/B,gBATe,sCA8BHvW,EAAO,SAAC2F,GAAY,qCAAqCA,EAAI","sources":["webpack://sourcedao-pc-dapp/./src/components/Customization/TextField.tsx","webpack://sourcedao-pc-dapp/./src/components/Dialog/Stream/index.tsx","webpack://sourcedao-pc-dapp/./src/components/Dialog/Wallte/index.tsx","webpack://sourcedao-pc-dapp/./src/assets/images/wallte/senderWalletIcon.jpeg","webpack://sourcedao-pc-dapp/./src/components/Dialog/Register/index.tsx","webpack://sourcedao-pc-dapp/./src/constants/exhibition.ts","webpack://sourcedao-pc-dapp/./src/components/Dialog/Meta/Lingo3D/index.tsx","webpack://sourcedao-pc-dapp/./src/components/Dialog/Meta/Menu/index.tsx","webpack://sourcedao-pc-dapp/./src/components/Dialog/Meta/index.tsx","webpack://sourcedao-pc-dapp/./src/components/Dialog/Room/CreateRoom/index.tsx","webpack://sourcedao-pc-dapp/./src/components/Dialog/Room/SendNft/index.tsx","webpack://sourcedao-pc-dapp/./src/components/Dialog/Room/index.tsx","webpack://sourcedao-pc-dapp/./src/components/Dialog/Nft/index.tsx","webpack://sourcedao-pc-dapp/./src/components/Dialog/index.tsx","webpack://sourcedao-pc-dapp/./src/utils/ipfs.ts"],"sourcesContent":["import { TextField } from '@mui/material'\r\n\r\nimport { styled } from '@mui/material/styles'\r\n\r\nexport default styled(TextField)(({ theme }) => ({\r\n  '& .MuiInputBase-input': {\r\n    color: '#fff',\r\n  },\r\n  '& .MuiOutlinedInput-root': {\r\n    '& fieldset': {\r\n      borderColor: theme.palette.primary.main,\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: theme.palette.primary.main,\r\n    },\r\n  },\r\n}))\r\n","import React, { useEffect, useRef } from 'react'\r\n\r\nimport {\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  Box,\r\n  Slide,\r\n  Typography,\r\n  IconButton,\r\n  Skeleton,\r\n  CircularProgress,\r\n} from '@mui/material'\r\n\r\nimport { useAppSelector, useAppDispatch } from '@store/index'\r\nimport { initWebRTCState, creatAnswer } from '@store/modules/webRTC'\r\nimport { setMeta } from '@store/modules/dialog'\r\n\r\nimport { path } from '@utils/ipfs'\r\n\r\nimport type { TransitionProps } from '@mui/material/transitions'\r\nimport type { Friends } from '@store/modules/friends'\r\n\r\nimport './index.less'\r\n\r\nimport { Call, CallEnd } from '@mui/icons-material'\r\n\r\nconst Transition = React.forwardRef(\r\n  (\r\n    props: TransitionProps & {\r\n      children: React.ReactElement\r\n    },\r\n    ref: React.Ref<unknown>\r\n  ) => {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />\r\n  }\r\n)\r\n\r\nexport default (): JSX.Element => {\r\n  const { streamOpen } = useAppSelector((store) => store.dialog)\r\n  const {\r\n    friend,\r\n    pc,\r\n    isOffer,\r\n    isAnswer,\r\n    stream,\r\n    isVideo,\r\n    localStream,\r\n    isMeta,\r\n    dataChannel,\r\n    candidate\r\n  } = useAppSelector((store) => store.webRTC)\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  const audioRef = useRef<HTMLAudioElement>(null)\r\n  const videoRef = useRef<HTMLVideoElement>(null)\r\n  const videoLocalRef = useRef<HTMLVideoElement>(null)\r\n\r\n  const handleAnswer = () => {\r\n    dispatch(creatAnswer())\r\n  }\r\n\r\n  const handleClose = () => {\r\n    dispatch(initWebRTCState())\r\n  }\r\n\r\n  const isUse = isOffer || isAnswer\r\n  const connected = pc && stream && dataChannel && candidate\r\n\r\n  const createAudio = (friend: Friends) => (\r\n    <>\r\n      <img\r\n        style={{ width: '100px', marginBottom: '16px' }}\r\n        src={path(friend.image)}\r\n      />\r\n      <Typography sx={{ color: '#000' }}>{friend.name}</Typography>\r\n      <audio className=\"audio\" ref={audioRef} autoPlay></audio>\r\n    </>\r\n  )\r\n\r\n  const creatVideo = () => (\r\n    <Box sx={{ width: '100%', position: 'relative' }}>\r\n      <video\r\n        className=\"local_video\"\r\n        ref={videoLocalRef}\r\n        autoPlay\r\n        muted={true}\r\n      ></video>\r\n      <video className=\"remote_video\" ref={videoRef} autoPlay></video>\r\n    </Box>\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (!stream) return\r\n    if (!connected) return\r\n    if (isVideo) {\r\n      videoRef.current!.srcObject = stream\r\n      videoLocalRef.current!.srcObject = localStream!\r\n    } else {\r\n      audioRef.current!.srcObject = stream\r\n    }\r\n    if (isMeta) dispatch(setMeta(true))\r\n  }, [stream, pc?.connectionState])\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={streamOpen} TransitionComponent={Transition} keepMounted>\r\n        <DialogContent>\r\n          <Box\r\n            sx={{\r\n              width: 552,\r\n              height: 400,\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              overflow: 'hidden',\r\n            }}\r\n          >\r\n            {friend ? (\r\n              connected ? (\r\n                isVideo ? (\r\n                  creatVideo()\r\n                ) : (\r\n                  createAudio(friend)\r\n                )\r\n              ) : (\r\n                createAudio(friend)\r\n              )\r\n            ) : (\r\n              <>\r\n                <Skeleton\r\n                  variant=\"rectangular\"\r\n                  width={100}\r\n                  height={100}\r\n                  sx={{ mb: 2 }}\r\n                />\r\n                <Skeleton\r\n                  variant=\"text\"\r\n                  sx={{ width: '80px', fontSize: '1.5em' }}\r\n                />\r\n              </>\r\n            )}\r\n            {!connected && <CircularProgress color=\"inherit\" sx={{ mt: 6 }} />}\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions\r\n          sx={{\r\n            pl: 10,\r\n            pr: 10,\r\n            mb: 2,\r\n            display: 'flex',\r\n            justifyContent: isUse ? 'center' : 'space-between',\r\n          }}\r\n        >\r\n          {!isUse && (\r\n            <IconButton size=\"large\" onClick={handleAnswer}>\r\n              <Call color=\"success\" />\r\n            </IconButton>\r\n          )}\r\n          <IconButton size=\"large\" onClick={handleClose}>\r\n            <CallEnd color=\"error\" />\r\n          </IconButton>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Avatar,\r\n  IconButton,\r\n} from '@mui/material'\r\n\r\nimport { styled, ThemeProvider, createTheme } from '@mui/material/styles'\r\n\r\nimport CloseIcon from '@mui/icons-material/Close'\r\n\r\nimport { useSnackbar } from 'notistack'\r\n\r\nimport langHook from '@hooks/localHook'\r\n\r\nimport { walletLang } from '@langs/index'\r\n\r\nimport { useAppSelector, useAppDispatch } from '@store/index'\r\n\r\nimport {\r\n  setDialogOpen,\r\n  connectWallet,\r\n  setConnecting,\r\n  WalletState,\r\n} from '@store/modules/wallet'\r\n\r\nimport { getNearWallet } from '@utils/wallets'\r\n\r\nimport senderWalletIcon from '@images/wallte/senderWalletIcon.jpeg'\r\n\r\ninterface Wallte {\r\n  icon: string\r\n  text: string\r\n}\r\n\r\nconst BootstrapDialog = styled(Dialog)(({ theme }) => ({\r\n  '& .MuiPaper-root': {\r\n    paddingLeft: theme.spacing(4),\r\n    paddingRight: theme.spacing(4),\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n}))\r\n\r\nexport default (): JSX.Element => {\r\n  const theme = createTheme({\r\n    typography: {\r\n      body1: {\r\n        color: '#000',\r\n      },\r\n    },\r\n  })\r\n\r\n  const { enqueueSnackbar } = useSnackbar()\r\n\r\n  const { dialogOpen, connecting } = useAppSelector((state) => state.wallet)\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  const local = langHook()\r\n\r\n  const walltes: Wallte[] = [\r\n    {\r\n      icon: '',\r\n      text: 'Sender',\r\n    },\r\n  ]\r\n\r\n  const handleClose = () => {\r\n    if (connecting) return\r\n    dispatch(setDialogOpen(false))\r\n  }\r\n\r\n  const handleListItemClick = async (wallte: Wallte) => {\r\n    if (connecting) return\r\n\r\n    const { text } = wallte\r\n\r\n    dispatch(setConnecting(true))\r\n\r\n    const isConnected = getNearWallet(text)\r\n\r\n    if (isConnected) {\r\n      const { payload } = await dispatch(connectWallet(text))\r\n\r\n      if ((payload as WalletState).accountAddress)\r\n        enqueueSnackbar(local(walletLang.connected), { variant: 'success' })\r\n    } else {\r\n      window.open('https://senderwallet.io/')\r\n      dispatch(setConnecting(false))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <BootstrapDialog onClose={handleClose} open={dialogOpen}>\r\n      <DialogTitle\r\n        sx={{\r\n          pl: 0,\r\n          pb: 5,\r\n          color: '#000'\r\n        }}\r\n      >\r\n        {local(walletLang.wallet)}\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          onClick={handleClose}\r\n          sx={{\r\n            position: 'absolute',\r\n            right: 8,\r\n            top: 8,\r\n            color: (theme) => theme.palette.grey[500],\r\n          }}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <List sx={{ pt: 0 }}>\r\n        {walltes.map((wallte, index) => (\r\n          <ListItem\r\n            disabled={connecting}\r\n            button\r\n            onClick={() => handleListItemClick(wallte)}\r\n            key={index}\r\n            sx={{\r\n              border: '1px solid rgba(0, 0, 0, 0.12)',\r\n              borderRadius: 4,\r\n              width: 360,\r\n            }}\r\n          >\r\n            <ListItemAvatar>\r\n              <Avatar variant=\"rounded\" src={senderWalletIcon} />\r\n            </ListItemAvatar>\r\n            <ThemeProvider theme={theme}>\r\n              <ListItemText primary={wallte.text} />\r\n              <ListItemText\r\n                primary={local(\r\n                  connecting ? walletLang.connecting : walletLang.connect\r\n                )}\r\n                sx={{\r\n                  flexGrow: 0,\r\n                }}\r\n              />\r\n            </ThemeProvider>\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </BootstrapDialog>\r\n  )\r\n}\r\n","export default \"data:image/jpeg;base64,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\"","import React, { ChangeEvent, forwardRef, useState } from 'react'\r\n\r\nimport {\r\n  AppBar,\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  IconButton,\r\n  Slide,\r\n  Toolbar,\r\n} from '@mui/material'\r\n\r\nimport { styled } from '@mui/material/styles'\r\n\r\nimport LoadingButton from '@mui/lab/LoadingButton'\r\n\r\nimport { TransitionProps } from '@mui/material/transitions'\r\n\r\nimport { useSnackbar } from 'notistack'\r\n\r\nimport { useAppSelector, useAppDispatch } from '@store/index'\r\nimport { setUser, setDialogOpen } from '@store/modules/user'\r\n\r\nimport langHook from '@hooks/localHook'\r\nimport { registerLang } from '@langs/index'\r\n\r\nimport { truncateMiddle } from '@utils/index'\r\nimport { add } from '@utils/ipfs'\r\n\r\nimport { userApi, ContractError } from '@api/index'\r\n\r\nimport { TextField } from '@components/Customization'\r\n\r\nimport { PhotoCamera, ContentCopy, Close } from '@mui/icons-material'\r\n\r\nconst Transition = forwardRef(\r\n  (\r\n    props: TransitionProps & {\r\n      children: React.ReactElement\r\n    },\r\n    ref: React.Ref<unknown>\r\n  ) => {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />\r\n  }\r\n)\r\n\r\nconst BootstrapDialog = styled(Dialog)(() => ({\r\n  '& .MuiPaper-root': {\r\n    backgroundColor: '#000',\r\n  },\r\n}))\r\n\r\nexport default (): JSX.Element => {\r\n  const { enqueueSnackbar } = useSnackbar()\r\n\r\n  const { accountAddress } = useAppSelector((state) => state.wallet)\r\n  const user = useAppSelector((state) => state.user)\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  const local = langHook()\r\n\r\n  const [headerImg, setHeaderImg] = useState(user.headerImg)\r\n  const [nickname, setNickname] = useState(user.nickname)\r\n  const [helperText, setHelperText] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const handleCopy = () => {\r\n    navigator.clipboard.writeText(accountAddress)\r\n    enqueueSnackbar(local(registerLang.copied), {\r\n      variant: 'success',\r\n    })\r\n  }\r\n\r\n  const handleHeaderImg = async (event: ChangeEvent<HTMLInputElement>) => {\r\n    const files = event.target.files\r\n    if (!files) return\r\n    const file = files[0]\r\n    const hash = await add(file)\r\n    setHeaderImg(hash)\r\n  }\r\n\r\n  const handleNickname = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setHelperText('')\r\n    setNickname(event.target.value)\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    if (!nickname) {\r\n      setHelperText(local(registerLang.required))\r\n      return\r\n    }\r\n    setLoading(true)\r\n    try {\r\n      await userApi.register(nickname, headerImg)\r\n      dispatch(setUser({ headerImg, nickname }))\r\n    } catch (error) {\r\n      enqueueSnackbar((error as ContractError).kind.ExecutionError, {\r\n        variant: 'error',\r\n        autoHideDuration: 5000,\r\n      })\r\n    }\r\n    setLoading(false)\r\n  }\r\n  return (\r\n    <BootstrapDialog\r\n      fullScreen\r\n      open={user.dialogOpen}\r\n      TransitionComponent={Transition}\r\n    >\r\n      <AppBar sx={{ display: 'flex', alignItems: 'end' }}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"primary\"\r\n            onClick={() => dispatch(setDialogOpen(false))}\r\n            aria-label=\"close\"\r\n          >\r\n            <Close />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Box\r\n        sx={{\r\n          height: '100%',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          // justifyContent: 'center',\r\n          alignItems: 'center',\r\n          pt: 30,\r\n        }}\r\n      >\r\n        {/* headerImg */}\r\n        <Box\r\n          sx={{\r\n            position: 'relative',\r\n            width: 100,\r\n            height: 100,\r\n            mb: 2,\r\n          }}\r\n        >\r\n          <img\r\n            style={{ width: '100%', height: '100%', borderRadius: '12px' }}\r\n            src={`https://ipfs.io/ipfs/${headerImg}`}\r\n          />\r\n          <Box\r\n            sx={{\r\n              position: 'absolute',\r\n              left: 0,\r\n              top: 0,\r\n              width: '100%',\r\n              height: '100%',\r\n              backgroundColor: 'rgba(255, 255, 255, 0.6)',\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              opacity: 0,\r\n              transition: 'opacity 0.8s',\r\n              borderRadius: '12px',\r\n              '&:hover': {\r\n                opacity: 1,\r\n              },\r\n            }}\r\n          >\r\n            <IconButton color=\"inherit\" size=\"large\" component=\"label\">\r\n              <input\r\n                hidden\r\n                accept=\"image/*\"\r\n                type=\"file\"\r\n                onChange={handleHeaderImg}\r\n              />\r\n              <PhotoCamera />\r\n            </IconButton>\r\n          </Box>\r\n        </Box>\r\n        {/* accountAddress */}\r\n        <Button\r\n          color=\"primary\"\r\n          sx={{ pb: 6 }}\r\n          endIcon={<ContentCopy />}\r\n          onClick={handleCopy}\r\n        >\r\n          {truncateMiddle(accountAddress, 5)}\r\n        </Button>\r\n        {/* nickname */}\r\n        <TextField\r\n          error={!!helperText}\r\n          label={local(registerLang.nickname)}\r\n          value={nickname}\r\n          onChange={handleNickname}\r\n          helperText={helperText}\r\n          sx={{ mb: 8 }}\r\n        />\r\n        <LoadingButton\r\n          variant=\"contained\"\r\n          loading={loading}\r\n          onClick={handleSubmit}\r\n        >\r\n          {local(registerLang.submitted)}\r\n        </LoadingButton>\r\n      </Box>\r\n    </BootstrapDialog>\r\n  )\r\n}\r\n","export const NFTS = [\r\n  {\r\n    name: 'Object_1686',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1688',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1690',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1704',\r\n    texture: '',\r\n    z: 50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1672',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1670',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1674',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1676',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1698',\r\n    texture: '',\r\n    z: 50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1702',\r\n    texture: '',\r\n    z: 50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1682',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1678',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1680',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1708',\r\n    texture: '',\r\n    z: 50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1700',\r\n    texture: '',\r\n    z: 50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1660',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1662',\r\n    texture: '',\r\n    z: 50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1658',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1664',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1666',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1668',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1694',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1696',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1684',\r\n    texture: '',\r\n    z: 50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1652',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1706',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  \r\n  \r\n  \r\n  // 2\r\n  {\r\n    name: 'Object_61',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1692',\r\n    texture: '',\r\n    z: 50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_63',\r\n    texture: '',\r\n    z: 50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_65',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 90,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_67',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_69',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_71',\r\n    texture: '',\r\n    z: 50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_59',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 90,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_49',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_47',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 90,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_51',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_53',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 90,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_55',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_57',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 90,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_45',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_41',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 90,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_43',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: -180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_37',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_39',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_27',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_31',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 90,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_29',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: -180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_33',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_35',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_25',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_23',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_17',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_21',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_19',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1656',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  {\r\n    name: 'Object_1654',\r\n    texture: '',\r\n    z: -50,\r\n    rotationX: 180,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n]\r\n","import React, { useEffect, useRef, useState } from 'react'\r\n\r\nimport {\r\n  Cube,\r\n  Dummy,\r\n  Find,\r\n  HTML,\r\n  keyboard,\r\n  Model,\r\n  Plane,\r\n  Reticle,\r\n  ThirdPersonCamera,\r\n  useLoop,\r\n  usePreload,\r\n  useSpring,\r\n  useWindowSize,\r\n  World,\r\n  HTMLMesh,\r\n} from 'lingo3d-react'\r\n\r\nimport { useSnackbar } from 'notistack'\r\n\r\nimport { useAppSelector, useAppDispatch } from '@store/index'\r\nimport {\r\n  setAnswerChannel,\r\n  Play,\r\n  // removePlay,\r\n  addPlay,\r\n  setConnected,\r\n  setModel,\r\n} from '@store/modules/room'\r\n\r\nimport { NFTS } from '@constants/exhibition'\r\n\r\nimport { STATIC } from '@api/config'\r\n\r\nimport { getImgWH } from '@utils/index'\r\nimport { offer } from '@utils/webRTC'\r\n\r\nimport type {\r\n  Dummy as GameDummy,\r\n  ThirdPersonCamera as GameThirdPersonCamera,\r\n  HTMLMesh as GameHTMLMesh,\r\n} from 'lingo3d'\r\n\r\nimport './index.less'\r\n\r\nimport { VolumeUp } from '@mui/icons-material'\r\n\r\ntype aniModelVal = { idle: string, walking: string }\r\n\r\nconst path = (name: string): string => `${STATIC}/model/${name}`\r\nconst initX = 860\r\nconst initY = -360\r\nconst initZ = 994\r\nconst fbxs = ['kazama.fbx', 'ARASHI.fbx', 'AYA.fbx']\r\nconst aniModel: Record<string, aniModelVal> = {\r\n  'kazama.fbx': {\r\n    idle: 'Idle.fbx',\r\n    walking: 'Walking.fbx'\r\n  },\r\n  'ARASHI.fbx': {\r\n    idle: 'ARASHI_Idle.fbx',\r\n    walking: 'ARASHI_Walking.fbx'\r\n  },\r\n  'AYA.fbx': {\r\n    idle: 'Idle.fbx',\r\n    walking: 'Walking.fbx'\r\n  },\r\n}\r\n\r\ninterface Position {\r\n  x: number\r\n  y: number\r\n  z: number\r\n}\r\n\r\nexport default (): JSX.Element => {\r\n  let timer: NodeJS.Timeout | undefined\r\n\r\n  const modules = [...fbxs, ...fbxs, ...fbxs, ...fbxs, ...fbxs]\r\n\r\n  const progress = usePreload(\r\n    [\r\n      path('env.hdr'),\r\n      path('galleryBK.glb'),\r\n      path('kazama.fbx'),\r\n      path('ARASHI.fbx'),\r\n      path('AYA.fbx'),\r\n      path('Idle.fbx'),\r\n      path('Walking.fbx'),\r\n      path('ARASHI_Idle.fbx'),\r\n      path('ARASHI_Walking.fbx'),\r\n    ],\r\n    '38.7mb'\r\n  )\r\n\r\n  const { enqueueSnackbar } = useSnackbar()\r\n\r\n  const { nickname, socket } = useAppSelector((store) => store.user)\r\n  const { playes, room, initPlays } = useAppSelector((store) => store.room)\r\n  const { accountAddress } = useAppSelector((store) => store.wallet)\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  const [position, setPosition] = useState<Record<string, Position>>({})\r\n  const [walking, setWalking] = useState<Record<string, boolean>>({})\r\n  const [talking, setTalking] = useState<Record<string, boolean>>({})\r\n\r\n  // \r\n  const [mouseOver, setMouseOver] = useState<boolean[]>(\r\n    new Array(NFTS.length).fill(false)\r\n  )\r\n  const mouseOverState = mouseOver.some((item) => item)\r\n  const camX = mouseOverState ? 50 : 0\r\n  const camY = mouseOverState ? 100 : 100\r\n  const camZ = mouseOverState ? 100 : 300\r\n  const xSpring = useSpring({ to: camX, bounce: 0 })\r\n  const ySpring = useSpring({ to: camY, bounce: 0 })\r\n  const zSpring = useSpring({ to: camZ, bounce: 0 })\r\n  const changeMouseOver = (index: number, state: boolean) => {\r\n    const _mouseOver = [...mouseOver]\r\n    _mouseOver.splice(index, 1, state)\r\n    setMouseOver(_mouseOver)\r\n  }\r\n\r\n  // adjust camera FOV based on window size\r\n  // FOV\r\n  const windowSize = useWindowSize()\r\n  const fov = windowSize.width < windowSize.height ? 100 : 90\r\n\r\n  const dummyRef = useRef<GameDummy>(null)\r\n  const cameraRef = useRef<GameThirdPersonCamera>(null)\r\n  const nameRef = useRef<GameHTMLMesh>(null)\r\n  const remoteDummyRef = useRef<Record<string, GameDummy | null>>({})\r\n  const remoteNameRef = useRef<Record<string, GameHTMLMesh | null>>({})\r\n  const remoteAudioRef = useRef<Record<string, HTMLAudioElement | null>>({})\r\n\r\n  // \r\n  const handleIntersect = (key: string) => {\r\n    setTimeout(() => {\r\n      const { x, y, z } = position[key]\r\n      remoteDummyRef.current[key]!.x = x\r\n      remoteDummyRef.current[key]!.y = y\r\n      remoteDummyRef.current[key]!.z = z\r\n    }, 300)\r\n    clearTimeout(timer)\r\n    timer = setTimeout(() => {\r\n      timer = undefined\r\n      const _walking = { ...walking }\r\n      _walking[key] = false\r\n      setWalking(_walking)\r\n    }, 300)\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const message = (event: MessageEvent<any>) => {\r\n    const { type, data } = JSON.parse(event.data)\r\n    if (type === 'position') {\r\n      const { x, y, z, key } = data\r\n      remoteDummyRef.current[key]?.lookAt({ x, y, z })\r\n      const _positions = { ...position }\r\n      _positions[key] = { x, y, z }\r\n      setPosition(_positions)\r\n      const _walking = { ...walking }\r\n      _walking[key] = true\r\n      setWalking(_walking)\r\n    } else if (type === 'init') {\r\n      const { key, model, position } = data\r\n      dispatch(setModel([key, model, position]))\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!room) return\r\n    // nft\r\n    NFTS.forEach(async (nft, index) => {\r\n      const url = room.nft[index]\r\n      const [width, height] = await getImgWH(url)\r\n      nft.texture = url\r\n      nft.width = width\r\n      nft.height = height\r\n    })\r\n\r\n    // join online play\r\n    initPlays.forEach(async (play) => {\r\n      const media = { video: false, audio: true }\r\n      const isMeta = true\r\n      const toId = play.id\r\n      const type = 'room'\r\n\r\n      const { pc, dataChannel, localStream } = await offer({ media, isMeta })\r\n      const _play: Play = {\r\n        ...play,\r\n        identity: 'answer',\r\n        pc,\r\n        dataChannel,\r\n        localStream: localStream!,\r\n        audioContext: new AudioContext(),\r\n        stream: undefined,\r\n        connected: false,\r\n      }\r\n      dispatch(addPlay(_play))\r\n\r\n      pc.onicecandidate = (event) => {\r\n        if (event.candidate)\r\n          socket?.emit('candidate', {\r\n            type,\r\n            candidate: event.candidate,\r\n            toId,\r\n          })\r\n      }\r\n\r\n      socket?.emit('offer', {\r\n        offer: pc.localDescription,\r\n        toId,\r\n        type,\r\n        media,\r\n        isMeta,\r\n        play: {\r\n          name: nickname,\r\n          id: accountAddress\r\n        },\r\n      })\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    // WASD\r\n    keyboard.onKeyPress = (_, keys) => {\r\n      const dummy = dummyRef.current\r\n      const speed = 2.4\r\n      if (!dummy) return\r\n\r\n      if (keys.has('w')) {\r\n        dummy.strideForward = -speed\r\n      } else if (keys.has('s')) {\r\n        dummy.strideForward = speed\r\n      } else if (keys.has('a')) {\r\n        dummy.strideRight = speed\r\n      } else if (keys.has('d')) {\r\n        dummy.strideRight = -speed\r\n      } else {\r\n        dummy.strideForward = 0\r\n        dummy.strideRight = 0\r\n      }\r\n\r\n      const { x, y, z } = dummy\r\n\r\n      const data = {\r\n        type: 'position',\r\n        data: { x, y, z, key: accountAddress },\r\n      }\r\n      const value = JSON.stringify(data)\r\n      Object.keys(playes).forEach((key) => {\r\n        const play = playes[key]\r\n        console.log(`send ${play?.name} type ${data.type}`)\r\n        try {\r\n          if (play && play.connected) play.dataChannel?.send(value)\r\n        } catch (error) {\r\n\r\n        }\r\n      })\r\n    }\r\n\r\n    const keys = Object.keys(playes)\r\n    keys.forEach((key) => {\r\n      const play = playes[key]\r\n      if (!play.pc) return\r\n      play.pc.ondatachannel = (event) => {\r\n        const dataChannel = event.channel\r\n        if (!play.dataChannel) dispatch(setAnswerChannel({ key, dataChannel }))\r\n      }\r\n\r\n      if (play.dataChannel)\r\n        play.dataChannel.onmessage = message\r\n\r\n      if (play.pc?.connectionState !== 'connected' && play.candidate) {\r\n        play.pc?.addIceCandidate(new RTCIceCandidate(play.candidate))\r\n      }\r\n\r\n      const _positions = { ...position }\r\n      _positions[key] = { x: 0, y: 0, z: 0 }\r\n      setPosition(_positions)\r\n      const _walking = { ...walking }\r\n      _walking[key] = false\r\n      setWalking(_walking)\r\n      const _talking = { ...talking }\r\n      _talking[key] = false\r\n      setTalking(_talking)\r\n\r\n      // \r\n      if (remoteAudioRef.current[key] && play.stream) {\r\n        const { stream, audioContext } = play\r\n        remoteAudioRef.current[key]!.srcObject = stream\r\n\r\n        // \r\n        const mediaStreamSource = audioContext.createMediaStreamSource(stream)\r\n        const scriptProcessor = audioContext.createScriptProcessor(4096, 1, 1)\r\n        mediaStreamSource.connect(scriptProcessor)\r\n        scriptProcessor.connect(audioContext.destination)\r\n        scriptProcessor.onaudioprocess = (e) => {\r\n          const buffer = e.inputBuffer.getChannelData(0)\r\n          // \r\n          // eslint-disable-next-line prefer-spread\r\n          const maxVal = Math.max.apply(Math, buffer as unknown as number[])\r\n          // \r\n          const _talking = { ...talking }\r\n          _talking[key] = Math.ceil(maxVal * 100) > 10\r\n          setTalking({ ..._talking })\r\n        }\r\n      }\r\n    })\r\n\r\n  }, [playes])\r\n\r\n  // \r\n  useLoop(\r\n    () => {\r\n      Object.keys(walking).forEach((key) => {\r\n        if (!walking[key]) return\r\n        const dummy = remoteDummyRef.current[key]\r\n        dummy?.moveForward(-2.3)\r\n      })\r\n    },\r\n    Object.values(walking).some((walk) => walk)\r\n  )\r\n  useLoop(\r\n    () => {\r\n      const _playes = { ...playes }\r\n      Object.keys(_playes).forEach((key) => {\r\n        const play = playes[key]\r\n        if (play.pc?.connectionState === 'connected' && !play.connected) {\r\n          dispatch(setConnected(key))\r\n          const data = {\r\n            type: 'init',\r\n            data: {\r\n              key: accountAddress,\r\n              model: modules[initPlays.length],\r\n              position: {\r\n                x: dummyRef.current ? dummyRef.current.x : initX,\r\n                y: dummyRef.current ? dummyRef.current.y + 15 : initY,\r\n                z: dummyRef.current ? dummyRef.current.z : initX,\r\n              }\r\n            }\r\n          }\r\n          play.dataChannel?.send(JSON.stringify(data))\r\n          if (play.identity === 'offer') {\r\n            enqueueSnackbar(`Join In ${play.name}`, {\r\n              variant: 'success',\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n    Object.values(playes).some((playe) => !playe.connected)\r\n  )\r\n\r\n  useLoop(() => {\r\n    if (!cameraRef.current || !nameRef.current) return\r\n    nameRef.current.lookAt(cameraRef.current)\r\n    Object.values(remoteNameRef.current).forEach((remoteName) =>\r\n      remoteName?.lookAt(cameraRef.current!)\r\n    )\r\n  }, true)\r\n\r\n  return (\r\n    <>\r\n      {progress < 100 ? (\r\n        <div className=\"meta_loading\">loading {Math.floor(progress)}%</div>\r\n      ) : (\r\n        <World\r\n          defaultLight={path('env.hdr')}\r\n          skybox={path('env.hdr')}\r\n          bloom\r\n          // bloomStrength={0.2}\r\n          bloomRadius={1}\r\n          bloomThreshold={0.8}\r\n          // repulsion={1}\r\n          outlineColor=\"gold\"\r\n          outlineHiddenColor=\"white\"\r\n          outlinePulse={1000}\r\n        >\r\n          {/* gallery model */}\r\n          {/*  */}\r\n          <Model\r\n            metalnessFactor={-1.1}\r\n            roughnessFactor={1.5}\r\n            src={path('galleryBK.glb')}\r\n            scale={10}\r\n            physics=\"map\"\r\n          >\r\n            {/* find the artwork of name \"a6_CRN.a6_0\" */}\r\n            {/*  \"a6_CRN.a6_0\"  */}\r\n            {NFTS.map((nft, index) => (\r\n              <Find\r\n                key={index}\r\n                name={nft.name}\r\n                outline={mouseOver[index]}\r\n                onMouseOver={() => changeMouseOver(index, true)}\r\n                onMouseOut={() => changeMouseOver(index, false)}\r\n              >\r\n                <Plane\r\n                  texture={nft.texture}\r\n                  z={nft.z}\r\n                  rotationZ={180}\r\n                  rotationX={nft.rotationX}\r\n                />\r\n                {mouseOver[index] && (\r\n                  <HTML>\r\n                    <div className=\"nft_big_img\">\r\n                      {nft.width > nft.height ? (\r\n                        <img src={nft.texture} width={nft.width} />\r\n                      ) : (\r\n                        <img src={nft.texture} height={nft.height} />\r\n                      )}\r\n                    </div>\r\n                  </HTML>\r\n                )}\r\n              </Find>\r\n            ))}\r\n          </Model>\r\n\r\n          <ThirdPersonCamera\r\n            ref={cameraRef}\r\n            mouseControl\r\n            active\r\n            innerY={ySpring}\r\n            innerZ={zSpring}\r\n            innerX={xSpring}\r\n            fov={fov}\r\n            lockTargetRotation=\"dynamic-lock\"\r\n          >\r\n            <Dummy\r\n              ref={dummyRef}\r\n              physics=\"character\"\r\n              x={initX}\r\n              y={initY}\r\n              z={initZ}\r\n              width={15}\r\n              height={65}\r\n              scale={2}\r\n              lookAt={[8000, 0, 0]}\r\n              roughnessFactor={0}\r\n              metalnessFactor={0.3}\r\n              // src={path('kazama.fbx')}\r\n              src={path(modules[initPlays.length])}\r\n              animations={{\r\n                idle: path(aniModel[modules[initPlays.length]].idle),\r\n                running: path(aniModel[modules[initPlays.length]].walking),\r\n              }}\r\n              strideMove\r\n            >\r\n              <HTMLMesh ref={nameRef} y={42} scale={0.6}>\r\n                <p style={{ fontSize: '12px' }}>{nickname}</p>\r\n              </HTMLMesh>\r\n            </Dummy>\r\n          </ThirdPersonCamera>\r\n          {/*  */}\r\n          {Object.keys(playes).map((key) => {\r\n            const play = playes[key]\r\n            if (play.connected && play.model) {\r\n              return (\r\n                <Dummy\r\n                  key={key}\r\n                  ref={(el) => (remoteDummyRef.current[key] = el)}\r\n                  physics=\"character\"\r\n                  x={play.position?.x}\r\n                  y={play.position?.y}\r\n                  z={play.position?.z}\r\n                  width={15}\r\n                  height={65}\r\n                  scale={2}\r\n                  roughnessFactor={0}\r\n                  metalnessFactor={0.3}\r\n                  animation={walking[key] ? 'walking' : 'idle'}\r\n                  strideMove\r\n                  intersectIds={[`cursor-${key}`]}\r\n                  onIntersect={() => handleIntersect(key)}\r\n                  src={path(play.model)}\r\n                  animations={{\r\n                    idle: path(aniModel[play.model].idle),\r\n                    walking: path(aniModel[play.model].walking),\r\n                  }}\r\n                >\r\n                  <HTML>\r\n                    {talking[key] && <VolumeUp className=\"player_talk\" />}\r\n                    <audio\r\n                      style={{\r\n                        position: 'absolute',\r\n                        left: '-2000px',\r\n                        visibility: 'hidden',\r\n                      }}\r\n                      ref={(el) => (remoteAudioRef.current[key] = el)}\r\n                      autoPlay\r\n                    ></audio>\r\n                  </HTML>\r\n                  <div>\r\n                    <HTMLMesh\r\n                      ref={(el) => (remoteNameRef.current[key] = el)}\r\n                      y={42}\r\n                      scale={0.6}\r\n                    >\r\n                      <p style={{ fontSize: '12px' }}>{play.name}</p>\r\n                    </HTMLMesh>\r\n                  </div>\r\n                </Dummy>\r\n              )\r\n            } else {\r\n              return <Cube key={play.id + 'dummy'} visible={false} />\r\n            }\r\n          })}\r\n          {/*  */}\r\n          {Object.keys(playes).map((key) => {\r\n            const play = playes[key]\r\n            const connected = play.connected\r\n            return (\r\n              <Cube\r\n                key={key}\r\n                id={`cursor-${key}`}\r\n                visible={false}\r\n                scale={0.1}\r\n                x={connected ? position[key].x : 0}\r\n                y={connected ? position[key].y : 0}\r\n                z={connected ? position[key].z : 0}\r\n              />\r\n            )\r\n          })}\r\n          {/*  */}\r\n          <Reticle />\r\n        </World>\r\n      )}\r\n    </>\r\n  )\r\n}","import React from 'react'\r\n\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  styled,\r\n  Button,\r\n} from '@mui/material'\r\n\r\nimport { useAppDispatch, useAppSelector } from '@store/index'\r\nimport { initWebRTCState } from '@store/modules/webRTC'\r\nimport { initRoom } from '@store/modules/room'\r\n\r\nimport langHook from '@hooks/localHook'\r\nimport { metaLang } from '@langs/index'\r\n\r\nexport interface MwnuProps {\r\n  open: boolean\r\n  setOpen: (value: boolean) => void\r\n}\r\n\r\nconst BootstrapDialog = styled(Dialog)(() => ({\r\n  '& .MuiPaper-root': {\r\n    backgroundColor: '#000',\r\n  },\r\n}))\r\n\r\nexport default ({ open, setOpen }: MwnuProps): JSX.Element => {\r\n  const { roomOpen } = useAppSelector((store) => store.dialog)\r\n  const { room } = useAppSelector((store) => store.room)\r\n  const { socket } = useAppSelector((store) => store.user)\r\n  const dispatch = useAppDispatch()\r\n\r\n  const loacl = langHook()\r\n\r\n  const handleClose = () => {\r\n    if (roomOpen) {\r\n      socket?.emit('quit', { room: room?.id })\r\n      dispatch(initRoom())\r\n    } else {\r\n      dispatch(initWebRTCState())\r\n    }\r\n\r\n    setOpen(false)\r\n  }\r\n\r\n  return (\r\n    <BootstrapDialog onClose={() => setOpen(false)} open={open}>\r\n      <DialogTitle>{loacl(metaLang.menu)}</DialogTitle>\r\n      <DialogContent>\r\n        <Button\r\n          variant=\"outlined\"\r\n          size=\"large\"\r\n          sx={{ width: 200 }}\r\n          onClick={handleClose}\r\n        >\r\n          {loacl(metaLang.close)}\r\n        </Button>\r\n      </DialogContent>\r\n    </BootstrapDialog>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nimport { Dialog, DialogContent, IconButton, Slide, styled } from '@mui/material'\r\n\r\nimport { useAppSelector } from '@store/index'\r\n\r\nimport Lingo3D from './Lingo3D'\r\nimport Menu from './Menu'\r\n\r\nimport type { TransitionProps } from '@mui/material/transitions'\r\n\r\nimport { DensityMedium } from '@mui/icons-material'\r\n\r\nconst Transition = React.forwardRef(function Transition(\r\n  props: TransitionProps & {\r\n    children: React.ReactElement\r\n  },\r\n  ref: React.Ref<unknown>\r\n) {\r\n  return <Slide direction=\"down\" ref={ref} {...props} />\r\n})\r\n\r\nconst BootstrapDialog = styled(Dialog)(() => ({\r\n  '& .MuiPaper-root': {\r\n    backgroundColor: '#000'\r\n  },\r\n}))\r\n\r\nexport default (): JSX.Element => {\r\n  const { metaOpen } = useAppSelector((store) => store.dialog)\r\n\r\n  const [open, setOpen] = useState(false)\r\n\r\n  return (\r\n    <>\r\n      <BootstrapDialog fullScreen open={metaOpen} TransitionComponent={Transition}>\r\n        <DialogContent sx={{ position: 'relative' }}>\r\n          <Lingo3D />\r\n          <IconButton\r\n            sx={{\r\n              position: 'absolute',\r\n              right: 16,\r\n              top: 16,\r\n            }}\r\n            onClick={() => setOpen(true)}\r\n          >\r\n            <DensityMedium sx={{ color: '#fff' }} />\r\n          </IconButton>\r\n        </DialogContent>\r\n      </BootstrapDialog>\r\n      <Menu open={open} setOpen={setOpen} />\r\n    </>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n} from '@mui/material'\r\n\r\nimport { NFTS } from '@constants/exhibition'\r\n\r\nimport { userApi } from '@api/index'\r\n\r\ninterface CreateRoomProps {\r\n  open: boolean\r\n  setOpen: (value: boolean) => void\r\n}\r\n\r\nexport default ({ open, setOpen }: CreateRoomProps): JSX.Element => {\r\n  const [name, setName] = useState('')\r\n  const [nfts, setNfts] = useState<string[]>(new Array(NFTS.length).fill(''))\r\n\r\n  const changeNft = (index: number, value: string) => {\r\n    const _nfts = [...nfts]\r\n    _nfts.splice(index, 1, value)\r\n    setNfts(_nfts)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    if (!name) return\r\n    const res = await userApi.create_room(name, nfts)\r\n    if (res) handleClose()\r\n  }\r\n\r\n  return (\r\n    <Dialog fullWidth open={open} onClose={handleClose}>\r\n      <DialogTitle>Create Room</DialogTitle>\r\n      <DialogContent>\r\n        <TextField\r\n          margin=\"dense\"\r\n          id=\"name\"\r\n          label=\"Room Name\"\r\n          fullWidth\r\n          variant=\"standard\"\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        {nfts.map((_, index) => (\r\n          <TextField\r\n            key={index}\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label={`#${index + 1} nft`}\r\n            fullWidth\r\n            variant=\"standard\"\r\n            onChange={(e) => changeNft(index, e.target.value)}\r\n          />\r\n        ))}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose}>Cancel</Button>\r\n        <Button onClick={handleSubmit}>Create</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControl,\r\n  FormGroup,\r\n  FormControlLabel,\r\n  Checkbox,\r\n} from '@mui/material'\r\n\r\nimport { useAppSelector } from '@store/index'\r\n\r\nimport { nftApi } from '@api/index'\r\n\r\ninterface CreateRoomProps {\r\n  open: boolean\r\n  setOpen: (value: boolean) => void\r\n}\r\n\r\nexport default ({ open, setOpen }: CreateRoomProps): JSX.Element => {\r\n  const { friends } = useAppSelector((store) => store.friends)\r\n  const [nfts, setNfts] = useState<string[]>([])\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const _nfts = [...nfts]\r\n    const name = event.target.name\r\n    if (event.target.checked) {\r\n      _nfts.push(name)\r\n    } else {\r\n      const index = _nfts.findIndex((nft) => nft === name)\r\n      _nfts.splice(index, 1)\r\n    }\r\n    setNfts(_nfts)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n  }\r\n\r\n  const handleSend = async () => {\r\n    const res = await nftApi.nft_mint(nfts)\r\n    if (res) handleClose()\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleClose}>\r\n      <DialogTitle>Send NFT</DialogTitle>\r\n      <DialogContent>\r\n        <FormControl sx={{ m: 3 }} component=\"fieldset\" variant=\"standard\">\r\n          <FormGroup>\r\n            {friends.map((friend) => (\r\n              <FormControlLabel\r\n                key={friend.account_id}\r\n                control={\r\n                  <Checkbox\r\n                    // checked={gilad}\r\n                    onChange={handleChange}\r\n                    name={friend.account_id}\r\n                  />\r\n                }\r\n                label={friend.name}\r\n              />\r\n            ))}\r\n          </FormGroup>\r\n        </FormControl>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose}>Cancel</Button>\r\n        <Button onClick={handleSend}>Send</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport {\r\n  AppBar,\r\n  Button,\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  Dialog,\r\n  DialogContent,\r\n  Fab,\r\n  IconButton,\r\n  Slide,\r\n  Toolbar,\r\n  Typography,\r\n} from '@mui/material'\r\n\r\nimport { ThemeProvider, createTheme } from '@mui/material/styles'\r\n\r\nimport { userApi } from '@api/index'\r\n\r\nimport { useAppSelector, useAppDispatch } from '@store/index'\r\nimport { setRoom, setMeta } from '@store/modules/dialog'\r\nimport { changeRoom, setInitPlays } from '@store/modules/room'\r\n\r\nimport CreateRoom from './CreateRoom'\r\nimport SendNft from './SendNft'\r\n\r\nimport type { TransitionProps } from '@mui/material/transitions'\r\nimport type { Room } from '@store/modules/room'\r\n\r\nimport { Add, Close } from '@mui/icons-material'\r\n\r\nconst Transition = React.forwardRef(function Transition(\r\n  props: TransitionProps & {\r\n    children: React.ReactElement\r\n  },\r\n  ref: React.Ref<unknown>\r\n) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n})\r\n\r\nexport default (): JSX.Element => {\r\n  const theme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#000000',\r\n      },\r\n    },\r\n  })\r\n\r\n  const { roomOpen } = useAppSelector((store) => store.dialog)\r\n  const { accountAddress } = useAppSelector((store) => store.wallet)\r\n  const { room } = useAppSelector((store) => store.room)\r\n  const { socket, nickname } = useAppSelector((store) => store.user)\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  const [open, setOpen] = useState(false)\r\n  const [openNft, setOpenNft] = useState(false)\r\n  const [roomList, setRoomList] = useState<Room[]>([])\r\n\r\n  const getList = async () => {\r\n    const _list = await userApi.get_room_list()\r\n    setRoomList(_list.map((item) => item[1]))\r\n  }\r\n\r\n  const handleRemoveRoom = async (id: number) => {\r\n    const res = await userApi.destory_room(id)\r\n    if (res) getList()\r\n  }\r\n\r\n  const handleJoin = async (room: Room) => {\r\n    socket?.emit('join', {\r\n      room: room.id,\r\n      play: {\r\n        name: nickname,\r\n        id: accountAddress\r\n      }\r\n    })\r\n    socket?.on('join', ({plays}) => {\r\n      if (!plays) return \r\n      dispatch(changeRoom(room))\r\n      dispatch(setInitPlays(plays))\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!open && roomOpen) getList()\r\n  }, [open])\r\n\r\n  useEffect(() => {\r\n    if (roomOpen) getList()\r\n  }, [roomOpen])\r\n\r\n  useEffect(() => {\r\n    if (room) dispatch(setMeta(true))\r\n  }, [room])\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Dialog fullScreen open={roomOpen} TransitionComponent={Transition}>\r\n        <AppBar\r\n          sx={{ display: 'flex', alignItems: 'end', position: 'relative' }}\r\n        >\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => dispatch(setRoom(false))}\r\n              aria-label=\"close\"\r\n            >\r\n              <Close />\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <DialogContent\r\n          sx={{\r\n            position: 'relative',\r\n            backgroundColor: '#f0f2f5',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n          }}\r\n        >\r\n          {roomList.map((room) => (\r\n            <Card key={room.id} sx={{ width: 300, height: 120, ml: 5, mb: 5 }}>\r\n              <CardContent>\r\n                <Typography variant=\"h5\" component=\"div\">\r\n                  {room.name}\r\n                </Typography>\r\n              </CardContent>\r\n              <CardActions>\r\n                <Button size=\"small\" onClick={() => handleJoin(room)}>\r\n                  Join in\r\n                </Button>\r\n                {accountAddress === room.owner && (\r\n                  <>\r\n                    <Button\r\n                      color=\"error\"\r\n                      size=\"small\"\r\n                      onClick={() => handleRemoveRoom(room.id)}\r\n                    >\r\n                      Remove Room\r\n                    </Button>\r\n                    <Button\r\n                      size=\"small\"\r\n                      onClick={() => setOpenNft(true)}\r\n                    >\r\n                      Send NFT\r\n                    </Button>\r\n                  </>\r\n                )}\r\n              </CardActions>\r\n            </Card>\r\n          ))}\r\n          <Fab\r\n            sx={{\r\n              position: 'absolute',\r\n              bottom: 32,\r\n              right: 32,\r\n            }}\r\n            onClick={() => setOpen(true)}\r\n          >\r\n            <Add />\r\n          </Fab>\r\n        </DialogContent>\r\n      </Dialog>\r\n      <CreateRoom open={open} setOpen={setOpen} />\r\n      <SendNft open={openNft} setOpen={setOpenNft} />\r\n    </ThemeProvider>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport {\r\n  AppBar,\r\n  Card,\r\n  CardContent,\r\n  Dialog,\r\n  DialogContent,\r\n  IconButton,\r\n  Slide,\r\n  Toolbar,\r\n  Typography,\r\n} from '@mui/material'\r\n\r\nimport { ThemeProvider, createTheme } from '@mui/material/styles'\r\n\r\nimport { nftApi } from '@api/index'\r\n\r\nimport { useAppSelector, useAppDispatch } from '@store/index'\r\nimport { setNft } from '@store/modules/dialog'\r\n\r\nimport type { TransitionProps } from '@mui/material/transitions'\r\nimport type { Token } from '@api/nft'\r\n\r\nimport { Close } from '@mui/icons-material'\r\n\r\nconst Transition = React.forwardRef(function Transition(\r\n  props: TransitionProps & {\r\n    children: React.ReactElement\r\n  },\r\n  ref: React.Ref<unknown>\r\n) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n})\r\n\r\nexport default (): JSX.Element => {\r\n  const theme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#000000',\r\n      },\r\n    },\r\n  })\r\n\r\n  const { nftOpen } = useAppSelector((store) => store.dialog)\r\n  const { accountAddress } = useAppSelector((store) => store.wallet)\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  const [nftList, setNftList] = useState<Token[]>([])\r\n\r\n  const getSelfNft = async () => {\r\n    const _nftList = await nftApi.nft_tokens_owner(accountAddress)\r\n    setNftList(_nftList)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (nftOpen) getSelfNft()\r\n  }, [nftOpen])\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Dialog fullScreen open={nftOpen} TransitionComponent={Transition}>\r\n        <AppBar\r\n          sx={{ display: 'flex', alignItems: 'end', position: 'relative' }}\r\n        >\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={() => dispatch(setNft(false))}\r\n              aria-label=\"close\"\r\n            >\r\n              <Close />\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <DialogContent\r\n          sx={{\r\n            position: 'relative',\r\n            backgroundColor: '#f0f2f5',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n          }}\r\n        >\r\n          {nftList.map((nft) => (\r\n            <Card key={nft.token_id} sx={{ height: 260, ml: 5, mb: 5 }}>\r\n              <CardContent>\r\n                <Typography component=\"p\">{nft.metadata.title}</Typography>\r\n                <img\r\n                  src={nft.metadata.media}\r\n                  style={{ width: '217px', height: '200px', marginTop: '8px' }}\r\n                />\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nimport Stream from './Stream'\r\nimport Wallte from './Wallte'\r\nimport Register from './Register'\r\nimport Meta from './Meta'\r\nimport Room from './Room'\r\nimport Nft from './Nft'\r\n\r\nexport default (): JSX.Element => {\r\n  return (\r\n    <>\r\n      <Stream />\r\n      <Wallte />\r\n      <Register />\r\n      <Register />\r\n      <Meta />\r\n      <Room />\r\n      <Nft />\r\n    </>\r\n  )\r\n}\r\n","import { create, IPFS } from 'ipfs-core'\r\n\r\nlet _ipfs: IPFS | undefined = undefined\r\n\r\nconst createIpfs = async () => {\r\n  if (_ipfs) return _ipfs\r\n  return (_ipfs = await create())\r\n}\r\n\r\nexport const add = async (file: File): Promise<string> => {\r\n  const ipfs = await createIpfs()\r\n\r\n  try {\r\n    const added = await ipfs.add(file)\r\n    return added.cid.toString()\r\n  } catch (error) {\r\n    throw Error(error as string)\r\n  }\r\n}\r\n\r\nexport const cat = async <T>(cids: string[]): Promise<T[]> => {\r\n  const ipfs = await createIpfs()\r\n\r\n  const examJson: Promise<T>[] = []\r\n\r\n  cids.forEach((cid) => {\r\n    examJson.push(\r\n      new Promise(async (resolve) => {\r\n        const cated = await ipfs.cat(cid)\r\n        for await (const current of cated) {\r\n          resolve(JSON.parse(utf8ArrayToStr(current)))\r\n        }\r\n      })\r\n    )\r\n  })\r\n\r\n  return await Promise.all(examJson)\r\n}\r\n\r\nexport const path = (hash: string): string => `https://ipfs.io/ipfs/${hash}`\r\n\r\nconst utf8ArrayToStr = (array: Uint8Array): string => {\r\n  const len = array.length\r\n  let out, i, c, char2, char3\r\n\r\n  out = ''\r\n\r\n  i = 0\r\n  while (i < len) {\r\n    c = array[i++]\r\n    switch (c >> 4) {\r\n      case 0:\r\n      case 1:\r\n      case 2:\r\n      case 3:\r\n      case 4:\r\n      case 5:\r\n      case 6:\r\n      case 7:\r\n        out += String.fromCharCode(c)\r\n        break\r\n      case 12:\r\n      case 13:\r\n        char2 = array[i++]\r\n        out += String.fromCharCode(((c & 0x1f) << 6) | (char2 & 0x3f))\r\n        break\r\n      case 14:\r\n        char2 = array[i++]\r\n        char3 = array[i++]\r\n        out += String.fromCharCode(\r\n          ((c & 0x0f) << 12) | ((char2 & 0x3f) << 6) | ((char3 & 0x3f) << 0)\r\n        )\r\n        break\r\n    }\r\n  }\r\n\r\n  return out\r\n}\r\n"],"names":["styled","TextField","theme","color","borderColor","palette","primary","main","Transition","React","props","ref","Slide","direction","streamOpen","useAppSelector","store","dialog","webRTC","friend","pc","isOffer","isAnswer","stream","isVideo","localStream","isMeta","dataChannel","candidate","dispatch","useAppDispatch","audioRef","useRef","videoRef","videoLocalRef","isUse","connected","useEffect","current","srcObject","setMeta","connectionState","Dialog","open","TransitionComponent","keepMounted","DialogContent","Box","sx","width","height","display","flexDirection","justifyContent","alignItems","overflow","position","className","autoPlay","muted","style","marginBottom","src","path","image","Typography","name","createAudio","Skeleton","variant","mb","fontSize","CircularProgress","mt","DialogActions","pl","pr","IconButton","size","onClick","creatAnswer","Call","initWebRTCState","CallEnd","BootstrapDialog","paddingLeft","spacing","paddingRight","paddingTop","paddingBottom","createTheme","typography","body1","enqueueSnackbar","useSnackbar","state","wallet","dialogOpen","connecting","local","langHook","handleClose","setDialogOpen","handleListItemClick","wallte","text","setConnecting","getNearWallet","connectWallet","payload","accountAddress","walletLang","window","onClose","DialogTitle","pb","right","top","grey","Close","List","pt","icon","map","index","ListItem","disabled","button","key","border","borderRadius","ListItemAvatar","Avatar","ThemeProvider","ListItemText","flexGrow","forwardRef","backgroundColor","user","useState","headerImg","setHeaderImg","nickname","setNickname","helperText","setHelperText","loading","setLoading","handleHeaderImg","event","files","target","file","add","hash","handleSubmit","registerLang","userApi","setUser","kind","ExecutionError","autoHideDuration","fullScreen","AppBar","Toolbar","edge","left","opacity","transition","component","hidden","accept","type","onChange","PhotoCamera","Button","endIcon","ContentCopy","navigator","clipboard","writeText","truncateMiddle","error","label","value","LoadingButton","NFTS","texture","z","rotationX","STATIC","fbxs","aniModel","idle","walking","timer","modules","progress","usePreload","socket","room","playes","initPlays","setPosition","setWalking","talking","setTalking","Array","length","fill","mouseOver","setMouseOver","mouseOverState","some","item","camX","camZ","xSpring","useSpring","to","bounce","ySpring","zSpring","changeMouseOver","_mouseOver","splice","windowSize","useWindowSize","fov","dummyRef","cameraRef","nameRef","remoteDummyRef","remoteNameRef","remoteAudioRef","message","JSON","parse","data","x","y","lookAt","_positions","_walking","model","setModel","forEach","nft","url","getImgWH","play","media","video","audio","toId","id","offer","_play","identity","audioContext","AudioContext","undefined","addPlay","onicecandidate","emit","localDescription","keyboard","_","keys","dummy","has","strideForward","strideRight","stringify","Object","console","log","send","ondatachannel","channel","setAnswerChannel","onmessage","addIceCandidate","RTCIceCandidate","_talking","mediaStreamSource","createMediaStreamSource","scriptProcessor","createScriptProcessor","connect","destination","onaudioprocess","e","buffer","inputBuffer","getChannelData","maxVal","Math","max","apply","ceil","useLoop","moveForward","values","walk","_playes","setConnected","playe","remoteName","floor","defaultLight","skybox","bloom","bloomRadius","bloomThreshold","outlineColor","outlineHiddenColor","outlinePulse","metalnessFactor","roughnessFactor","scale","physics","outline","onMouseOver","onMouseOut","rotationZ","mouseControl","active","innerY","innerZ","innerX","lockTargetRotation","animations","running","strideMove","el","animation","intersectIds","onIntersect","setTimeout","clearTimeout","handleIntersect","VolumeUp","visibility","visible","setOpen","roomOpen","loacl","metaLang","initRoom","metaOpen","Lingo3D","DensityMedium","Menu","setName","nfts","setNfts","fullWidth","margin","_nfts","changeNft","friends","handleChange","checked","push","findIndex","handleSend","nftApi","FormControl","m","FormGroup","FormControlLabel","account_id","control","Checkbox","openNft","setOpenNft","roomList","setRoomList","getList","_list","handleRemoveRoom","handleJoin","on","plays","changeRoom","setInitPlays","setRoom","flexWrap","Card","ml","CardContent","CardActions","owner","Fab","bottom","Add","CreateRoom","SendNft","nftOpen","nftList","setNftList","getSelfNft","_nftList","setNft","token_id","metadata","title","marginTop","Stream","Wallte","Register","Meta","Room","Nft","_ipfs","createIpfs","create","ipfs","added","cid","toString","Error"],"sourceRoot":""}