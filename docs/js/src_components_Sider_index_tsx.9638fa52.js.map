{"version":3,"file":"js/src_components_Sider_index_tsx.9638fa52.js","mappings":";4xBACA,2pNAiBA,mBACE,IAlBF,IAkBUA,GAAoBC,EAAAA,EAAAA,MAApBD,gBAEFE,GAAQC,EAAAA,EAAAA,KAEd,GAAuDC,EAAAA,EAAAA,KACrD,SAACC,GAAK,OAAKA,EAAMC,OAAO,IADlBA,EAAO,EAAPA,QAASC,EAAkB,EAAlBA,mBAAoBC,EAAa,EAAbA,cAI/BC,GAAWC,EAAAA,EAAAA,MAEmB,GA5BtC,GA4B0BC,EAAAA,EAAAA,UAAS,IA5BnC,EA4BsC,EA5BtC,k5BA4BSC,EAAI,KAAEC,EAAO,KAEdC,EAAM,eA9Bd,EA8Bc,GA9Bd,EA8Bc,UAAG,iFACRF,EAAM,CAAF,yEAEDG,EAAAA,EAAAA,WAAmBH,GAAK,OAC9BC,EAAQ,IACRb,EAAgBE,EAAMc,EAAAA,GAAAA,IAA8B,CAClDC,QAAS,YACT,gDAEFjB,EAAgB,KAAyBkB,KAAKC,eAAgB,CAC5DF,QAAS,QACTG,iBAAkB,MAClB,wDA1CR,+KA4CG,kBAdW,mCAoBZ,OAJAC,EAAAA,EAAAA,YAAU,WACHb,GAAeC,GAASa,EAAAA,EAAAA,IAAsB,GACrD,GAAG,CAAChB,IAGF,gBAAC,IAAG,CACFiB,GAAI,CACFC,MAAO,IACPC,OAAQ,QACRC,GAAI,EACJC,gBAAiB,OACjBC,UAAW,aACXC,YAAa,gCACbC,SAAU,aAIZ,gBAAC,IAAG,CACFP,GAAI,CACFQ,QAAS,OACTC,WAAY,SACZC,GAAI,EACJC,GAAI,MAGN,gBAAC,IAAS,CACRC,MAAOjC,EAAMc,EAAAA,GAAAA,IACbC,QAAQ,WACRmB,KAAK,QACLC,MAAOzB,EACP0B,SAAU,SAACC,GAAC,OAAK1B,EAAQ0B,EAAEC,OAAOH,MAAM,IAE1C,gBAAC,IAAU,CAACd,GAAI,CAAEkB,GAAI,GAAKC,QAAS5B,GAClC,gBAAC,IAAU,QAIf,gBAAC,IAAG,CACFS,GAAI,CACFC,MAAO,OACPC,OAAQ,sBACRkB,QAAS,qBAGX,gBAAC,IAAI,CACHC,YAAY,WACZ3B,QAAQ,aACRoB,MAAO9B,EACP+B,SAAU,SAACO,EAAGC,GAAC,OAAKrC,GAASa,EAAAA,EAAAA,IAAsBwB,GAAG,EACtDvB,GAAI,CACFC,MAAO,OACPC,OAAQ,OACRI,YAAa,EACbkB,YAAa,YAGdzC,EAAQ0C,KAAI,SAACC,EAAQC,GACpB,OACE,gBAAC,IAAG,CACFC,IAAKF,EAAOG,KACZjB,MAAOc,EAAOI,KAEZC,GAAI,gBAAF,OAAkBJ,GACpB,gBAAiB,qBAAF,OAAuBA,IAI9C,MAKF,gBAAC,IAAG,KACF,gBAAC,IAAM,CACLd,KAAK,QACLmB,MAAM,UACNhC,GAAI,CAAEC,MAAO,OAAQC,OAAQ,IAC7B+B,UAAW,gBAAC,IAAW,MACvBd,QAAS,kBAAMjC,GAASgD,EAAAA,EAAAA,MAAmB,GAE1CvD,EAAMc,EAAAA,GAAAA,MAMlB","sources":["webpack://sourcedao-pc-dapp/./src/components/Sider/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\n\nimport { Box, Button, TextField, IconButton, Tabs, Tab } from '@mui/material'\n\nimport { useSnackbar } from 'notistack'\n\nimport langHook from '@hooks/localHook'\nimport { siderLang } from '@langs/index'\n\nimport { useAppSelector, useAppDispatch } from '@store/index'\nimport { disconnectWallet } from '@store/modules/wallet'\nimport { setCurrentFriendIndex } from '@store/modules/friends'\n\nimport { userApi, ContractError } from '@api/index'\n\nimport AddBoxIcon from '@mui/icons-material/AddBox'\nimport LinkOffIcon from '@mui/icons-material/LinkOff'\n\nexport default (): JSX.Element => {\n  const { enqueueSnackbar } = useSnackbar()\n\n  const local = langHook()\n\n  const { friends, currentFriendIndex, currentFriend } = useAppSelector(\n    (state) => state.friends\n  )\n\n  const dispatch = useAppDispatch()\n\n  const [text, setText] = useState('')\n\n  const handle = async () => {\n    if (!text) return\n    try {\n      await userApi.add_friend(text)\n      setText('')\n      enqueueSnackbar(local(siderLang.successfulRequest), {\n        variant: 'success',\n      })\n    } catch (error) {\n      enqueueSnackbar((error as ContractError).kind.ExecutionError, {\n        variant: 'error',\n        autoHideDuration: 5000,\n      })\n    }\n  }\n\n  useEffect(() => {\n    if (!currentFriend) dispatch(setCurrentFriendIndex(0))\n  }, [friends])\n\n  return (\n    <Box\n      sx={{\n        width: 300,\n        height: '100vh',\n        pt: 2,\n        backgroundColor: '#fff',\n        boxSizing: 'border-box',\n        borderRight: '1px solid rgba(0, 0, 0, 0.12)',\n        position: 'relative',\n      }}\n    >\n      {/* title */}\n      <Box\n        sx={{\n          display: 'flex',\n          alignItems: 'center',\n          mb: 2,\n          pl: 2.4,\n        }}\n      >\n        <TextField\n          label={local(siderLang.search)}\n          variant=\"outlined\"\n          size=\"small\"\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n        />\n        <IconButton sx={{ ml: 1 }} onClick={handle}>\n          <AddBoxIcon />\n        </IconButton>\n      </Box>\n      {/* list */}\n      <Box\n        sx={{\n          width: '100%',\n          height: 'calc(100vh - 136px)',\n          bgcolor: 'background.paper',\n        }}\n      >\n        <Tabs\n          orientation=\"vertical\"\n          variant=\"scrollable\"\n          value={currentFriendIndex}\n          onChange={(_, i) => dispatch(setCurrentFriendIndex(i))}\n          sx={{\n            width: '100%',\n            height: '100%',\n            borderRight: 1,\n            borderColor: 'divider',\n          }}\n        >\n          {friends.map((friend, index) => {\n            return (\n              <Tab\n                key={friend.hash}\n                label={friend.name}\n                {...{\n                  id: `vertical-tab-${index}`,\n                  'aria-controls': `vertical-tabpanel-${index}`,\n                }}\n              />\n            )\n          })}\n        </Tabs>\n      </Box>\n      {/* disconnect */}\n      {\n        <Box>\n          <Button\n            size=\"large\"\n            color=\"inherit\"\n            sx={{ width: '100%', height: 64 }}\n            startIcon={<LinkOffIcon />}\n            onClick={() => dispatch(disconnectWallet())}\n          >\n            {local(siderLang.disconnect)}\n          </Button>\n        </Box>\n      }\n    </Box>\n  )\n}\n"],"names":["enqueueSnackbar","useSnackbar","local","langHook","useAppSelector","state","friends","currentFriendIndex","currentFriend","dispatch","useAppDispatch","useState","text","setText","handle","userApi","siderLang","variant","kind","ExecutionError","autoHideDuration","useEffect","setCurrentFriendIndex","sx","width","height","pt","backgroundColor","boxSizing","borderRight","position","display","alignItems","mb","pl","label","size","value","onChange","e","target","ml","onClick","bgcolor","orientation","_","i","borderColor","map","friend","index","key","hash","name","id","color","startIcon","disconnectWallet"],"sourceRoot":""}